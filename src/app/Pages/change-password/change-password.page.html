<ion-header #header>
  <ion-toolbar #toolbar class="ion-toolbar-ccs">
    <div>
      <ion-toolbar>
        <ion-row class="logo">
          <ion-col size="4">
            <div class="icon-header">
              <img src="/assets/finallogo.png" width="120" height="70">
            </div>
          </ion-col>
          <ion-col size="8" style="align-self: flex-end">
            <div class="info-header">
              <ion-label *ngIf="usertk" style="font-size: 14px;color: #fff;margin-right: 5px;">{{message_header }}</ion-label>
              <ion-label *ngIf="usertk" style="font-size: 14px;color: #fff;text-transform: capitalize;">{{usertk.name}}</ion-label>
            </div>
          </ion-col>
        </ion-row>
      </ion-toolbar>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-content-login">
  <div class="container-password">
    <ion-card-title class="title-css">Cambio de contraseña</ion-card-title>
    <ion-card-subtitle class="mt-20">Hemos detectado que tu contraseña fue generada automaticamente. Por favor cambia la contraseña para continuar</ion-card-subtitle>
    <div class="mt-30">
      <form [formGroup]="form">
        <ion-item class="item-form">
          <ion-input name="contrasena" [type]="showpassword ? 'text' : 'password'" placeholder="Contraseña" formControlName="password"></ion-input>
          <ion-icon slot="end" [name]="passwordToggleIcon" (click)="showpass()"></ion-icon>
        </ion-item>
        <ion-item class='form-text-error' *ngIf="!form.controls.password.valid && (form.controls.password.touched || form.controls.password.dirty)">
          <ion-label class="l-error">La Contraseña debe tener: <br>1 numero <br> 1 letra Mayuscula <br> 1 letra minuscula <br> y 8 o más caracteres</ion-label>
        </ion-item>
        <ion-item class="item-form">
          <ion-input placeholder="Confirmar Contraseña" [type]="showpasswordConfirm ? 'text' : 'password'" formControlName="password_confirmation" show-password></ion-input>
          <ion-icon slot="end" [name]="passwordToggleIconConfirm" (click)="showpassConfirm()"></ion-icon>
        </ion-item>
        <ion-item class='form-text-error' *ngIf="form.controls.password_confirmation.touched && form.hasError('mismatchedPasswords') && form.controls.password.valid">
          <ion-label no-margin stacked class="l-error">Las contraseñas no coinciden</ion-label>
        </ion-item>
        <div>
          <ion-button class="button-css" type="submit" (click)="changePassword()" [disabled]="!form.valid" expand="block">Cambiar contraseña</ion-button>
        </div>
      </form>
    </div>
  </div>
</ion-content>
