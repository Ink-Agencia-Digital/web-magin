(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"8N13":function(t,e,i){"use strict";i.r(e),i.d(e,"EditPerfilPageModule",(function(){return k}));var o=i("ofXK"),n=i("3Pt+"),a=i("TEn/"),r=i("tyNb"),c=i("sWYD"),l=i("fXoL"),s=i("7Vn+"),d=i("1pHu"),m=i("VnPy"),b=i("8rbx"),u=i("3no8");function h(t,e){1&t&&(l.bc(0,"ion-item",34),l.bc(1,"ion-label"),l.Qc(2,"El nombre debe tener m\xednimo 5 caracteres"),l.ac(),l.ac())}function p(t,e){1&t&&(l.bc(0,"ion-item",34),l.bc(1,"ion-label"),l.Qc(2,"El Apellido debe tener m\xednimo 5 caracteres"),l.ac(),l.ac())}function f(t,e){1&t&&(l.bc(0,"ion-item",34),l.bc(1,"ion-label"),l.Qc(2,"El tel\xe9fono supera el m\xednimo de caracteres permitido"),l.ac(),l.ac())}function g(t,e){1&t&&(l.bc(0,"ion-item",34),l.bc(1,"ion-label"),l.Qc(2,"El correo no es valido"),l.ac(),l.ac())}function v(t,e){1&t&&(l.bc(0,"ion-item",34),l.bc(1,"ion-label"),l.Qc(2,"La instituci\xf3n es incorrecta."),l.ac(),l.ac())}function x(t,e){if(1&t&&(l.bc(0,"ion-select-option",35),l.Qc(1),l.ac()),2&t){const t=e.$implicit;l.vc("value",t.situacion),l.Ib(1),l.Rc(t.situacion)}}function y(t,e){1&t&&(l.bc(0,"ion-item",34),l.bc(1,"ion-label"),l.Qc(2,"El lugar donde vives no es valido"),l.ac(),l.ac())}function w(t,e){if(1&t){const t=l.cc();l.bc(0,"div"),l.bc(1,"form",10),l.bc(2,"ion-item",11),l.Wb(3,"ion-icon",12),l.Wb(4,"ion-input",13),l.ac(),l.Oc(5,h,3,0,"ion-item",14),l.bc(6,"ion-item",11),l.Wb(7,"ion-icon",12),l.Wb(8,"ion-input",15),l.ac(),l.Oc(9,p,3,0,"ion-item",14),l.bc(10,"ion-item",11),l.Wb(11,"ion-icon",16),l.Wb(12,"ion-input",17),l.ac(),l.Oc(13,f,3,0,"ion-item",14),l.bc(14,"ion-item",11),l.Wb(15,"ion-icon",18),l.Wb(16,"ion-input",19),l.ac(),l.Oc(17,g,3,0,"ion-item",14),l.bc(18,"ion-item",11),l.Wb(19,"ion-icon",20),l.Wb(20,"ion-datetime",21),l.ac(),l.bc(21,"ion-label",22),l.Qc(22,"Descr\xedbete y cuenta a la comunidad algo sobre de ti"),l.ac(),l.bc(23,"div",23),l.Wb(24,"textarea",24),l.ac(),l.bc(25,"ion-item",11),l.Wb(26,"ion-icon",25),l.Wb(27,"ion-input",26),l.ac(),l.Oc(28,v,3,0,"ion-item",14),l.bc(29,"ion-item",11),l.Wb(30,"ion-icon",27),l.bc(31,"ion-select",28),l.Oc(32,x,2,2,"ion-select-option",29),l.ac(),l.ac(),l.bc(33,"ion-item",11),l.Wb(34,"ion-icon",30),l.Wb(35,"ion-input",31),l.ac(),l.Oc(36,y,3,0,"ion-item",14),l.bc(37,"div",32),l.bc(38,"ion-button",33),l.jc("click",(function(){return l.Hc(t),l.nc().editar()})),l.Qc(39,"Editar"),l.ac(),l.ac(),l.ac(),l.ac()}if(2&t){const t=l.nc();l.Ib(1),l.uc("formGroup",t.editarForm),l.Ib(4),l.uc("ngIf",!t.editarForm.controls.name.valid&&(t.editarForm.controls.name.touched||t.editarForm.controls.name.dirty)),l.Ib(4),l.uc("ngIf",!t.editarForm.controls.lastname.valid&&(t.editarForm.controls.lastname.touched||t.editarForm.controls.lastname.dirty)),l.Ib(4),l.uc("ngIf",!t.editarForm.controls.phone.valid&&(t.editarForm.controls.phone.touched||t.editarForm.controls.phone.dirty)),l.Ib(4),l.uc("ngIf",!t.editarForm.controls.email.valid&&(t.editarForm.controls.email.touched||t.editarForm.controls.email.dirty)),l.Ib(11),l.uc("ngIf",!t.editarForm.controls.institution.valid&&(t.editarForm.controls.institution.touched||t.editarForm.controls.institution.dirty)),l.Ib(4),l.uc("ngForOf",t.items),l.Ib(4),l.uc("ngIf",!t.editarForm.controls.city.valid&&(t.editarForm.controls.city.touched||t.editarForm.controls.city.dirty)),l.Ib(2),l.uc("disabled",!t.editarForm.valid)}}const F=[{path:"",component:(()=>{class t{constructor(t,e,i,o,n,a){this.auth=t,this.edit=e,this.router=i,this.share=o,this.log=n,this.loadingService=a,this.items=[{situacion:"Soltero"},{situacion:"Casado"}],this.emailPattern=/^[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})/,this.nombrePattern=/^[A-Za-z -]+$/,this.contrasenaPattern=/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/,this.adressPattern=/^[#.0-9a-zA-Z\s,-]+$/,this.phonePatten=/^[0-9]+$/,this.isSubmitted=!1,this.usertk=null,this.getToken()}ngOnInit(){this.loadAuthUser()}getToken(){this.auth.gettokenLog().then(t=>{this.token=t})}loadAuthUser(){this.loadingService.loadingPresent({spinner:"circles"}),this.auth.gettokenLog().then(t=>{this.log.logdataInfData(t).subscribe(t=>{this.usertk=t,this.loadingService.loadingDismiss(),this.inicializarFormulario(this.usertk)},t=>{this.loadingService.loadingDismiss()})})}inicializarFormulario(t){this.editarForm=new n.h({name:new n.f(t.name,[n.v.required,n.v.min(5),n.v.max(35),n.v.pattern(this.nombrePattern)]),lastname:new n.f(t.lastname,[n.v.required,n.v.min(5),n.v.max(35),n.v.pattern(this.nombrePattern)]),birthday:new n.f(t.birthday,[n.v.required]),email:new n.f(t.email,[n.v.required,n.v.min(7),n.v.max(70),n.v.pattern(this.emailPattern)]),phone:new n.f(t.phone,[n.v.required,n.v.minLength(8),n.v.maxLength(22),n.v.pattern(this.phonePatten)]),description:new n.f(t.description,[n.v.required]),institution:new n.f(t.institution,[n.v.required,n.v.min(5),n.v.max(35),n.v.pattern(this.nombrePattern)]),city:new n.f(t.city,[n.v.required,n.v.min(5),n.v.max(35),n.v.pattern(this.nombrePattern)]),status:new n.f(t.status,[n.v.required])})}editar(){this.editarUser=this.editarForm.value;const t=Object(c.a)(new Date(this.editarUser.birthday),"yyyy-MM-dd");this.editarUser.birthday=t,this.editarUser.register_social=!1,this.edit.Editartodo(this.editarUser,this.usertk.id,this.editarForm.value.status,this.token).subscribe(t=>{this.auth.updateToken(),this.share.var.next("data update"),this.router.navigateByUrl("/users/perfil")})}}return t.\u0275fac=function(e){return new(e||t)(l.Vb(s.a),l.Vb(d.a),l.Vb(r.h),l.Vb(m.a),l.Vb(b.a),l.Vb(u.a))},t.\u0275cmp=l.Pb({type:t,selectors:[["app-edit-perfil"]],decls:14,vars:1,consts:[[1,"ion-toolbar-ccs"],["slot","start"],["defaultHref","/users/perfil",2,"color","white"],[1,"tituloInfo","logo"],[2,"color","white"],[2,"margin","0"],[2,"padding","10px 0px"],[1,"subtitle",2,"text-align","center","font-size","16px","padding","10px"],[2,"padding","0"],[4,"ngIf"],[3,"formGroup"],[1,"itemDec","ion-item-css"],["name","person-outline",2,"color","#737373"],["name","nombre","type","text","placeholder","Nombre","formControlName","name"],["class","form-text-error",4,"ngIf"],["name","apellido","type","text","placeholder","Apellido","formControlName","lastname"],["name","call-outline",2,"color","#737373"],["name","celular","type","text","placeholder","Tel\xe9fono","formControlName","phone"],["name","mail-unread-outline",2,"color","#737373"],["name","email","type","email","placeholder","Correo","formControlName","email"],["name","calendar-outline",2,"color","#737373"],["placeholder","Fecha de Nacimiento","displayFormat","YYYY/MM/DD","min","1980","max","2005","formControlName","birthday","cancelText","Cancelar","doneText","Hecho",2,"width","100%"],[1,"label-info"],[2,"padding","5px 10px"],["formControlName","description","rows","4","cols","4","maxlength","90",1,"textArea"],["name","school-outline",2,"color","#737373"],["name","institution","type","text","placeholder","\xbfD\xf3nde estudiaste?","formControlName","institution"],["name","heart-outline",2,"color","#737373"],["placeholder","Situaci\xf3n sentimental","formControlName","status",1,"ion-select","itemSelect","select-placeholder"],[3,"value",4,"ngFor","ngForOf"],["name","earth-outline",2,"color","#737373"],["name","city","type","text","placeholder","\xbfD\xf3nde vives?","formControlName","city"],[2,"margin","15px 0px","text-align","-webkit-center"],["type","submit","expand","block",2,"margin","0","width","50%","--background","#002a68",3,"disabled","click"],[1,"form-text-error"],[3,"value"]],template:function(t,e){1&t&&(l.bc(0,"ion-header"),l.bc(1,"ion-toolbar",0),l.bc(2,"ion-buttons",1),l.Wb(3,"ion-back-button",2),l.ac(),l.bc(4,"ion-title",3),l.bc(5,"label",4),l.Qc(6,"MAGIN"),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(7,"ion-content"),l.bc(8,"ion-card",5),l.bc(9,"ion-card-header",6),l.bc(10,"ion-card-title",7),l.Qc(11,"Informaci\xf3n General"),l.ac(),l.ac(),l.bc(12,"ion-card-content",8),l.Oc(13,w,40,9,"div",9),l.ac(),l.ac(),l.ac()),2&t&&(l.Ib(13),l.uc("ngIf",e.usertk))},directives:[a.y,a.db,a.k,a.g,a.h,a.cb,a.s,a.l,a.n,a.p,a.m,o.m,n.w,n.q,n.i,a.E,a.z,a.D,a.pb,n.p,n.g,a.t,a.ob,a.F,n.c,n.l,a.T,o.l,a.j,a.U],styles:["*[_ngcontent-%COMP%]{font-family:Proxima Nova!important}.textArea[_ngcontent-%COMP%]{width:100%;max-width:500px;height:150px;resize:none;padding:10px;outline:0;border-radius:8px;border-color:#c5c5c5}.alert-wrapper.sc-ion-alert-ios[_ngcontent-%COMP%]{border-radius:13px;box-shadow:none;overflow:hidden;background:#fff}.select-placeholder[_ngcontent-%COMP%]{opacity:1!important;color:#000!important}.itemSelect[_ngcontent-%COMP%]{max-width:100%;width:100%}.itemDec[_ngcontent-%COMP%]{border-bottom:2px solid #eaeaea!important}.subtitle[_ngcontent-%COMP%]{background-color:#002a68;color:#fff}.form-text-error[_ngcontent-%COMP%]{font-size:11px;color:#f44336;text-decoration:none;margin:0}.form-text-error[_ngcontent-%COMP%], .ion-item-css[_ngcontent-%COMP%]{letter-spacing:1px;width:100%;border-radius:0}.ion-item-css[_ngcontent-%COMP%]{background-color:hsla(0,0%,96.5%,.4745098039215686);font-size:14px;height:50px;text-align:center;margin-bottom:10px;--background:rgba(252,250,250,0.541)!important}.label-info[_ngcontent-%COMP%]{padding:10px;font-size:12px;font-weight:500;color:#000;letter-spacing:1px}"]}),t})()}];let P=(()=>{class t{}return t.\u0275mod=l.Tb({type:t}),t.\u0275inj=l.Sb({factory:function(e){return new(e||t)},imports:[[r.j.forChild(F)],r.j]}),t})(),k=(()=>{class t{}return t.\u0275mod=l.Tb({type:t}),t.\u0275inj=l.Sb({factory:function(e){return new(e||t)},imports:[[o.c,n.k,a.eb,P,n.t]]}),t})()}}]);