(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{Wxwx:function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarioPageModule",(function(){return wn}));var i=n("ofXK"),a=n("3Pt+"),c=n("TEn/"),o=n("tyNb"),l=n("fXoL"),r=n("XNiG");const s=["monthSlider"];function d(e,t){if(1&e&&(l.bc(0,"th"),l.bc(1,"small"),l.Qc(2),l.ac(),l.ac()),2&e){const e=t.$implicit;l.Ib(2),l.Rc(e)}}function u(e,t){}const h=function(e,t,n){return{view:e,row:t,col:n}};function m(e,t){if(1&e){const e=l.cc();l.bc(0,"td",7),l.jc("click",(function(){l.Hc(e);const n=t.$implicit,i=l.nc().$implicit,a=l.nc(2);return a.select(a.views[0].dates[7*i+n])})),l.Oc(1,u,0,0,"ng-template",3),l.ac()}if(2&e){const e=t.$implicit,n=l.nc().$implicit,i=l.nc(2);l.uc("ngClass",i.getHighlightClass(i.views[0].dates[7*n+e])),l.Ib(1),l.uc("ngTemplateOutlet",i.monthviewDisplayEventTemplate)("ngTemplateOutletContext",l.Bc(3,h,i.views[0],n,e))}}const v=function(){return[0,1,2,3,4,5,6]};function g(e,t){1&e&&(l.bc(0,"tr"),l.Oc(1,m,2,7,"td",6),l.ac()),2&e&&(l.Ib(1),l.uc("ngForOf",l.yc(1,v)))}const b=function(){return[0,1,2,3,4,5]};function p(e,t){if(1&e&&(l.bc(0,"table",4),l.bc(1,"thead"),l.bc(2,"tr"),l.Oc(3,d,3,1,"th",5),l.ac(),l.ac(),l.bc(4,"tbody"),l.Oc(5,g,2,2,"tr",5),l.ac(),l.ac()),2&e){const e=l.nc();l.Ib(3),l.uc("ngForOf",e.views[0].dayHeaders),l.Ib(2),l.uc("ngForOf",l.yc(2,b))}}function f(e,t){if(1&e&&(l.bc(0,"th"),l.bc(1,"small"),l.Qc(2),l.ac(),l.ac()),2&e){const e=t.$implicit;l.Ib(2),l.Rc(e)}}function w(e,t){}function T(e,t){if(1&e&&(l.bc(0,"td"),l.Oc(1,w,0,0,"ng-template",3),l.ac()),2&e){const e=t.$implicit,n=l.nc().$implicit,i=l.nc(2);l.Ib(1),l.uc("ngTemplateOutlet",i.monthviewInactiveDisplayEventTemplate)("ngTemplateOutletContext",l.Bc(2,h,i.views[0],n,e))}}function y(e,t){1&e&&(l.bc(0,"tr"),l.Oc(1,T,2,6,"td",5),l.ac()),2&e&&(l.Ib(1),l.uc("ngForOf",l.yc(1,v)))}function S(e,t){if(1&e&&(l.bc(0,"table",4),l.bc(1,"thead"),l.bc(2,"tr",8),l.Oc(3,f,3,1,"th",5),l.ac(),l.ac(),l.bc(4,"tbody"),l.Oc(5,y,2,2,"tr",5),l.Wb(6,"tr"),l.ac(),l.ac()),2&e){const e=l.nc();l.Ib(3),l.uc("ngForOf",e.views[0].dayHeaders),l.Ib(2),l.uc("ngForOf",l.yc(2,b))}}function D(e,t){if(1&e&&(l.bc(0,"th"),l.bc(1,"small"),l.Qc(2),l.ac(),l.ac()),2&e){const e=t.$implicit;l.Ib(2),l.Rc(e)}}function O(e,t){}function C(e,t){if(1&e){const e=l.cc();l.bc(0,"td",7),l.jc("click",(function(){l.Hc(e);const n=t.$implicit,i=l.nc().$implicit,a=l.nc(2);return a.select(a.views[1].dates[7*i+n])})),l.Oc(1,O,0,0,"ng-template",3),l.ac()}if(2&e){const e=t.$implicit,n=l.nc().$implicit,i=l.nc(2);l.uc("ngClass",i.getHighlightClass(i.views[1].dates[7*n+e])),l.Ib(1),l.uc("ngTemplateOutlet",i.monthviewDisplayEventTemplate)("ngTemplateOutletContext",l.Bc(3,h,i.views[1],n,e))}}function I(e,t){1&e&&(l.bc(0,"tr"),l.Oc(1,C,2,7,"td",6),l.ac()),2&e&&(l.Ib(1),l.uc("ngForOf",l.yc(1,v)))}function k(e,t){if(1&e&&(l.bc(0,"table",4),l.bc(1,"thead"),l.bc(2,"tr"),l.Oc(3,D,3,1,"th",5),l.ac(),l.ac(),l.bc(4,"tbody"),l.Oc(5,I,2,2,"tr",5),l.ac(),l.ac()),2&e){const e=l.nc();l.Ib(3),l.uc("ngForOf",e.views[1].dayHeaders),l.Ib(2),l.uc("ngForOf",l.yc(2,b))}}function E(e,t){if(1&e&&(l.bc(0,"th"),l.bc(1,"small"),l.Qc(2),l.ac(),l.ac()),2&e){const e=t.$implicit;l.Ib(2),l.Rc(e)}}function P(e,t){}function x(e,t){if(1&e&&(l.bc(0,"td"),l.Oc(1,P,0,0,"ng-template",3),l.ac()),2&e){const e=t.$implicit,n=l.nc().$implicit,i=l.nc(2);l.Ib(1),l.uc("ngTemplateOutlet",i.monthviewInactiveDisplayEventTemplate)("ngTemplateOutletContext",l.Bc(2,h,i.views[1],n,e))}}function M(e,t){1&e&&(l.bc(0,"tr"),l.Oc(1,x,2,6,"td",5),l.ac()),2&e&&(l.Ib(1),l.uc("ngForOf",l.yc(1,v)))}function H(e,t){if(1&e&&(l.bc(0,"table",4),l.bc(1,"thead"),l.bc(2,"tr",8),l.Oc(3,E,3,1,"th",5),l.ac(),l.ac(),l.bc(4,"tbody"),l.Oc(5,M,2,2,"tr",5),l.Wb(6,"tr"),l.ac(),l.ac()),2&e){const e=l.nc();l.Ib(3),l.uc("ngForOf",e.views[1].dayHeaders),l.Ib(2),l.uc("ngForOf",l.yc(2,b))}}function F(e,t){if(1&e&&(l.bc(0,"th"),l.bc(1,"small"),l.Qc(2),l.ac(),l.ac()),2&e){const e=t.$implicit;l.Ib(2),l.Rc(e)}}function V(e,t){}function A(e,t){if(1&e){const e=l.cc();l.bc(0,"td",7),l.jc("click",(function(){l.Hc(e);const n=t.$implicit,i=l.nc().$implicit,a=l.nc(2);return a.select(a.views[2].dates[7*i+n])})),l.Oc(1,V,0,0,"ng-template",3),l.ac()}if(2&e){const e=t.$implicit,n=l.nc().$implicit,i=l.nc(2);l.uc("ngClass",i.getHighlightClass(i.views[2].dates[7*n+e])),l.Ib(1),l.uc("ngTemplateOutlet",i.monthviewDisplayEventTemplate)("ngTemplateOutletContext",l.Bc(3,h,i.views[2],n,e))}}function _(e,t){1&e&&(l.bc(0,"tr"),l.Oc(1,A,2,7,"td",6),l.ac()),2&e&&(l.Ib(1),l.uc("ngForOf",l.yc(1,v)))}function N(e,t){if(1&e&&(l.bc(0,"table",4),l.bc(1,"thead"),l.bc(2,"tr"),l.Oc(3,F,3,1,"th",5),l.ac(),l.ac(),l.bc(4,"tbody"),l.Oc(5,_,2,2,"tr",5),l.ac(),l.ac()),2&e){const e=l.nc();l.Ib(3),l.uc("ngForOf",e.views[2].dayHeaders),l.Ib(2),l.uc("ngForOf",l.yc(2,b))}}function L(e,t){if(1&e&&(l.bc(0,"th"),l.bc(1,"small"),l.Qc(2),l.ac(),l.ac()),2&e){const e=t.$implicit;l.Ib(2),l.Rc(e)}}function $(e,t){}function R(e,t){if(1&e&&(l.bc(0,"td"),l.Oc(1,$,0,0,"ng-template",3),l.ac()),2&e){const e=t.$implicit,n=l.nc().$implicit,i=l.nc(2);l.Ib(1),l.uc("ngTemplateOutlet",i.monthviewInactiveDisplayEventTemplate)("ngTemplateOutletContext",l.Bc(2,h,i.views[2],n,e))}}function j(e,t){1&e&&(l.bc(0,"tr"),l.Oc(1,R,2,6,"td",5),l.ac()),2&e&&(l.Ib(1),l.uc("ngForOf",l.yc(1,v)))}function W(e,t){if(1&e&&(l.bc(0,"table",4),l.bc(1,"thead"),l.bc(2,"tr",8),l.Oc(3,L,3,1,"th",5),l.ac(),l.ac(),l.bc(4,"tbody"),l.Oc(5,j,2,2,"tr",5),l.Wb(6,"tr"),l.ac(),l.ac()),2&e){const e=l.nc();l.Ib(3),l.uc("ngForOf",e.views[2].dayHeaders),l.Ib(2),l.uc("ngForOf",l.yc(2,b))}}function Q(e,t){}const z=function(e,t,n){return{showEventDetail:e,selectedDate:t,noEventsLabel:n}},Y=["weekSlider"];function U(e,t){}const B=function(e){return{viewDate:e}};function q(e,t){if(1&e){const e=l.cc();l.bc(0,"th",7),l.jc("click",(function(){l.Hc(e);const n=t.$implicit;return l.nc().daySelected(n)})),l.Oc(1,U,0,0,"ng-template",8),l.ac()}if(2&e){const e=t.$implicit,n=l.nc();l.uc("ngClass",n.getHighlightClass(e)),l.Ib(1),l.uc("ngTemplateOutlet",n.weekviewHeaderTemplate)("ngTemplateOutletContext",l.zc(3,B,e))}}function G(e,t){}const X=function(e,t){return{day:e,eventTemplate:t}};function J(e,t){if(1&e&&(l.bc(0,"td",17),l.Oc(1,G,0,0,"ng-template",8),l.ac()),2&e){const e=t.$implicit,n=l.nc(2);l.Ib(1),l.uc("ngTemplateOutlet",n.weekviewAllDayEventSectionTemplate)("ngTemplateOutletContext",l.Ac(2,X,e,n.weekviewAllDayEventTemplate))}}function K(e,t){}const Z=function(e,t,n){return{tm:e,hourParts:t,eventTemplate:n}};function ee(e,t){if(1&e){const e=l.cc();l.bc(0,"td",20),l.jc("click",(function(){l.Hc(e);const n=t.$implicit;return l.nc(3).select(n.time,n.events)})),l.Oc(1,K,0,0,"ng-template",8),l.ac()}if(2&e){const e=t.$implicit,n=l.nc(3);l.Ib(1),l.uc("ngTemplateOutlet",n.weekviewNormalEventSectionTemplate)("ngTemplateOutletContext",l.Bc(2,Z,e,n.hourParts,n.weekviewNormalEventTemplate))}}function te(e,t){if(1&e&&(l.bc(0,"tr"),l.bc(1,"td",18),l.Qc(2),l.ac(),l.Oc(3,ee,2,6,"td",19),l.ac()),2&e){const e=t.$implicit,n=t.index,i=l.nc(2);l.Ib(2),l.Sc(" ",i.hourColumnLabels[n]," "),l.Ib(1),l.uc("ngForOf",e)}}function ne(e,t){if(1&e){const e=l.cc();l.bc(0,"div"),l.bc(1,"div",9),l.bc(2,"div",10),l.Qc(3),l.ac(),l.bc(4,"div",11),l.bc(5,"table",12),l.bc(6,"tbody"),l.bc(7,"tr"),l.Oc(8,J,2,5,"td",13),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(9,"init-position-scroll",14),l.jc("onScroll",(function(t){return l.Hc(e),l.nc().setScrollPosition(t)})),l.bc(10,"table",15),l.bc(11,"tbody"),l.Oc(12,te,4,2,"tr",16),l.ac(),l.ac(),l.ac(),l.ac()}if(2&e){const e=l.nc();l.Ib(3),l.Rc(e.allDayLabel),l.Ib(5),l.uc("ngForOf",e.views[0].dates),l.Ib(1),l.uc("initPosition",e.initScrollPosition)("emitEvent",e.preserveScrollPosition),l.Ib(3),l.uc("ngForOf",e.views[0].rows)}}function ie(e,t){}const ae=function(e){return{day:e}};function ce(e,t){if(1&e&&(l.bc(0,"td",17),l.Oc(1,ie,0,0,"ng-template",8),l.ac()),2&e){const e=t.$implicit,n=l.nc(2);l.Ib(1),l.uc("ngTemplateOutlet",n.weekviewInactiveAllDayEventSectionTemplate)("ngTemplateOutletContext",l.zc(2,ae,e))}}function oe(e,t){}const le=function(e,t){return{tm:e,hourParts:t}};function re(e,t){if(1&e&&(l.bc(0,"td",17),l.Oc(1,oe,0,0,"ng-template",8),l.ac()),2&e){const e=t.$implicit,n=l.nc(3);l.Ib(1),l.uc("ngTemplateOutlet",n.weekviewInactiveNormalEventSectionTemplate)("ngTemplateOutletContext",l.Ac(2,le,e,n.hourParts))}}function se(e,t){if(1&e&&(l.bc(0,"tr"),l.bc(1,"td",18),l.Qc(2),l.ac(),l.Oc(3,re,2,5,"td",13),l.ac()),2&e){const e=t.$implicit,n=t.index,i=l.nc(2);l.Ib(2),l.Sc(" ",i.hourColumnLabels[n]," "),l.Ib(1),l.uc("ngForOf",e)}}function de(e,t){if(1&e&&(l.bc(0,"div"),l.bc(1,"div",9),l.bc(2,"div",10),l.Qc(3),l.ac(),l.bc(4,"div",11),l.bc(5,"table",12),l.bc(6,"tbody"),l.bc(7,"tr"),l.Oc(8,ce,2,4,"td",13),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(9,"init-position-scroll",21),l.bc(10,"table",15),l.bc(11,"tbody"),l.Oc(12,se,4,2,"tr",16),l.ac(),l.ac(),l.ac(),l.ac()),2&e){const e=l.nc();l.Ib(3),l.Rc(e.allDayLabel),l.Ib(5),l.uc("ngForOf",e.views[0].dates),l.Ib(1),l.uc("initPosition",e.initScrollPosition),l.Ib(3),l.uc("ngForOf",e.views[0].rows)}}function ue(e,t){}function he(e,t){if(1&e){const e=l.cc();l.bc(0,"th",7),l.jc("click",(function(){l.Hc(e);const n=t.$implicit;return l.nc().daySelected(n)})),l.Oc(1,ue,0,0,"ng-template",8),l.ac()}if(2&e){const e=t.$implicit,n=l.nc();l.uc("ngClass",n.getHighlightClass(e)),l.Ib(1),l.uc("ngTemplateOutlet",n.weekviewHeaderTemplate)("ngTemplateOutletContext",l.zc(3,B,e))}}function me(e,t){}function ve(e,t){if(1&e&&(l.bc(0,"td",17),l.Oc(1,me,0,0,"ng-template",8),l.ac()),2&e){const e=t.$implicit,n=l.nc(2);l.Ib(1),l.uc("ngTemplateOutlet",n.weekviewAllDayEventSectionTemplate)("ngTemplateOutletContext",l.Ac(2,X,e,n.weekviewAllDayEventTemplate))}}function ge(e,t){}const be=function(e){return{"calendar-event-wrap":e}};function pe(e,t){if(1&e&&(l.bc(0,"div",23),l.Oc(1,ge,0,0,"ng-template",8),l.ac()),2&e){const e=l.nc().$implicit,t=l.nc(3);l.uc("ngClass",l.zc(3,be,e.events)),l.Ib(1),l.uc("ngTemplateOutlet",t.weekviewNormalEventSectionTemplate)("ngTemplateOutletContext",l.Bc(5,Z,e,t.hourParts,t.weekviewNormalEventTemplate))}}function fe(e,t){if(1&e){const e=l.cc();l.bc(0,"td",20),l.jc("click",(function(){l.Hc(e);const n=t.$implicit;return l.nc(3).select(n.time,n.events)})),l.Oc(1,pe,2,9,"div",22),l.ac()}if(2&e){const e=t.$implicit;l.Ib(1),l.uc("ngIf",e.events)}}function we(e,t){if(1&e&&(l.bc(0,"tr"),l.bc(1,"td",18),l.Qc(2),l.ac(),l.Oc(3,fe,2,1,"td",19),l.ac()),2&e){const e=t.$implicit,n=t.index,i=l.nc(2);l.Ib(2),l.Sc(" ",i.hourColumnLabels[n]," "),l.Ib(1),l.uc("ngForOf",e)}}function Te(e,t){if(1&e){const e=l.cc();l.bc(0,"div"),l.bc(1,"div",9),l.bc(2,"div",10),l.Qc(3),l.ac(),l.bc(4,"div",11),l.bc(5,"table",12),l.bc(6,"tbody"),l.bc(7,"tr"),l.Oc(8,ve,2,5,"td",13),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(9,"init-position-scroll",14),l.jc("onScroll",(function(t){return l.Hc(e),l.nc().setScrollPosition(t)})),l.bc(10,"table",15),l.bc(11,"tbody"),l.Oc(12,we,4,2,"tr",16),l.ac(),l.ac(),l.ac(),l.ac()}if(2&e){const e=l.nc();l.Ib(3),l.Rc(e.allDayLabel),l.Ib(5),l.uc("ngForOf",e.views[1].dates),l.Ib(1),l.uc("initPosition",e.initScrollPosition)("emitEvent",e.preserveScrollPosition),l.Ib(3),l.uc("ngForOf",e.views[1].rows)}}function ye(e,t){}function Se(e,t){if(1&e&&(l.bc(0,"td",17),l.Oc(1,ye,0,0,"ng-template",8),l.ac()),2&e){const e=t.$implicit,n=l.nc(2);l.Ib(1),l.uc("ngTemplateOutlet",n.weekviewInactiveAllDayEventSectionTemplate)("ngTemplateOutletContext",l.zc(2,ae,e))}}function De(e,t){}function Oe(e,t){if(1&e&&(l.bc(0,"div",23),l.Oc(1,De,0,0,"ng-template",8),l.ac()),2&e){const e=l.nc().$implicit,t=l.nc(3);l.uc("ngClass",l.zc(3,be,e.events)),l.Ib(1),l.uc("ngTemplateOutlet",t.weekviewInactiveNormalEventSectionTemplate)("ngTemplateOutletContext",l.Ac(5,le,e,t.hourParts))}}function Ce(e,t){if(1&e&&(l.bc(0,"td",17),l.Oc(1,Oe,2,8,"div",22),l.ac()),2&e){const e=t.$implicit;l.Ib(1),l.uc("ngIf",e.events)}}function Ie(e,t){if(1&e&&(l.bc(0,"tr"),l.bc(1,"td",18),l.Qc(2),l.ac(),l.Oc(3,Ce,2,1,"td",13),l.ac()),2&e){const e=t.$implicit,n=t.index,i=l.nc(2);l.Ib(2),l.Sc(" ",i.hourColumnLabels[n]," "),l.Ib(1),l.uc("ngForOf",e)}}function ke(e,t){if(1&e&&(l.bc(0,"div"),l.bc(1,"div",9),l.bc(2,"div",10),l.Qc(3),l.ac(),l.bc(4,"div",11),l.bc(5,"table",12),l.bc(6,"tbody"),l.bc(7,"tr"),l.Oc(8,Se,2,4,"td",13),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(9,"init-position-scroll",21),l.bc(10,"table",15),l.bc(11,"tbody"),l.Oc(12,Ie,4,2,"tr",16),l.ac(),l.ac(),l.ac(),l.ac()),2&e){const e=l.nc();l.Ib(3),l.Rc(e.allDayLabel),l.Ib(5),l.uc("ngForOf",e.views[1].dates),l.Ib(1),l.uc("initPosition",e.initScrollPosition),l.Ib(3),l.uc("ngForOf",e.views[1].rows)}}function Ee(e,t){}function Pe(e,t){if(1&e){const e=l.cc();l.bc(0,"th",7),l.jc("click",(function(){l.Hc(e);const n=t.$implicit;return l.nc().daySelected(n)})),l.Oc(1,Ee,0,0,"ng-template",8),l.ac()}if(2&e){const e=t.$implicit,n=l.nc();l.uc("ngClass",n.getHighlightClass(e)),l.Ib(1),l.uc("ngTemplateOutlet",n.weekviewHeaderTemplate)("ngTemplateOutletContext",l.zc(3,B,e))}}function xe(e,t){}function Me(e,t){if(1&e&&(l.bc(0,"td",17),l.Oc(1,xe,0,0,"ng-template",8),l.ac()),2&e){const e=t.$implicit,n=l.nc(2);l.Ib(1),l.uc("ngTemplateOutlet",n.weekviewAllDayEventSectionTemplate)("ngTemplateOutletContext",l.Ac(2,X,e,n.weekviewAllDayEventTemplate))}}function He(e,t){}function Fe(e,t){if(1&e&&(l.bc(0,"div",23),l.Oc(1,He,0,0,"ng-template",8),l.ac()),2&e){const e=l.nc().$implicit,t=l.nc(3);l.uc("ngClass",l.zc(3,be,e.events)),l.Ib(1),l.uc("ngTemplateOutlet",t.weekviewNormalEventSectionTemplate)("ngTemplateOutletContext",l.Bc(5,Z,e,t.hourParts,t.weekviewNormalEventTemplate))}}function Ve(e,t){if(1&e){const e=l.cc();l.bc(0,"td",20),l.jc("click",(function(){l.Hc(e);const n=t.$implicit;return l.nc(3).select(n.time,n.events)})),l.Oc(1,Fe,2,9,"div",22),l.ac()}if(2&e){const e=t.$implicit;l.Ib(1),l.uc("ngIf",e.events)}}function Ae(e,t){if(1&e&&(l.bc(0,"tr"),l.bc(1,"td",18),l.Qc(2),l.ac(),l.Oc(3,Ve,2,1,"td",19),l.ac()),2&e){const e=t.$implicit,n=t.index,i=l.nc(2);l.Ib(2),l.Sc(" ",i.hourColumnLabels[n]," "),l.Ib(1),l.uc("ngForOf",e)}}function _e(e,t){if(1&e){const e=l.cc();l.bc(0,"div"),l.bc(1,"div",9),l.bc(2,"div",10),l.Qc(3),l.ac(),l.bc(4,"div",11),l.bc(5,"table",12),l.bc(6,"tbody"),l.bc(7,"tr"),l.Oc(8,Me,2,5,"td",13),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(9,"init-position-scroll",14),l.jc("onScroll",(function(t){return l.Hc(e),l.nc().setScrollPosition(t)})),l.bc(10,"table",15),l.bc(11,"tbody"),l.Oc(12,Ae,4,2,"tr",16),l.ac(),l.ac(),l.ac(),l.ac()}if(2&e){const e=l.nc();l.Ib(3),l.Rc(e.allDayLabel),l.Ib(5),l.uc("ngForOf",e.views[2].dates),l.Ib(1),l.uc("initPosition",e.initScrollPosition)("emitEvent",e.preserveScrollPosition),l.Ib(3),l.uc("ngForOf",e.views[2].rows)}}function Ne(e,t){}function Le(e,t){if(1&e&&(l.bc(0,"td",17),l.Oc(1,Ne,0,0,"ng-template",8),l.ac()),2&e){const e=t.$implicit,n=l.nc(2);l.Ib(1),l.uc("ngTemplateOutlet",n.weekviewInactiveAllDayEventSectionTemplate)("ngTemplateOutletContext",l.zc(2,ae,e))}}function $e(e,t){}function Re(e,t){if(1&e&&(l.bc(0,"div",23),l.Oc(1,$e,0,0,"ng-template",8),l.ac()),2&e){const e=l.nc().$implicit,t=l.nc(3);l.uc("ngClass",l.zc(3,be,e.events)),l.Ib(1),l.uc("ngTemplateOutlet",t.weekviewInactiveNormalEventSectionTemplate)("ngTemplateOutletContext",l.Ac(5,le,e,t.hourParts))}}function je(e,t){if(1&e&&(l.bc(0,"td",17),l.Oc(1,Re,2,8,"div",22),l.ac()),2&e){const e=t.$implicit;l.Ib(1),l.uc("ngIf",e.events)}}function We(e,t){if(1&e&&(l.bc(0,"tr"),l.bc(1,"td",18),l.Qc(2),l.ac(),l.Oc(3,je,2,1,"td",13),l.ac()),2&e){const e=t.$implicit,n=t.index,i=l.nc(2);l.Ib(2),l.Sc(" ",i.hourColumnLabels[n]," "),l.Ib(1),l.uc("ngForOf",e)}}function Qe(e,t){if(1&e&&(l.bc(0,"div"),l.bc(1,"div",9),l.bc(2,"div",10),l.Qc(3),l.ac(),l.bc(4,"div",11),l.bc(5,"table",12),l.bc(6,"tbody"),l.bc(7,"tr"),l.Oc(8,Le,2,4,"td",13),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(9,"init-position-scroll",21),l.bc(10,"table",15),l.bc(11,"tbody"),l.Oc(12,We,4,2,"tr",16),l.ac(),l.ac(),l.ac(),l.ac()),2&e){const e=l.nc();l.Ib(3),l.Rc(e.allDayLabel),l.Ib(5),l.uc("ngForOf",e.views[2].dates),l.Ib(1),l.uc("initPosition",e.initScrollPosition),l.Ib(3),l.uc("ngForOf",e.views[2].rows)}}const ze=["daySlider"];function Ye(e,t){}const Ue=function(e){return{height:e}},Be=function(e,t){return{allDayEvents:e,eventTemplate:t}};function qe(e,t){if(1&e&&(l.bc(0,"td",11),l.Oc(1,Ye,0,0,"ng-template",12),l.ac()),2&e){const e=l.nc();l.uc("ngClass",l.zc(4,be,e.views[0].allDayEvents.length>0))("ngStyle",l.zc(6,Ue,25*e.views[0].allDayEvents.length+"px")),l.Ib(1),l.uc("ngTemplateOutlet",e.dayviewAllDayEventSectionTemplate)("ngTemplateOutletContext",l.Ac(8,Be,e.views[0].allDayEvents,e.dayviewAllDayEventTemplate))}}function Ge(e,t){}const Xe=function(e){return{allDayEvents:e}};function Je(e,t){if(1&e&&(l.bc(0,"td",13),l.Oc(1,Ge,0,0,"ng-template",12),l.ac()),2&e){const e=l.nc();l.Ib(1),l.uc("ngTemplateOutlet",e.dayviewInactiveAllDayEventSectionTemplate)("ngTemplateOutletContext",l.zc(2,Xe,e.views[0].allDayEvents))}}function Ke(e,t){}function Ze(e,t){if(1&e){const e=l.cc();l.bc(0,"tr"),l.bc(1,"td",17),l.Qc(2),l.ac(),l.bc(3,"td",18),l.jc("click",(function(){l.Hc(e);const n=t.$implicit;return l.nc(2).select(n.time,n.events)})),l.Oc(4,Ke,0,0,"ng-template",12),l.ac(),l.ac()}if(2&e){const e=t.$implicit,n=t.index,i=l.nc(2);l.Ib(2),l.Sc(" ",i.hourColumnLabels[n]," "),l.Ib(2),l.uc("ngTemplateOutlet",i.dayviewNormalEventSectionTemplate)("ngTemplateOutletContext",l.Bc(3,Z,e,i.hourParts,i.dayviewNormalEventTemplate))}}function et(e,t){if(1&e){const e=l.cc();l.bc(0,"init-position-scroll",14),l.jc("onScroll",(function(t){return l.Hc(e),l.nc().setScrollPosition(t)})),l.bc(1,"table",15),l.bc(2,"tbody"),l.Oc(3,Ze,5,7,"tr",16),l.ac(),l.ac(),l.ac()}if(2&e){const e=l.nc();l.uc("initPosition",e.initScrollPosition)("emitEvent",e.preserveScrollPosition),l.Ib(3),l.uc("ngForOf",e.views[0].rows)}}function tt(e,t){}function nt(e,t){if(1&e&&(l.bc(0,"tr"),l.bc(1,"td",17),l.Qc(2),l.ac(),l.bc(3,"td",13),l.Oc(4,tt,0,0,"ng-template",12),l.ac(),l.ac()),2&e){const e=t.$implicit,n=t.index,i=l.nc(2);l.Ib(2),l.Sc(" ",i.hourColumnLabels[n]," "),l.Ib(2),l.uc("ngTemplateOutlet",i.dayviewInactiveNormalEventSectionTemplate)("ngTemplateOutletContext",l.Ac(3,le,e,i.hourParts))}}function it(e,t){if(1&e&&(l.bc(0,"init-position-scroll",19),l.bc(1,"table",15),l.bc(2,"tbody"),l.Oc(3,nt,5,6,"tr",16),l.ac(),l.ac(),l.ac()),2&e){const e=l.nc();l.uc("initPosition",e.initScrollPosition),l.Ib(3),l.uc("ngForOf",e.views[0].rows)}}function at(e,t){}function ct(e,t){if(1&e&&(l.bc(0,"td",11),l.Oc(1,at,0,0,"ng-template",12),l.ac()),2&e){const e=l.nc();l.uc("ngClass",l.zc(4,be,e.views[1].allDayEvents.length>0))("ngStyle",l.zc(6,Ue,25*e.views[1].allDayEvents.length+"px")),l.Ib(1),l.uc("ngTemplateOutlet",e.dayviewAllDayEventSectionTemplate)("ngTemplateOutletContext",l.Ac(8,Be,e.views[1].allDayEvents,e.dayviewAllDayEventTemplate))}}function ot(e,t){}function lt(e,t){if(1&e&&(l.bc(0,"td",13),l.Oc(1,ot,0,0,"ng-template",12),l.ac()),2&e){const e=l.nc();l.Ib(1),l.uc("ngTemplateOutlet",e.dayviewInactiveAllDayEventSectionTemplate)("ngTemplateOutletContext",l.zc(2,Xe,e.views[1].allDayEvents))}}function rt(e,t){}function st(e,t){if(1&e){const e=l.cc();l.bc(0,"tr"),l.bc(1,"td",17),l.Qc(2),l.ac(),l.bc(3,"td",18),l.jc("click",(function(){l.Hc(e);const n=t.$implicit;return l.nc(2).select(n.time,n.events)})),l.Oc(4,rt,0,0,"ng-template",12),l.ac(),l.ac()}if(2&e){const e=t.$implicit,n=t.index,i=l.nc(2);l.Ib(2),l.Sc(" ",i.hourColumnLabels[n]," "),l.Ib(2),l.uc("ngTemplateOutlet",i.dayviewNormalEventSectionTemplate)("ngTemplateOutletContext",l.Bc(3,Z,e,i.hourParts,i.dayviewNormalEventTemplate))}}function dt(e,t){if(1&e){const e=l.cc();l.bc(0,"init-position-scroll",14),l.jc("onScroll",(function(t){return l.Hc(e),l.nc().setScrollPosition(t)})),l.bc(1,"table",15),l.bc(2,"tbody"),l.Oc(3,st,5,7,"tr",16),l.ac(),l.ac(),l.ac()}if(2&e){const e=l.nc();l.uc("initPosition",e.initScrollPosition)("emitEvent",e.preserveScrollPosition),l.Ib(3),l.uc("ngForOf",e.views[1].rows)}}function ut(e,t){}function ht(e,t){if(1&e&&(l.bc(0,"tr"),l.bc(1,"td",17),l.Qc(2),l.ac(),l.bc(3,"td",13),l.Oc(4,ut,0,0,"ng-template",12),l.ac(),l.ac()),2&e){const e=t.$implicit,n=t.index,i=l.nc(2);l.Ib(2),l.Sc(" ",i.hourColumnLabels[n]," "),l.Ib(2),l.uc("ngTemplateOutlet",i.dayviewInactiveNormalEventSectionTemplate)("ngTemplateOutletContext",l.Ac(3,le,e,i.hourParts))}}function mt(e,t){if(1&e&&(l.bc(0,"init-position-scroll",19),l.bc(1,"table",15),l.bc(2,"tbody"),l.Oc(3,ht,5,6,"tr",16),l.ac(),l.ac(),l.ac()),2&e){const e=l.nc();l.uc("initPosition",e.initScrollPosition),l.Ib(3),l.uc("ngForOf",e.views[1].rows)}}function vt(e,t){}function gt(e,t){if(1&e&&(l.bc(0,"td",11),l.Oc(1,vt,0,0,"ng-template",12),l.ac()),2&e){const e=l.nc();l.uc("ngClass",l.zc(4,be,e.views[2].allDayEvents.length>0))("ngStyle",l.zc(6,Ue,25*e.views[2].allDayEvents.length+"px")),l.Ib(1),l.uc("ngTemplateOutlet",e.dayviewAllDayEventSectionTemplate)("ngTemplateOutletContext",l.Ac(8,Be,e.views[2].allDayEvents,e.dayviewAllDayEventTemplate))}}function bt(e,t){}function pt(e,t){if(1&e&&(l.bc(0,"td",13),l.Oc(1,bt,0,0,"ng-template",12),l.ac()),2&e){const e=l.nc();l.Ib(1),l.uc("ngTemplateOutlet",e.dayviewInactiveAllDayEventSectionTemplate)("ngTemplateOutletContext",l.zc(2,Xe,e.views[2].allDayEvents))}}function ft(e,t){}function wt(e,t){if(1&e){const e=l.cc();l.bc(0,"tr"),l.bc(1,"td",17),l.Qc(2),l.ac(),l.bc(3,"td",18),l.jc("click",(function(){l.Hc(e);const n=t.$implicit;return l.nc(2).select(n.time,n.events)})),l.Oc(4,ft,0,0,"ng-template",12),l.ac(),l.ac()}if(2&e){const e=t.$implicit,n=t.index,i=l.nc(2);l.Ib(2),l.Sc(" ",i.hourColumnLabels[n]," "),l.Ib(2),l.uc("ngTemplateOutlet",i.dayviewNormalEventSectionTemplate)("ngTemplateOutletContext",l.Bc(3,Z,e,i.hourParts,i.dayviewNormalEventTemplate))}}function Tt(e,t){if(1&e){const e=l.cc();l.bc(0,"init-position-scroll",14),l.jc("onScroll",(function(t){return l.Hc(e),l.nc().setScrollPosition(t)})),l.bc(1,"table",15),l.bc(2,"tbody"),l.Oc(3,wt,5,7,"tr",16),l.ac(),l.ac(),l.ac()}if(2&e){const e=l.nc();l.uc("initPosition",e.initScrollPosition)("emitEvent",e.preserveScrollPosition),l.Ib(3),l.uc("ngForOf",e.views[2].rows)}}function yt(e,t){}function St(e,t){if(1&e&&(l.bc(0,"tr"),l.bc(1,"td",17),l.Qc(2),l.ac(),l.bc(3,"td",13),l.Oc(4,yt,0,0,"ng-template",12),l.ac(),l.ac()),2&e){const e=t.$implicit,n=t.index,i=l.nc(2);l.Ib(2),l.Sc(" ",i.hourColumnLabels[n]," "),l.Ib(2),l.uc("ngTemplateOutlet",i.dayviewInactiveNormalEventSectionTemplate)("ngTemplateOutletContext",l.Ac(3,le,e,i.hourParts))}}function Dt(e,t){if(1&e&&(l.bc(0,"init-position-scroll",19),l.bc(1,"table",15),l.bc(2,"tbody"),l.Oc(3,St,5,6,"tr",16),l.ac(),l.ac(),l.ac()),2&e){const e=l.nc();l.uc("initPosition",e.initScrollPosition),l.Ib(3),l.uc("ngForOf",e.views[2].rows)}}function Ot(e,t){1&e&&l.Qc(0),2&e&&l.Sc(" ",t.view.dates[7*t.row+t.col].label," ")}function Ct(e,t){if(1&e&&(l.bc(0,"span",21),l.Qc(1),l.oc(2,"date"),l.oc(3,"date"),l.ac()),2&e){const e=l.nc().$implicit;l.Ib(1),l.Tc("",l.qc(2,2,e.startTime,"HH:mm")," - ",l.qc(3,5,e.endTime,"HH:mm")," ")}}function It(e,t){if(1&e&&(l.bc(0,"span",21),l.Qc(1),l.ac()),2&e){const e=l.nc(4);l.Ib(1),l.Rc(e.allDayLabel)}}function kt(e,t){if(1&e){const e=l.cc();l.bc(0,"ion-item",18),l.jc("click",(function(){l.Hc(e);const n=t.$implicit;return l.nc(3).eventSelected(n)})),l.Oc(1,Ct,4,8,"span",19),l.Oc(2,It,2,1,"span",19),l.bc(3,"span",20),l.Qc(4),l.ac(),l.ac()}if(2&e){const e=t.$implicit;l.Ib(1),l.uc("ngIf",!e.allDay),l.Ib(1),l.uc("ngIf",e.allDay),l.Ib(2),l.Sc(" | ",e.title,"")}}function Et(e,t){if(1&e&&(l.bc(0,"ion-item"),l.bc(1,"div",22),l.Qc(2),l.ac(),l.ac()),2&e){const e=l.nc(2).noEventsLabel;l.Ib(2),l.Rc(e)}}function Pt(e,t){if(1&e&&(l.bc(0,"ion-list",15),l.Oc(1,kt,5,3,"ion-item",16),l.Oc(2,Et,3,1,"ion-item",17),l.ac()),2&e){const e=l.nc().selectedDate;l.Ib(1),l.uc("ngForOf",null==e?null:e.events),l.Ib(1),l.uc("ngIf",0==(null==e?null:e.events.length))}}function xt(e,t){1&e&&l.Oc(0,Pt,3,2,"ion-list",14),2&e&&l.uc("ngIf",t.showEventDetail)}function Mt(e,t){1&e&&l.Qc(0),2&e&&l.Sc(" ",t.viewDate.dayHeader," ")}function Ht(e,t){if(1&e&&(l.bc(0,"div",23),l.Qc(1),l.ac()),2&e){const e=t.displayEvent;l.Ib(1),l.Rc(e.event.title)}}function Ft(e,t){if(1&e&&(l.bc(0,"div",23),l.Qc(1),l.ac()),2&e){const e=t.displayEvent;l.Ib(1),l.Rc(e.event.title)}}function Vt(e,t){}const At=function(e,t){return{top:e,width:t,height:"25px"}},_t=function(e){return{displayEvent:e}};function Nt(e,t){if(1&e){const e=l.cc();l.bc(0,"div",27),l.jc("click",(function(){l.Hc(e);const n=t.$implicit;return l.nc(3).eventSelected(n.event)})),l.Oc(1,Vt,0,0,"ng-template",28),l.ac()}if(2&e){const e=t.$implicit,n=l.nc(2).eventTemplate;l.uc("ngStyle",l.Ac(3,At,25*e.position+"px",100*(e.endIndex-e.startIndex)+"%")),l.Ib(1),l.uc("ngTemplateOutlet",n)("ngTemplateOutletContext",l.zc(6,_t,e))}}function Lt(e,t){if(1&e&&(l.bc(0,"div",25),l.Oc(1,Nt,2,8,"div",26),l.ac()),2&e){const e=l.nc().day;l.uc("ngClass",l.zc(3,be,e.events))("ngStyle",l.zc(5,Ue,25*e.events.length+"px")),l.Ib(1),l.uc("ngForOf",e.events)}}function $t(e,t){1&e&&l.Oc(0,Lt,2,7,"div",24),2&e&&l.uc("ngIf",t.day.events)}function Rt(e,t){}const jt=function(e){return{top:e,width:"100%",height:"25px"}};function Wt(e,t){if(1&e){const e=l.cc();l.bc(0,"div",27),l.jc("click",(function(){l.Hc(e);const n=t.$implicit;return l.nc(2).eventSelected(n.event)})),l.Oc(1,Rt,0,0,"ng-template",28),l.ac()}if(2&e){const e=t.$implicit,n=t.index,i=l.nc().eventTemplate;l.uc("ngStyle",l.zc(3,jt,25*n+"px")),l.Ib(1),l.uc("ngTemplateOutlet",i)("ngTemplateOutletContext",l.zc(5,_t,e))}}function Qt(e,t){1&e&&l.Oc(0,Wt,2,7,"div",26),2&e&&l.uc("ngForOf",t.allDayEvents)}function zt(e,t){}const Yt=function(e,t,n,i){return{top:e,left:t,width:n,height:i}};function Ut(e,t){if(1&e){const e=l.cc();l.bc(0,"div",27),l.jc("click",(function(){l.Hc(e);const n=t.$implicit;return l.nc(3).eventSelected(n.event)})),l.Oc(1,zt,0,0,"ng-template",28),l.ac()}if(2&e){const e=t.$implicit,n=l.nc(2),i=n.hourParts,a=n.eventTemplate;l.uc("ngStyle",l.Cc(3,Yt,37*e.startOffset/i+"px",100/e.overlapNumber*e.position+"%",100/e.overlapNumber+"%",37*(e.endIndex-e.startIndex-(e.endOffset+e.startOffset)/i)+"px")),l.Ib(1),l.uc("ngTemplateOutlet",a)("ngTemplateOutletContext",l.zc(8,_t,e))}}function Bt(e,t){if(1&e&&(l.bc(0,"div",30),l.Oc(1,Ut,2,10,"div",26),l.ac()),2&e){const e=l.nc().tm;l.uc("ngClass",l.zc(2,be,e.events)),l.Ib(1),l.uc("ngForOf",e.events)}}function qt(e,t){1&e&&l.Oc(0,Bt,2,4,"div",29),2&e&&l.uc("ngIf",t.tm.events)}function Gt(e,t){}function Xt(e,t){}function Jt(e,t){if(1&e){const e=l.cc();l.bc(0,"monthview",31),l.jc("onRangeChanged",(function(t){return l.Hc(e),l.nc().rangeChanged(t)}))("onEventSelected",(function(t){return l.Hc(e),l.nc().eventSelected(t)}))("onTimeSelected",(function(t){return l.Hc(e),l.nc().timeSelected(t)}))("onTitleChanged",(function(t){return l.Hc(e),l.nc().titleChanged(t)})),l.ac()}if(2&e){const e=l.nc(),t=l.Ec(1),n=l.Ec(3);l.uc("formatDay",e.formatDay)("formatDayHeader",e.formatDayHeader)("formatMonthTitle",e.formatMonthTitle)("startingDayMonth",e.startingDayMonth)("showEventDetail",e.showEventDetail)("noEventsLabel",e.noEventsLabel)("autoSelect",e.autoSelect)("eventSource",e.eventSource)("markDisabled",e.markDisabled)("monthviewDisplayEventTemplate",e.monthviewDisplayEventTemplate||t)("monthviewInactiveDisplayEventTemplate",e.monthviewInactiveDisplayEventTemplate||t)("monthviewEventDetailTemplate",e.monthviewEventDetailTemplate||n)("locale",e.locale)("dateFormatter",e.dateFormatter)("dir",e.dir)("lockSwipeToPrev",e.lockSwipeToPrev)("lockSwipes",e.lockSwipes)("sliderOptions",e.sliderOptions)}}function Kt(e,t){if(1&e){const e=l.cc();l.bc(0,"weekview",32),l.jc("onRangeChanged",(function(t){return l.Hc(e),l.nc().rangeChanged(t)}))("onEventSelected",(function(t){return l.Hc(e),l.nc().eventSelected(t)}))("onTimeSelected",(function(t){return l.Hc(e),l.nc().timeSelected(t)}))("onTitleChanged",(function(t){return l.Hc(e),l.nc().titleChanged(t)})),l.ac()}if(2&e){const e=l.nc(),t=l.Ec(5),n=l.Ec(7),i=l.Ec(9),a=l.Ec(11),c=l.Ec(15),o=l.Ec(17),r=l.Ec(19);l.uc("formatWeekTitle",e.formatWeekTitle)("formatWeekViewDayHeader",e.formatWeekViewDayHeader)("formatHourColumn",e.formatHourColumn)("startingDayWeek",e.startingDayWeek)("allDayLabel",e.allDayLabel)("hourParts",e.hourParts)("autoSelect",e.autoSelect)("hourSegments",e.hourSegments)("eventSource",e.eventSource)("markDisabled",e.markDisabled)("weekviewHeaderTemplate",e.weekviewHeaderTemplate||t)("weekviewAllDayEventTemplate",e.weekviewAllDayEventTemplate||n)("weekviewNormalEventTemplate",e.weekviewNormalEventTemplate||i)("weekviewAllDayEventSectionTemplate",e.weekviewAllDayEventSectionTemplate||a)("weekviewNormalEventSectionTemplate",e.weekviewNormalEventSectionTemplate||c)("weekviewInactiveAllDayEventSectionTemplate",e.weekviewInactiveAllDayEventSectionTemplate||o)("weekviewInactiveNormalEventSectionTemplate",e.weekviewInactiveNormalEventSectionTemplate||r)("locale",e.locale)("dateFormatter",e.dateFormatter)("dir",e.dir)("scrollToHour",e.scrollToHour)("preserveScrollPosition",e.preserveScrollPosition)("lockSwipeToPrev",e.lockSwipeToPrev)("lockSwipes",e.lockSwipes)("startHour",e.startHour)("endHour",e.endHour)("sliderOptions",e.sliderOptions)}}function Zt(e,t){if(1&e){const e=l.cc();l.bc(0,"dayview",33),l.jc("onRangeChanged",(function(t){return l.Hc(e),l.nc().rangeChanged(t)}))("onEventSelected",(function(t){return l.Hc(e),l.nc().eventSelected(t)}))("onTimeSelected",(function(t){return l.Hc(e),l.nc().timeSelected(t)}))("onTitleChanged",(function(t){return l.Hc(e),l.nc().titleChanged(t)})),l.ac()}if(2&e){const e=l.nc(),t=l.Ec(7),n=l.Ec(9),i=l.Ec(13),a=l.Ec(15),c=l.Ec(17),o=l.Ec(19);l.uc("formatDayTitle",e.formatDayTitle)("formatHourColumn",e.formatHourColumn)("allDayLabel",e.allDayLabel)("hourParts",e.hourParts)("hourSegments",e.hourSegments)("eventSource",e.eventSource)("markDisabled",e.markDisabled)("dayviewAllDayEventTemplate",e.dayviewAllDayEventTemplate||t)("dayviewNormalEventTemplate",e.dayviewNormalEventTemplate||n)("dayviewAllDayEventSectionTemplate",e.dayviewAllDayEventSectionTemplate||i)("dayviewNormalEventSectionTemplate",e.dayviewNormalEventSectionTemplate||a)("dayviewInactiveAllDayEventSectionTemplate",e.dayviewInactiveAllDayEventSectionTemplate||c)("dayviewInactiveNormalEventSectionTemplate",e.dayviewInactiveNormalEventSectionTemplate||o)("locale",e.locale)("dateFormatter",e.dateFormatter)("dir",e.dir)("scrollToHour",e.scrollToHour)("preserveScrollPosition",e.preserveScrollPosition)("lockSwipeToPrev",e.lockSwipeToPrev)("lockSwipes",e.lockSwipes)("startHour",e.startHour)("endHour",e.endHour)("sliderOptions",e.sliderOptions)}}const en=["*"];let tn=(()=>{let e=class{constructor(){this.currentDateChangedFromParent=new r.a,this.currentDateChangedFromChildren=new r.a,this.eventSourceChanged=new r.a,this.slideChanged=new r.a,this.currentDateChangedFromParent$=this.currentDateChangedFromParent.asObservable(),this.currentDateChangedFromChildren$=this.currentDateChangedFromChildren.asObservable(),this.eventSourceChanged$=this.eventSourceChanged.asObservable(),this.slideChanged$=this.slideChanged.asObservable()}setCurrentDate(e,t=!1){this._currentDate=new Date(e),t?this.currentDateChangedFromParent.next(e):this.currentDateChangedFromChildren.next(e)}get currentDate(){return this._currentDate}rangeChanged(e){if("local"===this.queryMode)e.eventSource&&e.onDataLoaded&&e.onDataLoaded();else if("remote"===this.queryMode){let t=new Date(e.range.startTime.getTime()),n=new Date(e.range.endTime.getTime());t.setHours(0),23===t.getHours()&&t.setTime(t.getTime()+36e5),n.setHours(0),23===n.getHours()&&n.setTime(n.getTime()+36e5),e.onRangeChanged.emit({startTime:t,endTime:n})}}getStep(e){switch(e){case"month":return{years:0,months:1,days:0};case"week":return{years:0,months:0,days:7};case"day":return{years:0,months:0,days:1}}}getAdjacentCalendarDate(e,t){let n=this.currentDate;const i=this.getStep(e),a=n.getFullYear()+t*i.years,c=n.getMonth()+t*i.months,o=n.getDate()+t*i.days;if(n=new Date(a,c,o,12,0,0),"month"===e){const e=new Date(a,c+1,1,12,0,0);e.getTime()<=n.getTime()&&(n=new Date(e.getTime()-864e5))}return n}getAdjacentViewStartTime(e,t){let n=this.getAdjacentCalendarDate(e.mode,t);return e.getRange(n).startTime}populateAdjacentViews(e){let t,n,i,a=e.currentViewIndex;1===e.direction?(t=this.getAdjacentViewStartTime(e,1),i=(a+1)%3,e.views[i]=e.getViewData(t)):-1===e.direction?(t=this.getAdjacentViewStartTime(e,-1),i=(a+2)%3,e.views[i]=e.getViewData(t)):e.views?(t=e.range.startTime,e.views[a]=e.getViewData(t),t=this.getAdjacentViewStartTime(e,-1),i=(a+2)%3,e.views[i]=e.getViewData(t),t=this.getAdjacentViewStartTime(e,1),i=(a+1)%3,e.views[i]=e.getViewData(t)):(n=[],t=e.range.startTime,n.push(e.getViewData(t)),t=this.getAdjacentViewStartTime(e,1),n.push(e.getViewData(t)),t=this.getAdjacentViewStartTime(e,-1),n.push(e.getViewData(t)),e.views=n)}loadEvents(){this.eventSourceChanged.next()}slide(e){this.slideChanged.next(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Rb({token:e,factory:e.\u0275fac}),e})();var nn;let an=(()=>{let e=nn=class{constructor(e){this.calendarService=e,this.autoSelect=!0,this.dir="",this.onRangeChanged=new l.p,this.onEventSelected=new l.p,this.onTimeSelected=new l.p(!0),this.onTitleChanged=new l.p(!0),this.views=[],this.currentViewIndex=0,this.mode="month",this.direction=0,this.moveOnSelected=!1,this.inited=!1,this.callbackOnInit=!0}static getDates(e,t){const n=new Array(t),i=new Date(e.getTime());let a=0;for(;a<t;)n[a++]=new Date(i.getTime()),i.setDate(i.getDate()+1);return n}ngOnInit(){if(this.sliderOptions||(this.sliderOptions={}),this.sliderOptions.loop=!0,this.dateFormatter&&this.dateFormatter.formatMonthViewDay)this.formatDayLabel=this.dateFormatter.formatMonthViewDay;else{const e=new i.f("en-US");this.formatDayLabel=function(t){return e.transform(t,this.formatDay)}}if(this.dateFormatter&&this.dateFormatter.formatMonthViewDayHeader)this.formatDayHeaderLabel=this.dateFormatter.formatMonthViewDayHeader;else{const e=new i.f(this.locale);this.formatDayHeaderLabel=function(t){return e.transform(t,this.formatDayHeader)}}if(this.dateFormatter&&this.dateFormatter.formatMonthViewTitle)this.formatTitle=this.dateFormatter.formatMonthViewTitle;else{const e=new i.f(this.locale);this.formatTitle=function(t){return e.transform(t,this.formatMonthTitle)}}this.lockSwipeToPrev&&this.slider.lockSwipeToPrev(!0),this.lockSwipes&&this.slider.lockSwipes(!0),this.refreshView(),this.inited=!0,this.currentDateChangedFromParentSubscription=this.calendarService.currentDateChangedFromParent$.subscribe(e=>{this.refreshView()}),this.eventSourceChangedSubscription=this.calendarService.eventSourceChanged$.subscribe(()=>{this.onDataLoaded()}),this.slideChangedSubscription=this.calendarService.slideChanged$.subscribe(e=>{1===e?this.slider.slideNext():-1===e&&this.slider.slidePrev()})}ngOnDestroy(){this.currentDateChangedFromParentSubscription&&(this.currentDateChangedFromParentSubscription.unsubscribe(),this.currentDateChangedFromParentSubscription=null),this.eventSourceChangedSubscription&&(this.eventSourceChangedSubscription.unsubscribe(),this.eventSourceChangedSubscription=null),this.slideChangedSubscription&&(this.slideChangedSubscription.unsubscribe(),this.slideChangedSubscription=null)}ngOnChanges(e){if(!this.inited)return;const t=e.eventSource;t&&t.currentValue&&this.onDataLoaded();const n=e.lockSwipeToPrev;n&&this.slider.lockSwipeToPrev(n.currentValue);const i=e.lockSwipes;i&&this.slider.lockSwipes(i.currentValue)}ngAfterViewInit(){const e=this.getTitle();this.onTitleChanged.emit(e)}onSlideChanged(){if(this.callbackOnInit)return void(this.callbackOnInit=!1);let e=0;const t=this.currentViewIndex;this.slider.getActiveIndex().then(n=>{n=(n+2)%3,isNaN(n)&&(n=t),n-t==1?e=1:0===n&&2===t?(e=1,this.slider.slideTo(1,0,!1)):t-n==1?e=-1:2===n&&0===t&&(e=-1,this.slider.slideTo(3,0,!1)),this.currentViewIndex=n,this.move(e)})}move(e){if(0!==e){if(this.direction=e,!this.moveOnSelected){const t=this.calendarService.getAdjacentCalendarDate(this.mode,e);this.calendarService.setCurrentDate(t)}this.refreshView(),this.direction=0,this.moveOnSelected=!1}}createDateObject(e){let t=!1;return this.markDisabled&&(t=this.markDisabled(e)),{date:e,events:[],label:this.formatDayLabel(e),secondary:!1,disabled:t}}getViewData(e){const t=e,n=t.getDate(),i=(t.getMonth()+(1!==n?1:0))%12,a=nn.getDates(t,42),c=[];for(let l=0;l<42;l++){const e=this.createDateObject(a[l]);e.secondary=a[l].getMonth()!==i,c[l]=e}const o=[];for(let l=0;l<7;l++)o.push(this.formatDayHeaderLabel(c[l].date));return{dates:c,dayHeaders:o}}getHighlightClass(e){let t="";return e.hasEvent&&(t=e.secondary?"monthview-secondary-with-event":"monthview-primary-with-event"),e.selected&&(t&&(t+=" "),t+="monthview-selected"),e.current&&(t&&(t+=" "),t+="monthview-current"),e.secondary&&(t&&(t+=" "),t+="text-muted"),e.disabled&&(t&&(t+=" "),t+="monthview-disabled"),t}getRange(e){const t=e.getFullYear(),n=e.getMonth(),i=new Date(t,n,1,12,0,0),a=this.startingDayMonth-i.getDay(),c=a>0?7-a:-a,o=new Date(i.getTime());c>0&&o.setDate(1-c);const l=new Date(o.getTime());return l.setDate(l.getDate()+42),{startTime:o,endTime:l}}onDataLoaded(){const e=this.range,t=this.eventSource,n=t?t.length:0,i=e.startTime,a=e.endTime,c=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),o=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),l=this.views[this.currentViewIndex].dates;for(let r=0;r<42;r+=1)l[r].hasEvent&&(l[r].hasEvent=!1,l[r].events=[]);for(let r=0;r<n;r+=1){const e=t[r],n=e.startTime,i=e.endTime;let a,s,d,u;if(e.allDay?(a=n.getTime(),s=i.getTime()):(a=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),s=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()+1)),s<=c||a>=o)continue;d=a<c?0:(a-c)/864e5,u=s>o?(o-c)/864e5:(s-c)/864e5;let h=Math.floor(d);const m=Math.ceil(u-6e-4);for(;h<m;){l[h].hasEvent=!0;let t=l[h].events;t?t.push(e):(t=[],t.push(e),l[h].events=t),h+=1}}for(let r=0;r<42;r+=1)l[r].hasEvent&&l[r].events.sort(this.compareEvent);if(this.autoSelect){let e=!1;for(let t=0;t<42;t+=1)if(l[t].selected){this.selectedDate=l[t],e=!0;break}e&&this.onTimeSelected.emit({selectedTime:this.selectedDate.date,events:this.selectedDate.events,disabled:this.selectedDate.disabled})}}refreshView(){if(this.range=this.getRange(this.calendarService.currentDate),this.inited){const e=this.getTitle();this.onTitleChanged.emit(e)}this.calendarService.populateAdjacentViews(this),this.updateCurrentView(this.range.startTime,this.views[this.currentViewIndex]),this.calendarService.rangeChanged(this)}getTitle(){const e=this.range.startTime,t=e.getDate(),n=(e.getMonth()+(1!==t?1:0))%12,i=e.getFullYear()+(1!==t&&0===n?1:0),a=new Date(i,n,1,12,0,0,0);return this.formatTitle(a)}compareEvent(e,t){return e.allDay?1:t.allDay?-1:e.startTime.getTime()-t.startTime.getTime()}select(e){if(!this.views)return;const t=e.date,n=e.events;if(!e.disabled){const e=this.views[this.currentViewIndex].dates,n=this.calendarService.currentDate,i=n.getMonth(),a=n.getFullYear(),c=t.getMonth(),o=t.getFullYear();let l=0;if(a===o?i!==c&&(l=i<c?1:-1):l=a<o?1:-1,this.calendarService.setCurrentDate(t),0===l){const n=this.range.startTime,i=864e5,a=Math.round((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()))/i);for(let t=0;t<42;t+=1)e[t].selected=!1;a>=0&&a<42&&(e[a].selected=!0,this.selectedDate=e[a])}else this.moveOnSelected=!0,this.slideView(l)}this.onTimeSelected.emit({selectedTime:t,events:n,disabled:e.disabled})}slideView(e){1===e?this.slider.slideNext():-1===e&&this.slider.slidePrev()}updateCurrentView(e,t){const n=this.calendarService.currentDate,i=new Date,a=Math.round((Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5),c=Math.round((Date.UTC(i.getFullYear(),i.getMonth(),i.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5);for(let o=0;o<42;o+=1)t.dates[o].selected=!1;a>=0&&a<42&&!t.dates[a].disabled&&(this.autoSelect||this.moveOnSelected)?(t.dates[a].selected=!0,this.selectedDate=t.dates[a]):this.selectedDate={date:null,events:[],label:null,secondary:null,disabled:!1},c>=0&&c<42&&(t.dates[c].current=!0)}eventSelected(e){this.onEventSelected.emit(e)}};return e.\u0275fac=function(t){return new(t||e)(l.Vb(tn))},e.\u0275cmp=l.Pb({type:e,selectors:[["monthview"]],viewQuery:function(e,t){var n;1&e&&l.Mc(s,!0),2&e&&l.Dc(n=l.kc())&&(t.slider=n.first)},inputs:{autoSelect:"autoSelect",dir:"dir",sliderOptions:"sliderOptions",monthviewDisplayEventTemplate:"monthviewDisplayEventTemplate",monthviewInactiveDisplayEventTemplate:"monthviewInactiveDisplayEventTemplate",monthviewEventDetailTemplate:"monthviewEventDetailTemplate",formatDay:"formatDay",formatDayHeader:"formatDayHeader",formatMonthTitle:"formatMonthTitle",eventSource:"eventSource",startingDayMonth:"startingDayMonth",showEventDetail:"showEventDetail",noEventsLabel:"noEventsLabel",markDisabled:"markDisabled",locale:"locale",dateFormatter:"dateFormatter",lockSwipeToPrev:"lockSwipeToPrev",lockSwipes:"lockSwipes"},outputs:{onRangeChanged:"onRangeChanged",onEventSelected:"onEventSelected",onTimeSelected:"onTimeSelected",onTitleChanged:"onTitleChanged"},features:[l.Gb],decls:13,vars:14,consts:[[3,"options","dir","ionSlideDidChange"],["monthSlider",""],["class","table table-bordered table-fixed monthview-datetable",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"table","table-bordered","table-fixed","monthview-datetable"],[4,"ngFor","ngForOf"],["tappable","",3,"ngClass","click",4,"ngFor","ngForOf"],["tappable","",3,"ngClass","click"],[1,"text-center"]],template:function(e,t){1&e&&(l.bc(0,"div"),l.bc(1,"ion-slides",0,1),l.jc("ionSlideDidChange",(function(){return t.onSlideChanged()})),l.bc(3,"ion-slide"),l.Oc(4,p,6,3,"table",2),l.Oc(5,S,7,3,"table",2),l.ac(),l.bc(6,"ion-slide"),l.Oc(7,k,6,3,"table",2),l.Oc(8,H,7,3,"table",2),l.ac(),l.bc(9,"ion-slide"),l.Oc(10,N,6,3,"table",2),l.Oc(11,W,7,3,"table",2),l.ac(),l.ac(),l.Oc(12,Q,0,0,"ng-template",3),l.ac()),2&e&&(l.Ib(1),l.uc("options",t.sliderOptions)("dir",t.dir),l.Ib(3),l.uc("ngIf",0===t.currentViewIndex),l.Ib(1),l.uc("ngIf",0!==t.currentViewIndex),l.Ib(2),l.uc("ngIf",1===t.currentViewIndex),l.Ib(1),l.uc("ngIf",1!==t.currentViewIndex),l.Ib(2),l.uc("ngIf",2===t.currentViewIndex),l.Ib(1),l.uc("ngIf",2!==t.currentViewIndex),l.Ib(1),l.uc("ngTemplateOutlet",t.monthviewEventDetailTemplate)("ngTemplateOutletContext",l.Bc(10,z,t.showEventDetail,t.selectedDate,t.noEventsLabel)))},directives:[c.W,c.V,i.m,i.r,i.l,i.k],styles:[".text-muted[_ngcontent-%COMP%] {\n            color: #999;\n        }\n\n        .table-fixed[_ngcontent-%COMP%] {\n            table-layout: fixed;\n        }\n\n        .table[_ngcontent-%COMP%] {\n            width: 100%;\n            max-width: 100%;\n            background-color: transparent;\n        }\n\n        .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]    > tfoot[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]    > tfoot[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n            padding: 8px;\n            line-height: 20px;\n            vertical-align: top;\n        }\n\n        .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\n            vertical-align: bottom;\n            border-bottom: 2px solid #ddd;\n        }\n\n        .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]:first-child    > tr[_ngcontent-%COMP%]:first-child    > th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]:first-child    > tr[_ngcontent-%COMP%]:first-child    > td[_ngcontent-%COMP%] {\n            border-top: 0\n        }\n\n        .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    + tbody[_ngcontent-%COMP%] {\n            border-top: 2px solid #ddd;\n        }\n\n        .table-bordered[_ngcontent-%COMP%] {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]    > tfoot[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]    > tfoot[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n            border-bottom-width: 2px;\n        }\n\n        .table-striped[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]:nth-child(odd)    > td[_ngcontent-%COMP%], .table-striped[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]:nth-child(odd)    > th[_ngcontent-%COMP%] {\n            background-color: #f9f9f9\n        }\n\n        .monthview-primary-with-event[_ngcontent-%COMP%] {\n            background-color: #3a87ad;\n            color: white;\n        }\n\n        .monthview-current[_ngcontent-%COMP%] {\n            background-color: #f0f0f0;\n        }\n\n        .monthview-selected[_ngcontent-%COMP%] {\n            background-color: #009900;\n            color: white;\n        }\n\n        .monthview-datetable[_ngcontent-%COMP%]   td.monthview-disabled[_ngcontent-%COMP%] {\n            color: lightgrey;\n            cursor: default;\n        }\n\n        .monthview-datetable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n            text-align: center;\n        }\n\n        .monthview-datetable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n            cursor: pointer;\n            text-align: center;\n        }\n\n        .monthview-secondary-with-event[_ngcontent-%COMP%] {\n            background-color: #d9edf7;\n        }\n\n        [_ngcontent-%COMP%]::-webkit-scrollbar, *[_ngcontent-%COMP%]::-webkit-scrollbar {\n            display: none;\n        }"]}),e})();var cn;let on=(()=>{let e=cn=class{constructor(e,t){this.calendarService=e,this.elm=t,this.class=!0,this.autoSelect=!0,this.dir="",this.scrollToHour=0,this.onRangeChanged=new l.p,this.onEventSelected=new l.p,this.onTimeSelected=new l.p,this.onTitleChanged=new l.p(!0),this.views=[],this.currentViewIndex=0,this.direction=0,this.mode="week",this.inited=!1,this.callbackOnInit=!0}static createDateObjects(e,t,n,i){const a=[],c=e.getDate();let o,l;i<1?(o=Math.floor(1/i),l=60):(o=1,l=Math.floor(60/i));for(let r=t;r<n;r+=o)for(let t=0;t<60;t+=l){const n=[];for(let i=0;i<7;i+=1){const a=new Date(e.getTime());a.setHours(0+r,t),a.setDate(c+i),n.push({events:[],time:a})}a.push(n)}return a}static getDates(e,t){const n=new Array(t),i=new Date(e.getTime());let a=0;for(;a<t;)n[a++]={date:new Date(i.getTime()),events:[],dayHeader:""},i.setDate(i.getDate()+1);return n}static compareEventByStartOffset(e,t){return e.startOffset-t.startOffset}static calculateWidth(e,t,n){const i=t*n,a=new Array(i);e.sort((e,t)=>t.position-e.position);for(let l=0;l<i;l+=1)a[l]={calculated:!1,events:[]};const c=e.length;for(let l=0;l<c;l+=1){const t=e[l];let i=t.startIndex*n+t.startOffset;for(;i<t.endIndex*n-t.endOffset;)a[i].events.push(t),i+=1}let o=0;for(;o<c;){let t=e[o];if(!t.overlapNumber){const e=t.position+1;t.overlapNumber=e;const i=[t];for(;t=i.shift();){let c=t.startIndex*n+t.startOffset;for(;c<t.endIndex*n-t.endOffset;){if(!a[c].calculated&&(a[c].calculated=!0,a[c].events)){const t=a[c].events.length;for(let n=0;n<t;n+=1){const t=a[c].events[n];t.overlapNumber||(t.overlapNumber=e,i.push(t))}}c+=1}}}o+=1}}ngOnInit(){if(this.sliderOptions||(this.sliderOptions={}),this.sliderOptions.loop=!0,this.hourRange=(this.endHour-this.startHour)*this.hourSegments,this.dateFormatter&&this.dateFormatter.formatWeekViewDayHeader)this.formatDayHeader=this.dateFormatter.formatWeekViewDayHeader;else{const e=new i.f(this.locale);this.formatDayHeader=function(t){return e.transform(t,this.formatWeekViewDayHeader)}}if(this.dateFormatter&&this.dateFormatter.formatWeekViewTitle)this.formatTitle=this.dateFormatter.formatWeekViewTitle;else{const e=new i.f(this.locale);this.formatTitle=function(t){return e.transform(t,this.formatWeekTitle)}}if(this.dateFormatter&&this.dateFormatter.formatWeekViewHourColumn)this.formatHourColumnLabel=this.dateFormatter.formatWeekViewHourColumn;else{const e=new i.f(this.locale);this.formatHourColumnLabel=function(t){return e.transform(t,this.formatHourColumn)}}this.lockSwipeToPrev&&this.slider.lockSwipeToPrev(!0),this.lockSwipes&&this.slider.lockSwipes(!0),this.refreshView(),this.hourColumnLabels=this.getHourColumnLabels(),this.inited=!0,this.currentDateChangedFromParentSubscription=this.calendarService.currentDateChangedFromParent$.subscribe(e=>{this.refreshView()}),this.eventSourceChangedSubscription=this.calendarService.eventSourceChanged$.subscribe(()=>{this.onDataLoaded()}),this.slideChangedSubscription=this.calendarService.slideChanged$.subscribe(e=>{1===e?this.slider.slideNext():-1===e&&this.slider.slidePrev()})}ngAfterViewInit(){const e=this.getTitle();if(this.onTitleChanged.emit(e),this.scrollToHour>0){const e=this.elm.nativeElement.querySelector(".weekview-normal-event-container").querySelectorAll(".calendar-hour-column"),t=this;setTimeout(()=>{t.initScrollPosition=e[t.scrollToHour-t.startHour].offsetTop},50)}}ngOnChanges(e){if(!this.inited)return;const t=e.eventSource;t&&t.currentValue&&this.onDataLoaded();const n=e.lockSwipeToPrev;n&&this.slider.lockSwipeToPrev(n.currentValue);const i=e.lockSwipes;i&&this.slider.lockSwipes(i.currentValue)}ngOnDestroy(){this.currentDateChangedFromParentSubscription&&(this.currentDateChangedFromParentSubscription.unsubscribe(),this.currentDateChangedFromParentSubscription=null),this.eventSourceChangedSubscription&&(this.eventSourceChangedSubscription.unsubscribe(),this.eventSourceChangedSubscription=null),this.slideChangedSubscription&&(this.slideChangedSubscription.unsubscribe(),this.slideChangedSubscription=null)}onSlideChanged(){if(this.callbackOnInit)return void(this.callbackOnInit=!1);const e=this.currentViewIndex;let t=0;this.slider.getActiveIndex().then(n=>{n=(n+2)%3,isNaN(n)&&(n=e),n-e==1?t=1:0===n&&2===e?(t=1,this.slider.slideTo(1,0,!1)):e-n==1?t=-1:2===n&&0===e&&(t=-1,this.slider.slideTo(3,0,!1)),this.currentViewIndex=n,this.move(t)})}move(e){if(0===e)return;this.direction=e;const t=this.calendarService.getAdjacentCalendarDate(this.mode,e);this.calendarService.setCurrentDate(t),this.refreshView(),this.direction=0}getHourColumnLabels(){const e=[];for(let t=0,n=this.views[0].rows.length;t<n;t+=1)if(0===t&&this.views[0].rows[t][0].time.getHours()!==this.startHour){const n=new Date(this.views[0].rows[t][0].time);n.setDate(n.getDate()+1),n.setHours(this.startHour),e.push(this.formatHourColumnLabel(n))}else e.push(this.formatHourColumnLabel(this.views[0].rows[t][0].time));return e}getViewData(e){const t=cn.getDates(e,7);for(let n=0;n<7;n++)t[n].dayHeader=this.formatDayHeader(t[n].date);return{rows:cn.createDateObjects(e,this.startHour,this.endHour,this.hourSegments),dates:t}}getRange(e){const t=e.getFullYear(),n=e.getMonth(),i=e.getDate();let a=e.getDay()-this.startingDayWeek;return a<0&&(a+=7),{startTime:new Date(t,n,i-a,12,0,0),endTime:new Date(t,n,i-a+7,12,0,0)}}onDataLoaded(){const e=this.eventSource,t=e?e.length:0,n=this.range.startTime,i=this.range.endTime,a=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),c=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),o=this.currentViewIndex,l=this.views[o].rows,r=this.views[o].dates,s=this.startHour*this.hourSegments,d=this.endHour*this.hourSegments,u=24*this.hourSegments;let h=!1,m=!1;for(let v=0;v<7;v+=1)r[v].events=[],r[v].hasEvent=!1;for(let v=0;v<7;v+=1)for(let e=0;e<this.hourRange;e+=1)l[e][v].events=[];for(let v=0;v<t;v+=1){const t=e[v],n=t.startTime,i=t.endTime;let o,g;if(t.allDay?(o=n.getTime(),g=i.getTime()):(o=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),g=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()+1)),!(g<=a||o>=c||n>=i))if(t.allDay){let e,n;h=!0,e=o<=a?0:Math.round((o-a)/864e5),n=g>=c?Math.round((c-a)/864e5):Math.round((g-a)/864e5);const i={event:t,startIndex:e,endIndex:n};let l=r[e].events;l?l.push(i):(l=[],l.push(i),r[e].events=l),r[e].hasEvent=!0}else{let e,h;m=!0,e=o<a?0:(o-a)/36e5*this.hourSegments+(n.getHours()+n.getMinutes()/60)*this.hourSegments,h=g>c?(c-a)/36e5*this.hourSegments:(g-864e5-a)/36e5*this.hourSegments+(i.getHours()+i.getMinutes()/60)*this.hourSegments;const v=Math.floor(e),b=Math.ceil(h-.016);let p=v%u,f=Math.floor(v/u),w=f*u,T=0,y=0;1!==this.hourParts&&(T=p<s?0:Math.floor((e-v)*this.hourParts));do{let e;if(w+=u,w<b?e=u:(e=w===b?u:b%u,1!==this.hourParts&&(y=e>d?0:Math.floor((b-h)*this.hourParts))),p<s?p=0:p-=s,e>d&&(e=d),e-=s,p<e){const n={event:t,startIndex:p,endIndex:e,startOffset:T,endOffset:y};let i=l[p][f].events;i?i.push(n):(i=[],i.push(n),l[p][f].events=i),r[f].hasEvent=!0}p=0,T=0,f+=1}while(w<b)}}if(m)for(let v=0;v<7;v+=1){let e=[];for(let t=0;t<this.hourRange;t+=1)l[t][v].events&&(l[t][v].events.sort(cn.compareEventByStartOffset),e=e.concat(l[t][v].events));e.length>0&&this.placeEvents(e)}if(h){let e=[];for(let t=0;t<7;t+=1)r[t].events&&(e=e.concat(r[t].events));e.length>0&&this.placeAllDayEvents(e)}if(this.autoSelect){let e,t=!1;for(let n=0;n<7;n+=1)if(r[n].selected){e=r[n],t=!0;break}if(t){let t=!1;this.markDisabled&&(t=this.markDisabled(e.date)),this.onTimeSelected.emit({selectedTime:e.date,events:e.events.map(e=>e.event),disabled:t})}}}refreshView(){if(this.range=this.getRange(this.calendarService.currentDate),this.inited){const e=this.getTitle();this.onTitleChanged.emit(e)}this.calendarService.populateAdjacentViews(this),this.updateCurrentView(this.range.startTime,this.views[this.currentViewIndex]),this.calendarService.rangeChanged(this)}getTitle(){const e=new Date(this.range.startTime.getTime());return e.setHours(12,0,0,0),this.formatTitle(e)}getHighlightClass(e){let t="";return e.hasEvent&&(t&&(t+=" "),t="weekview-with-event"),e.selected&&(t&&(t+=" "),t+="weekview-selected"),e.current&&(t&&(t+=" "),t+="weekview-current"),t}select(e,t){let n=!1;this.markDisabled&&(n=this.markDisabled(e)),this.onTimeSelected.emit({selectedTime:e,events:t.map(e=>e.event),disabled:n})}placeEvents(e){this.calculatePosition(e),cn.calculateWidth(e,this.hourRange,this.hourParts)}placeAllDayEvents(e){this.calculatePosition(e)}overlap(e,t){let n=e,i=t;return(e.startIndex>t.startIndex||e.startIndex===t.startIndex&&e.startOffset>t.startOffset)&&(n=t,i=e),!(n.endIndex<=i.startIndex||n.endIndex-i.startIndex==1&&n.endOffset+i.startOffset>=this.hourParts)}calculatePosition(e){const t=e.length,n=new Array(t);let i=0;for(let a=0;a<t;a+=1){let t;for(t=0;t<i;t+=1)n[t]=!1;for(let i=0;i<a;i+=1)this.overlap(e[a],e[i])&&(n[e[i].position]=!0);for(t=0;t<i&&n[t];t+=1);e[a].position=t<i?t:i++}if("rtl"===this.dir)for(let a=0;a<t;a+=1)e[a].position=i-1-e[a].position}updateCurrentView(e,t){const n=this.calendarService.currentDate,i=new Date,a=Math.round((Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5),c=Math.floor((Date.UTC(i.getFullYear(),i.getMonth(),i.getTime())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5);for(let o=0;o<7;o+=1)t.dates[o].selected=!1;a>=0&&a<7&&this.autoSelect&&(t.dates[a].selected=!0),c>=0&&c<7&&(t.dates[c].current=!0)}daySelected(e){const t=e.date,n=this.views[this.currentViewIndex].dates,i=this.range.startTime,a=Math.round((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()))/864e5);this.calendarService.setCurrentDate(t);for(let o=0;o<7;o+=1)n[o].selected=!1;a>=0&&a<7&&(n[a].selected=!0);let c=!1;this.markDisabled&&(c=this.markDisabled(t)),this.onTimeSelected.emit({selectedTime:t,events:e.events.map(e=>e.event),disabled:c})}setScrollPosition(e){this.initScrollPosition=e}};return e.\u0275fac=function(t){return new(t||e)(l.Vb(tn),l.Vb(l.m))},e.\u0275cmp=l.Pb({type:e,selectors:[["weekview"]],viewQuery:function(e,t){var n;1&e&&l.Mc(Y,!0),2&e&&l.Dc(n=l.kc())&&(t.slider=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&l.Mb("weekview",t.class)},inputs:{autoSelect:"autoSelect",dir:"dir",scrollToHour:"scrollToHour",sliderOptions:"sliderOptions",weekviewHeaderTemplate:"weekviewHeaderTemplate",weekviewAllDayEventTemplate:"weekviewAllDayEventTemplate",weekviewNormalEventTemplate:"weekviewNormalEventTemplate",weekviewAllDayEventSectionTemplate:"weekviewAllDayEventSectionTemplate",weekviewNormalEventSectionTemplate:"weekviewNormalEventSectionTemplate",weekviewInactiveAllDayEventSectionTemplate:"weekviewInactiveAllDayEventSectionTemplate",weekviewInactiveNormalEventSectionTemplate:"weekviewInactiveNormalEventSectionTemplate",formatWeekTitle:"formatWeekTitle",formatWeekViewDayHeader:"formatWeekViewDayHeader",formatHourColumn:"formatHourColumn",startingDayWeek:"startingDayWeek",allDayLabel:"allDayLabel",hourParts:"hourParts",eventSource:"eventSource",markDisabled:"markDisabled",locale:"locale",dateFormatter:"dateFormatter",preserveScrollPosition:"preserveScrollPosition",lockSwipeToPrev:"lockSwipeToPrev",lockSwipes:"lockSwipes",startHour:"startHour",endHour:"endHour",hourSegments:"hourSegments"},outputs:{onRangeChanged:"onRangeChanged",onEventSelected:"onEventSelected",onTimeSelected:"onTimeSelected",onTitleChanged:"onTitleChanged"},features:[l.Gb],decls:26,vars:11,consts:[[1,"slides-container",3,"options","dir","ionSlideDidChange"],["weekSlider",""],[1,"slide-container"],[1,"table","table-bordered","table-fixed","weekview-header"],[1,"calendar-hour-column"],["class","weekview-header text-center",3,"ngClass","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"weekview-header","text-center",3,"ngClass","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"weekview-allday-table"],[1,"weekview-allday-label"],[1,"weekview-allday-content-wrapper","scroll-content"],[1,"table","table-fixed","weekview-allday-content-table"],["class","calendar-cell",4,"ngFor","ngForOf"],[1,"weekview-normal-event-container",3,"initPosition","emitEvent","onScroll"],[1,"table","table-bordered","table-fixed","weekview-normal-event-table"],[4,"ngFor","ngForOf"],[1,"calendar-cell"],[1,"calendar-hour-column","text-center"],["class","calendar-cell","tappable","",3,"click",4,"ngFor","ngForOf"],["tappable","",1,"calendar-cell",3,"click"],[1,"weekview-normal-event-container",3,"initPosition"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(e,t){1&e&&(l.bc(0,"ion-slides",0,1),l.jc("ionSlideDidChange",(function(){return t.onSlideChanged()})),l.bc(2,"ion-slide",2),l.bc(3,"table",3),l.bc(4,"thead"),l.bc(5,"tr"),l.Wb(6,"th",4),l.Oc(7,q,2,5,"th",5),l.ac(),l.ac(),l.ac(),l.Oc(8,ne,13,5,"div",6),l.Oc(9,de,13,4,"div",6),l.ac(),l.bc(10,"ion-slide",2),l.bc(11,"table",3),l.bc(12,"thead"),l.bc(13,"tr"),l.Wb(14,"th",4),l.Oc(15,he,2,5,"th",5),l.ac(),l.ac(),l.ac(),l.Oc(16,Te,13,5,"div",6),l.Oc(17,ke,13,4,"div",6),l.ac(),l.bc(18,"ion-slide",2),l.bc(19,"table",3),l.bc(20,"thead"),l.bc(21,"tr"),l.Wb(22,"th",4),l.Oc(23,Pe,2,5,"th",5),l.ac(),l.ac(),l.ac(),l.Oc(24,_e,13,5,"div",6),l.Oc(25,Qe,13,4,"div",6),l.ac(),l.ac()),2&e&&(l.uc("options",t.sliderOptions)("dir",t.dir),l.Ib(7),l.uc("ngForOf",t.views[0].dates),l.Ib(1),l.uc("ngIf",0===t.currentViewIndex),l.Ib(1),l.uc("ngIf",0!==t.currentViewIndex),l.Ib(6),l.uc("ngForOf",t.views[1].dates),l.Ib(1),l.uc("ngIf",1===t.currentViewIndex),l.Ib(1),l.uc("ngIf",1!==t.currentViewIndex),l.Ib(6),l.uc("ngForOf",t.views[2].dates),l.Ib(1),l.uc("ngIf",2===t.currentViewIndex),l.Ib(1),l.uc("ngIf",2!==t.currentViewIndex))},directives:function(){return[c.W,c.V,i.l,i.m,i.k,i.r,un]},styles:['\n        .table-fixed {\n            table-layout: fixed;\n        }\n\n        .table {\n            width: 100%;\n            max-width: 100%;\n            background-color: transparent;\n        }\n\n        .table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th, .table > thead > tr > td,\n        .table > tbody > tr > td, .table > tfoot > tr > td {\n            padding: 8px;\n            line-height: 20px;\n            vertical-align: top;\n        }\n\n        .table > thead > tr > th {\n            vertical-align: bottom;\n            border-bottom: 2px solid #ddd;\n        }\n\n        .table > thead:first-child > tr:first-child > th, .table > thead:first-child > tr:first-child > td {\n            border-top: 0\n        }\n\n        .table > tbody + tbody {\n            border-top: 2px solid #ddd;\n        }\n\n        .table-bordered {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > tbody > tr > th, .table-bordered > tfoot > tr > th,\n        .table-bordered > thead > tr > td, .table-bordered > tbody > tr > td, .table-bordered > tfoot > tr > td {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > thead > tr > td {\n            border-bottom-width: 2px;\n        }\n\n        .table-striped > tbody > tr:nth-child(odd) > td, .table-striped > tbody > tr:nth-child(odd) > th {\n            background-color: #f9f9f9\n        }\n\n        .calendar-hour-column {\n            width: 50px;\n            white-space: nowrap;\n        }\n\n        .calendar-event-wrap {\n            position: relative;\n            width: 100%;\n            height: 100%;\n        }\n\n        .calendar-event {\n            position: absolute;\n            padding: 2px;\n            cursor: pointer;\n            z-index: 10000;\n        }\n\n        .calendar-cell {\n            padding: 0 !important;\n            height: 37px;\n        }\n\n        .slides-container {\n            height: 100%;\n        }\n\n        .slide-container {\n            display: block;\n        }\n\n        .weekview-allday-label {\n            float: left;\n            height: 100%;\n            line-height: 50px;\n            text-align: center;\n            width: 50px;\n            border-left: 1px solid #ddd;\n        }\n\n        [dir="rtl"] .weekview-allday-label {\n            float: right;\n            border-right: 1px solid #ddd;\n        }\n\n        .weekview-allday-content-wrapper {\n            margin-left: 50px;\n            overflow: hidden;\n            height: 51px;\n        }\n\n        [dir="rtl"] .weekview-allday-content-wrapper {\n            margin-left: 0;\n            margin-right: 50px;\n        }\n\n        .weekview-allday-content-table {\n            min-height: 50px;\n        }\n\n        .weekview-allday-content-table td {\n            border-left: 1px solid #ddd;\n            border-right: 1px solid #ddd;\n        }\n\n        .weekview-header th {\n            overflow: hidden;\n            white-space: nowrap;\n            font-size: 14px;\n        }\n\n        .weekview-allday-table {\n            height: 50px;\n            position: relative;\n            border-bottom: 1px solid #ddd;\n            font-size: 14px;\n        }\n\n        .weekview-normal-event-container {\n            margin-top: 87px;\n            overflow: hidden;\n            left: 0;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            position: absolute;\n            font-size: 14px;\n        }\n\n        .scroll-content {\n            overflow-y: auto;\n            overflow-x: hidden;\n        }\n\n        ::-webkit-scrollbar,\n        *::-webkit-scrollbar {\n            display: none;\n        }\n\n        .table > tbody > tr > td.calendar-hour-column {\n            padding-left: 0;\n            padding-right: 0;\n            vertical-align: middle;\n        }\n\n        @media (max-width: 750px) {\n            .weekview-allday-label, .calendar-hour-column {\n                width: 31px;\n                font-size: 12px;\n            }\n\n            .weekview-allday-label {\n                padding-top: 4px;\n            }\n\n            .table > tbody > tr > td.calendar-hour-column {\n                padding-left: 0;\n                padding-right: 0;\n                vertical-align: middle;\n                line-height: 12px;\n            }\n\n            .table > thead > tr > th.weekview-header {\n                padding-left: 0;\n                padding-right: 0;\n                font-size: 12px;\n            }\n\n            .weekview-allday-label {\n                line-height: 20px;\n            }\n\n            .weekview-allday-content-wrapper {\n                margin-left: 31px;\n            }\n\n            [dir="rtl"] .weekview-allday-content-wrapper {\n                margin-left: 0;\n                margin-right: 31px;\n            }\n        }\n    '],encapsulation:2}),e})();var ln;let rn=(()=>{let e=ln=class{constructor(e,t){this.calendarService=e,this.elm=t,this.class=!0,this.dir="",this.scrollToHour=0,this.onRangeChanged=new l.p,this.onEventSelected=new l.p,this.onTimeSelected=new l.p,this.onTitleChanged=new l.p(!0),this.views=[],this.currentViewIndex=0,this.direction=0,this.mode="day",this.inited=!1,this.callbackOnInit=!0}static createDateObjects(e,t,n,i){const a=[],c=e.getDate();let o,l,r;i<1?(l=Math.floor(1/i),r=60):(l=1,r=Math.floor(60/i));for(let s=t;s<n;s+=l)for(let t=0;t<60;t+=r)o=new Date(e.getTime()),o.setHours(0+s,t),o.setDate(c),a.push({time:o,events:[]});return a}static compareEventByStartOffset(e,t){return e.startOffset-t.startOffset}static calculateWidth(e,t,n){const i=t*n,a=new Array(i);e.sort((e,t)=>t.position-e.position);for(let l=0;l<i;l+=1)a[l]={calculated:!1,events:[]};const c=e.length;for(let l=0;l<c;l+=1){const t=e[l];let i=t.startIndex*n+t.startOffset;for(;i<t.endIndex*n-t.endOffset;)a[i].events.push(t),i+=1}let o=0;for(;o<c;){let t=e[o];if(!t.overlapNumber){const e=t.position+1;t.overlapNumber=e;const i=[t];for(;t=i.shift();){let c=t.startIndex*n+t.startOffset;for(;c<t.endIndex*n-t.endOffset;){if(!a[c].calculated&&(a[c].calculated=!0,a[c].events)){const t=a[c].events.length;for(let n=0;n<t;n+=1){const t=a[c].events[n];t.overlapNumber||(t.overlapNumber=e,i.push(t))}}c+=1}}}o+=1}}ngOnInit(){if(this.sliderOptions||(this.sliderOptions={}),this.sliderOptions.loop=!0,this.hourRange=(this.endHour-this.startHour)*this.hourSegments,this.dateFormatter&&this.dateFormatter.formatDayViewTitle)this.formatTitle=this.dateFormatter.formatDayViewTitle;else{const e=new i.f(this.locale);this.formatTitle=function(t){return e.transform(t,this.formatDayTitle)}}if(this.dateFormatter&&this.dateFormatter.formatDayViewHourColumn)this.formatHourColumnLabel=this.dateFormatter.formatDayViewHourColumn;else{const e=new i.f(this.locale);this.formatHourColumnLabel=function(t){return e.transform(t,this.formatHourColumn)}}this.lockSwipeToPrev&&this.slider.lockSwipeToPrev(!0),this.lockSwipes&&this.slider.lockSwipes(!0),this.refreshView(),this.hourColumnLabels=this.getHourColumnLabels(),this.inited=!0,this.currentDateChangedFromParentSubscription=this.calendarService.currentDateChangedFromParent$.subscribe(e=>{this.refreshView()}),this.eventSourceChangedSubscription=this.calendarService.eventSourceChanged$.subscribe(()=>{this.onDataLoaded()}),this.slideChangedSubscription=this.calendarService.slideChanged$.subscribe(e=>{1===e?this.slider.slideNext():-1===e&&this.slider.slidePrev()})}ngAfterViewInit(){const e=this.getTitle();if(this.onTitleChanged.emit(e),this.scrollToHour>0){const e=this.elm.nativeElement.querySelector(".dayview-normal-event-container").querySelectorAll(".calendar-hour-column"),t=this;setTimeout(()=>{t.initScrollPosition=e[t.scrollToHour-t.startHour].offsetTop},50)}}ngOnChanges(e){if(!this.inited)return;const t=e.eventSource;t&&t.currentValue&&this.onDataLoaded();const n=e.lockSwipeToPrev;n&&this.slider.lockSwipeToPrev(n.currentValue);const i=e.lockSwipes;i&&this.slider.lockSwipes(i.currentValue)}ngOnDestroy(){this.currentDateChangedFromParentSubscription&&(this.currentDateChangedFromParentSubscription.unsubscribe(),this.currentDateChangedFromParentSubscription=null),this.eventSourceChangedSubscription&&(this.eventSourceChangedSubscription.unsubscribe(),this.eventSourceChangedSubscription=null),this.slideChangedSubscription&&(this.slideChangedSubscription.unsubscribe(),this.slideChangedSubscription=null)}onSlideChanged(){if(this.callbackOnInit)return void(this.callbackOnInit=!1);let e=0;const t=this.currentViewIndex;this.slider.getActiveIndex().then(n=>{n=(n+2)%3,isNaN(n)&&(n=t),n-t==1?e=1:0===n&&2===t?(e=1,this.slider.slideTo(1,0,!1)):t-n==1?e=-1:2===n&&0===t&&(e=-1,this.slider.slideTo(3,0,!1)),this.currentViewIndex=n,this.move(e)})}move(e){if(0===e)return;this.direction=e;const t=this.calendarService.getAdjacentCalendarDate(this.mode,e);this.calendarService.setCurrentDate(t),this.refreshView(),this.direction=0}getHourColumnLabels(){const e=[];for(let t=0,n=this.views[0].rows.length;t<n;t+=1)if(0===t&&this.views[0].rows[t].time.getHours()!==this.startHour){const n=new Date(this.views[0].rows[t].time);n.setDate(n.getDate()+1),n.setHours(this.startHour),e.push(this.formatHourColumnLabel(n))}else e.push(this.formatHourColumnLabel(this.views[0].rows[t].time));return e}getViewData(e){return{rows:ln.createDateObjects(e,this.startHour,this.endHour,this.hourSegments),allDayEvents:[]}}getRange(e){const t=e.getFullYear(),n=e.getMonth(),i=e.getDate();return{startTime:new Date(t,n,i,12,0,0),endTime:new Date(t,n,i+1,12,0,0)}}onDataLoaded(){const e=this.eventSource,t=e?e.length:0,n=this.range.startTime,i=this.range.endTime,a=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),c=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),o=this.currentViewIndex,l=this.views[o].rows,r=this.views[o].allDayEvents=[],s=this.startHour*this.hourSegments,d=this.endHour*this.hourSegments;let u=!1;for(let h=0;h<this.hourRange;h+=1)l[h].events=[];for(let h=0;h<t;h+=1){const t=e[h],n=t.startTime,i=t.endTime;let o,m;if(t.allDay?(o=n.getTime(),m=i.getTime()):(o=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),m=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()+1)),!(m<=a||o>=c||n>=i))if(t.allDay)r.push({event:t});else{let e,r;u=!0,e=o<a?0:(n.getHours()+n.getMinutes()/60)*this.hourSegments,r=m>c?(c-a)/36e5*this.hourSegments:(i.getHours()+i.getMinutes()/60)*this.hourSegments;let h=Math.floor(e),v=Math.ceil(r-.016),g=0,b=0;if(1!==this.hourParts&&(g=h<s?0:Math.floor((e-h)*this.hourParts),b=v>d?0:Math.floor((v-r)*this.hourParts)),h<s?h=0:h-=s,v>d&&(v=d),v-=s,h<v){const e={event:t,startIndex:h,endIndex:v,startOffset:g,endOffset:b};let n=l[h].events;n?n.push(e):(n=[],n.push(e),l[h].events=n)}}}if(u){let e=[];for(let t=0;t<this.hourRange;t+=1)l[t].events&&(l[t].events.sort(ln.compareEventByStartOffset),e=e.concat(l[t].events));e.length>0&&this.placeEvents(e)}}refreshView(){if(this.range=this.getRange(this.calendarService.currentDate),this.inited){const e=this.getTitle();this.onTitleChanged.emit(e)}this.calendarService.populateAdjacentViews(this),this.calendarService.rangeChanged(this)}getTitle(){const e=new Date(this.range.startTime.getTime());return e.setHours(12,0,0,0),this.formatTitle(e)}select(e,t){let n=!1;this.markDisabled&&(n=this.markDisabled(e)),this.onTimeSelected.emit({selectedTime:e,events:t.map(e=>e.event),disabled:n})}placeEvents(e){this.calculatePosition(e),ln.calculateWidth(e,this.hourRange,this.hourParts)}placeAllDayEvents(e){this.calculatePosition(e)}overlap(e,t){let n=e,i=t;return(e.startIndex>t.startIndex||e.startIndex===t.startIndex&&e.startOffset>t.startOffset)&&(n=t,i=e),!(n.endIndex<=i.startIndex||n.endIndex-i.startIndex==1&&n.endOffset+i.startOffset>=this.hourParts)}calculatePosition(e){const t=e.length,n=new Array(t);let i,a=0;for(let c=0;c<t;c+=1){for(i=0;i<a;i+=1)n[i]=!1;for(let t=0;t<c;t+=1)this.overlap(e[c],e[t])&&(n[e[t].position]=!0);for(i=0;i<a&&n[i];i+=1);e[c].position=i<a?i:a++}if("rtl"===this.dir)for(let c=0;c<t;c+=1)e[c].position=a-1-e[c].position}eventSelected(e){this.onEventSelected.emit(e)}setScrollPosition(e){this.initScrollPosition=e}};return e.\u0275fac=function(t){return new(t||e)(l.Vb(tn),l.Vb(l.m))},e.\u0275cmp=l.Pb({type:e,selectors:[["dayview"]],viewQuery:function(e,t){var n;1&e&&l.Mc(ze,!0),2&e&&l.Dc(n=l.kc())&&(t.slider=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&l.Mb("dayview",t.class)},inputs:{dir:"dir",scrollToHour:"scrollToHour",sliderOptions:"sliderOptions",dayviewAllDayEventTemplate:"dayviewAllDayEventTemplate",dayviewNormalEventTemplate:"dayviewNormalEventTemplate",dayviewAllDayEventSectionTemplate:"dayviewAllDayEventSectionTemplate",dayviewNormalEventSectionTemplate:"dayviewNormalEventSectionTemplate",dayviewInactiveAllDayEventSectionTemplate:"dayviewInactiveAllDayEventSectionTemplate",dayviewInactiveNormalEventSectionTemplate:"dayviewInactiveNormalEventSectionTemplate",formatHourColumn:"formatHourColumn",formatDayTitle:"formatDayTitle",allDayLabel:"allDayLabel",hourParts:"hourParts",eventSource:"eventSource",markDisabled:"markDisabled",locale:"locale",dateFormatter:"dateFormatter",preserveScrollPosition:"preserveScrollPosition",lockSwipeToPrev:"lockSwipeToPrev",lockSwipes:"lockSwipes",startHour:"startHour",endHour:"endHour",hourSegments:"hourSegments"},outputs:{onRangeChanged:"onRangeChanged",onEventSelected:"onEventSelected",onTimeSelected:"onTimeSelected",onTitleChanged:"onTitleChanged"},features:[l.Gb],decls:38,vars:17,consts:[[1,"slides-container",3,"options","dir","ionSlideDidChange"],["daySlider",""],[1,"slide-container"],[1,"dayview-allday-table"],[1,"dayview-allday-label"],[1,"dayview-allday-content-wrapper","scroll-content"],[1,"table","table-bordered","dayview-allday-content-table"],["class","calendar-cell",3,"ngClass","ngStyle",4,"ngIf"],["class","calendar-cell",4,"ngIf"],["class","dayview-normal-event-container",3,"initPosition","emitEvent","onScroll",4,"ngIf"],["class","dayview-normal-event-container",3,"initPosition",4,"ngIf"],[1,"calendar-cell",3,"ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"calendar-cell"],[1,"dayview-normal-event-container",3,"initPosition","emitEvent","onScroll"],[1,"table","table-bordered","table-fixed","dayview-normal-event-table"],[4,"ngFor","ngForOf"],[1,"calendar-hour-column","text-center"],["tappable","",1,"calendar-cell",3,"click"],[1,"dayview-normal-event-container",3,"initPosition"]],template:function(e,t){1&e&&(l.bc(0,"ion-slides",0,1),l.jc("ionSlideDidChange",(function(){return t.onSlideChanged()})),l.bc(2,"ion-slide",2),l.bc(3,"div",3),l.bc(4,"div",4),l.Qc(5),l.ac(),l.bc(6,"div",5),l.bc(7,"table",6),l.bc(8,"tbody"),l.bc(9,"tr"),l.Oc(10,qe,2,11,"td",7),l.Oc(11,Je,2,4,"td",8),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.Oc(12,et,4,3,"init-position-scroll",9),l.Oc(13,it,4,2,"init-position-scroll",10),l.ac(),l.bc(14,"ion-slide",2),l.bc(15,"div",3),l.bc(16,"div",4),l.Qc(17),l.ac(),l.bc(18,"div",5),l.bc(19,"table",6),l.bc(20,"tbody"),l.bc(21,"tr"),l.Oc(22,ct,2,11,"td",7),l.Oc(23,lt,2,4,"td",8),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.Oc(24,dt,4,3,"init-position-scroll",9),l.Oc(25,mt,4,2,"init-position-scroll",10),l.ac(),l.bc(26,"ion-slide",2),l.bc(27,"div",3),l.bc(28,"div",4),l.Qc(29),l.ac(),l.bc(30,"div",5),l.bc(31,"table",6),l.bc(32,"tbody"),l.bc(33,"tr"),l.Oc(34,gt,2,11,"td",7),l.Oc(35,pt,2,4,"td",8),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.Oc(36,Tt,4,3,"init-position-scroll",9),l.Oc(37,Dt,4,2,"init-position-scroll",10),l.ac(),l.ac()),2&e&&(l.uc("options",t.sliderOptions)("dir",t.dir),l.Ib(5),l.Rc(t.allDayLabel),l.Ib(5),l.uc("ngIf",0===t.currentViewIndex),l.Ib(1),l.uc("ngIf",0!==t.currentViewIndex),l.Ib(1),l.uc("ngIf",0===t.currentViewIndex),l.Ib(1),l.uc("ngIf",0!==t.currentViewIndex),l.Ib(4),l.Rc(t.allDayLabel),l.Ib(5),l.uc("ngIf",1===t.currentViewIndex),l.Ib(1),l.uc("ngIf",1!==t.currentViewIndex),l.Ib(1),l.uc("ngIf",1===t.currentViewIndex),l.Ib(1),l.uc("ngIf",1!==t.currentViewIndex),l.Ib(4),l.Rc(t.allDayLabel),l.Ib(5),l.uc("ngIf",2===t.currentViewIndex),l.Ib(1),l.uc("ngIf",2!==t.currentViewIndex),l.Ib(1),l.uc("ngIf",2===t.currentViewIndex),l.Ib(1),l.uc("ngIf",2!==t.currentViewIndex))},directives:function(){return[c.W,c.V,i.m,i.k,i.n,i.r,un,i.l]},styles:['\n        .table-fixed {\n            table-layout: fixed;\n        }\n\n        .table {\n            width: 100%;\n            max-width: 100%;\n            background-color: transparent;\n        }\n\n        .table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th, .table > thead > tr > td,\n        .table > tbody > tr > td, .table > tfoot > tr > td {\n            padding: 8px;\n            line-height: 20px;\n            vertical-align: top;\n        }\n\n        .table > thead > tr > th {\n            vertical-align: bottom;\n            border-bottom: 2px solid #ddd;\n        }\n\n        .table > thead:first-child > tr:first-child > th, .table > thead:first-child > tr:first-child > td {\n            border-top: 0\n        }\n\n        .table > tbody + tbody {\n            border-top: 2px solid #ddd;\n        }\n\n        .table-bordered {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > tbody > tr > th, .table-bordered > tfoot > tr > th,\n        .table-bordered > thead > tr > td, .table-bordered > tbody > tr > td, .table-bordered > tfoot > tr > td {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > thead > tr > td {\n            border-bottom-width: 2px;\n        }\n\n        .table-striped > tbody > tr:nth-child(odd) > td, .table-striped > tbody > tr:nth-child(odd) > th {\n            background-color: #f9f9f9\n        }\n\n        .calendar-hour-column {\n            width: 50px;\n            white-space: nowrap;\n        }\n\n        .calendar-event-wrap {\n            position: relative;\n            width: 100%;\n            height: 100%;\n        }\n\n        .calendar-event {\n            position: absolute;\n            padding: 2px;\n            cursor: pointer;\n            z-index: 10000;\n        }\n\n        .slides-container {\n            height: 100%;\n        }\n\n        .slide-container {\n            display: block;\n        }\n\n        .calendar-cell {\n            padding: 0 !important;\n            height: 37px;\n        }\n\n        .dayview-allday-label {\n            float: left;\n            height: 100%;\n            line-height: 50px;\n            text-align: center;\n            width: 50px;\n            border-left: 1px solid #ddd;\n        }\n\n        [dir="rtl"] .dayview-allday-label {\n            border-right: 1px solid #ddd;\n            float: right;\n        }\n\n        .dayview-allday-content-wrapper {\n            margin-left: 50px;\n            overflow: hidden;\n            height: 51px;\n        }\n\n        [dir="rtl"] .dayview-allday-content-wrapper {\n            margin-left: 0;\n            margin-right: 50px;\n        }\n\n        .dayview-allday-content-table {\n            min-height: 50px;\n        }\n\n        .dayview-allday-content-table td {\n            border-left: 1px solid #ddd;\n            border-right: 1px solid #ddd;\n        }\n\n        .dayview-allday-table {\n            height: 50px;\n            position: relative;\n            border-bottom: 1px solid #ddd;\n            font-size: 14px;\n        }\n\n        .dayview-normal-event-container {\n            margin-top: 50px;\n            overflow: hidden;\n            left: 0;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            position: absolute;\n            font-size: 14px;\n        }\n\n        .scroll-content {\n            overflow-y: auto;\n            overflow-x: hidden;\n        }\n\n        ::-webkit-scrollbar,\n        *::-webkit-scrollbar {\n            display: none;\n        }\n\n        .table > tbody > tr > td.calendar-hour-column {\n            padding-left: 0;\n            padding-right: 0;\n            vertical-align: middle;\n        }\n\n        @media (max-width: 750px) {\n            .dayview-allday-label, .calendar-hour-column {\n                width: 31px;\n                font-size: 12px;\n            }\n\n            .dayview-allday-label {\n                padding-top: 4px;\n            }\n\n            .table > tbody > tr > td.calendar-hour-column {\n                padding-left: 0;\n                padding-right: 0;\n                vertical-align: middle;\n                line-height: 12px;\n            }\n\n            .dayview-allday-label {\n                line-height: 20px;\n            }\n\n            .dayview-allday-content-wrapper {\n                margin-left: 31px;\n            }\n\n            [dir="rtl"] .dayview-allday-content-wrapper {\n                margin-left: 0;\n                margin-right: 31px;\n            }\n        }\n    '],encapsulation:2}),e})();var sn=function(e){return e[e.QuarterHour=15]="QuarterHour",e[e.HalfHour=30]="HalfHour",e[e.Hour=60]="Hour",e}({});let dn=(()=>{let e=class{constructor(e,t){this.calendarService=e,this.appLocale=t,this.eventSource=[],this.calendarMode="month",this.formatDay="d",this.formatDayHeader="EEE",this.formatDayTitle="MMMM dd, yyyy",this.formatWeekTitle="MMMM yyyy, 'Week' w",this.formatMonthTitle="MMMM yyyy",this.formatWeekViewDayHeader="EEE d",this.formatHourColumn="ha",this.showEventDetail=!0,this.startingDayMonth=0,this.startingDayWeek=0,this.allDayLabel="all day",this.noEventsLabel="No Events",this.queryMode="local",this.step=sn.Hour,this.timeInterval=60,this.autoSelect=!0,this.dir="",this.scrollToHour=0,this.preserveScrollPosition=!1,this.lockSwipeToPrev=!1,this.lockSwipes=!1,this.locale="",this.startHour=0,this.endHour=24,this.onCurrentDateChanged=new l.p,this.onRangeChanged=new l.p,this.onEventSelected=new l.p,this.onTimeSelected=new l.p,this.onTitleChanged=new l.p,this.hourParts=1,this.hourSegments=1,this.locale=t}get currentDate(){return this._currentDate}set currentDate(e){e||(e=new Date),this._currentDate=e,this.calendarService.setCurrentDate(e,!0),this.onCurrentDateChanged.emit(this._currentDate)}ngOnInit(){this.autoSelect&&(this.autoSelect="false"!==this.autoSelect.toString()),this.hourSegments=60/this.timeInterval,this.hourParts=60/this.step,this.hourParts=this.hourParts<=this.hourSegments?1:this.hourParts/this.hourSegments,this.startHour=parseInt(this.startHour.toString()),this.endHour=parseInt(this.endHour.toString()),this.calendarService.queryMode=this.queryMode,this.currentDateChangedFromChildrenSubscription=this.calendarService.currentDateChangedFromChildren$.subscribe(e=>{this._currentDate=e,this.onCurrentDateChanged.emit(e)})}ngOnDestroy(){this.currentDateChangedFromChildrenSubscription&&(this.currentDateChangedFromChildrenSubscription.unsubscribe(),this.currentDateChangedFromChildrenSubscription=null)}rangeChanged(e){this.onRangeChanged.emit(e)}eventSelected(e){this.onEventSelected.emit(e)}timeSelected(e){this.onTimeSelected.emit(e)}titleChanged(e){this.onTitleChanged.emit(e)}loadEvents(){this.calendarService.loadEvents()}slideNext(){this.calendarService.slide(1)}slidePrev(){this.calendarService.slide(-1)}};return e.\u0275fac=function(t){return new(t||e)(l.Vb(tn),l.Vb(l.z))},e.\u0275cmp=l.Pb({type:e,selectors:[["calendar"]],inputs:{eventSource:"eventSource",calendarMode:"calendarMode",formatDay:"formatDay",formatDayHeader:"formatDayHeader",formatDayTitle:"formatDayTitle",formatWeekTitle:"formatWeekTitle",formatMonthTitle:"formatMonthTitle",formatWeekViewDayHeader:"formatWeekViewDayHeader",formatHourColumn:"formatHourColumn",showEventDetail:"showEventDetail",startingDayMonth:"startingDayMonth",startingDayWeek:"startingDayWeek",allDayLabel:"allDayLabel",noEventsLabel:"noEventsLabel",queryMode:"queryMode",step:"step",timeInterval:"timeInterval",autoSelect:"autoSelect",dir:"dir",scrollToHour:"scrollToHour",preserveScrollPosition:"preserveScrollPosition",lockSwipeToPrev:"lockSwipeToPrev",lockSwipes:"lockSwipes",locale:"locale",startHour:"startHour",endHour:"endHour",currentDate:"currentDate",markDisabled:"markDisabled",monthviewDisplayEventTemplate:"monthviewDisplayEventTemplate",monthviewInactiveDisplayEventTemplate:"monthviewInactiveDisplayEventTemplate",monthviewEventDetailTemplate:"monthviewEventDetailTemplate",weekviewHeaderTemplate:"weekviewHeaderTemplate",weekviewAllDayEventTemplate:"weekviewAllDayEventTemplate",weekviewNormalEventTemplate:"weekviewNormalEventTemplate",dayviewAllDayEventTemplate:"dayviewAllDayEventTemplate",dayviewNormalEventTemplate:"dayviewNormalEventTemplate",weekviewAllDayEventSectionTemplate:"weekviewAllDayEventSectionTemplate",weekviewNormalEventSectionTemplate:"weekviewNormalEventSectionTemplate",dayviewAllDayEventSectionTemplate:"dayviewAllDayEventSectionTemplate",dayviewNormalEventSectionTemplate:"dayviewNormalEventSectionTemplate",weekviewInactiveAllDayEventSectionTemplate:"weekviewInactiveAllDayEventSectionTemplate",weekviewInactiveNormalEventSectionTemplate:"weekviewInactiveNormalEventSectionTemplate",dayviewInactiveAllDayEventSectionTemplate:"dayviewInactiveAllDayEventSectionTemplate",dayviewInactiveNormalEventSectionTemplate:"dayviewInactiveNormalEventSectionTemplate",dateFormatter:"dateFormatter",sliderOptions:"sliderOptions"},outputs:{onCurrentDateChanged:"onCurrentDateChanged",onRangeChanged:"onRangeChanged",onEventSelected:"onEventSelected",onTimeSelected:"onTimeSelected",onTitleChanged:"onTitleChanged"},features:[l.Hb([tn])],decls:24,vars:7,consts:[["monthviewDefaultDisplayEventTemplate",""],["monthviewDefaultEventDetailTemplate",""],["defaultWeekviewHeaderTemplate",""],["defaultAllDayEventTemplate",""],["defaultNormalEventTemplate",""],["defaultWeekViewAllDayEventSectionTemplate",""],["defaultDayViewAllDayEventSectionTemplate",""],["defaultNormalEventSectionTemplate",""],["defaultInactiveAllDayEventSectionTemplate",""],["defaultInactiveNormalEventSectionTemplate",""],[3,"ngSwitch"],[3,"formatDay","formatDayHeader","formatMonthTitle","startingDayMonth","showEventDetail","noEventsLabel","autoSelect","eventSource","markDisabled","monthviewDisplayEventTemplate","monthviewInactiveDisplayEventTemplate","monthviewEventDetailTemplate","locale","dateFormatter","dir","lockSwipeToPrev","lockSwipes","sliderOptions","onRangeChanged","onEventSelected","onTimeSelected","onTitleChanged",4,"ngSwitchCase"],[3,"formatWeekTitle","formatWeekViewDayHeader","formatHourColumn","startingDayWeek","allDayLabel","hourParts","autoSelect","hourSegments","eventSource","markDisabled","weekviewHeaderTemplate","weekviewAllDayEventTemplate","weekviewNormalEventTemplate","weekviewAllDayEventSectionTemplate","weekviewNormalEventSectionTemplate","weekviewInactiveAllDayEventSectionTemplate","weekviewInactiveNormalEventSectionTemplate","locale","dateFormatter","dir","scrollToHour","preserveScrollPosition","lockSwipeToPrev","lockSwipes","startHour","endHour","sliderOptions","onRangeChanged","onEventSelected","onTimeSelected","onTitleChanged",4,"ngSwitchCase"],[3,"formatDayTitle","formatHourColumn","allDayLabel","hourParts","hourSegments","eventSource","markDisabled","dayviewAllDayEventTemplate","dayviewNormalEventTemplate","dayviewAllDayEventSectionTemplate","dayviewNormalEventSectionTemplate","dayviewInactiveAllDayEventSectionTemplate","dayviewInactiveNormalEventSectionTemplate","locale","dateFormatter","dir","scrollToHour","preserveScrollPosition","lockSwipeToPrev","lockSwipes","startHour","endHour","sliderOptions","onRangeChanged","onEventSelected","onTimeSelected","onTitleChanged",4,"ngSwitchCase"],["class","event-detail-container","has-bouncing","false","overflow-scroll","false",4,"ngIf"],["has-bouncing","false","overflow-scroll","false",1,"event-detail-container"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],["class","monthview-eventdetail-timecolumn",4,"ngIf"],[1,"event-detail"],[1,"monthview-eventdetail-timecolumn"],[1,"no-events-label"],[1,"calendar-event-inner"],[3,"ngClass","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],["class","calendar-event","tappable","",3,"ngStyle","click",4,"ngFor","ngForOf"],["tappable","",1,"calendar-event",3,"ngStyle","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"formatDay","formatDayHeader","formatMonthTitle","startingDayMonth","showEventDetail","noEventsLabel","autoSelect","eventSource","markDisabled","monthviewDisplayEventTemplate","monthviewInactiveDisplayEventTemplate","monthviewEventDetailTemplate","locale","dateFormatter","dir","lockSwipeToPrev","lockSwipes","sliderOptions","onRangeChanged","onEventSelected","onTimeSelected","onTitleChanged"],[3,"formatWeekTitle","formatWeekViewDayHeader","formatHourColumn","startingDayWeek","allDayLabel","hourParts","autoSelect","hourSegments","eventSource","markDisabled","weekviewHeaderTemplate","weekviewAllDayEventTemplate","weekviewNormalEventTemplate","weekviewAllDayEventSectionTemplate","weekviewNormalEventSectionTemplate","weekviewInactiveAllDayEventSectionTemplate","weekviewInactiveNormalEventSectionTemplate","locale","dateFormatter","dir","scrollToHour","preserveScrollPosition","lockSwipeToPrev","lockSwipes","startHour","endHour","sliderOptions","onRangeChanged","onEventSelected","onTimeSelected","onTitleChanged"],[3,"formatDayTitle","formatHourColumn","allDayLabel","hourParts","hourSegments","eventSource","markDisabled","dayviewAllDayEventTemplate","dayviewNormalEventTemplate","dayviewAllDayEventSectionTemplate","dayviewNormalEventSectionTemplate","dayviewInactiveAllDayEventSectionTemplate","dayviewInactiveNormalEventSectionTemplate","locale","dateFormatter","dir","scrollToHour","preserveScrollPosition","lockSwipeToPrev","lockSwipes","startHour","endHour","sliderOptions","onRangeChanged","onEventSelected","onTimeSelected","onTitleChanged"]],template:function(e,t){1&e&&(l.Oc(0,Ot,1,1,"ng-template",null,0,l.Pc),l.Oc(2,xt,1,1,"ng-template",null,1,l.Pc),l.Oc(4,Mt,1,1,"ng-template",null,2,l.Pc),l.Oc(6,Ht,2,1,"ng-template",null,3,l.Pc),l.Oc(8,Ft,2,1,"ng-template",null,4,l.Pc),l.Oc(10,$t,1,1,"ng-template",null,5,l.Pc),l.Oc(12,Qt,1,1,"ng-template",null,6,l.Pc),l.Oc(14,qt,1,1,"ng-template",null,7,l.Pc),l.Oc(16,Gt,0,0,"ng-template",null,8,l.Pc),l.Oc(18,Xt,0,0,"ng-template",null,9,l.Pc),l.bc(20,"div",10),l.Oc(21,Jt,1,18,"monthview",11),l.Oc(22,Kt,1,27,"weekview",12),l.Oc(23,Zt,1,23,"dayview",13),l.ac()),2&e&&(l.Ib(20),l.Lb("",t.calendarMode,"view-container"),l.uc("ngSwitch",t.calendarMode),l.Ib(1),l.uc("ngSwitchCase","month"),l.Ib(1),l.uc("ngSwitchCase","week"),l.Ib(1),l.uc("ngSwitchCase","day"))},directives:[i.o,i.p,i.m,c.G,i.l,c.E,i.k,i.n,i.r,an,on,rn],pipes:[i.f],styles:["[_nghost-%COMP%]    > div[_ngcontent-%COMP%] { height: 100%; }\n\n        .event-detail-container[_ngcontent-%COMP%] {\n          border-top: 2px darkgrey solid;\n        }\n\n        .no-events-label[_ngcontent-%COMP%] {\n          font-weight: bold;\n          color: darkgrey;\n          text-align: center;\n        }\n\n        .event-detail[_ngcontent-%COMP%] {\n          cursor: pointer;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n        }\n\n        .monthview-eventdetail-timecolumn[_ngcontent-%COMP%] {\n          width: 110px;\n          overflow: hidden;\n        }\n\n        .calendar-event-inner[_ngcontent-%COMP%] {\n          overflow: hidden;\n          background-color: #3a87ad;\n          color: white;\n          height: 100%;\n          width: 100%;\n          padding: 2px;\n          line-height: 15px;\n          text-align: initial;\n        }\n\n        @media (max-width: 750px) {\n          .calendar-event-inner[_ngcontent-%COMP%] {\n            font-size: 12px;\n          }\n        }"]}),e})(),un=(()=>{let e=class{constructor(e){this.onScroll=new l.p,this.listenerAttached=!1,this.element=e}ngOnChanges(e){let t=e.initPosition;if(t&&void 0!==t.currentValue&&this.scrollContent){const e=this;setTimeout((function(){e.scrollContent.scrollTop=t.currentValue}),0)}}ngAfterViewInit(){const e=this.scrollContent=this.element.nativeElement.querySelector(".scroll-content");if(void 0!==this.initPosition&&(e.scrollTop=this.initPosition),this.emitEvent&&!this.listenerAttached){let t=this.onScroll;this.handler=function(){t.emit(e.scrollTop)},this.listenerAttached=!0,e.addEventListener("scroll",this.handler)}}ngOnDestroy(){this.listenerAttached&&this.scrollContent.removeEventListener("scroll",this.handler)}};return e.\u0275fac=function(t){return new(t||e)(l.Vb(l.m))},e.\u0275cmp=l.Pb({type:e,selectors:[["init-position-scroll"]],inputs:{initPosition:"initPosition",emitEvent:"emitEvent"},outputs:{onScroll:"onScroll"},features:[l.Gb],ngContentSelectors:en,decls:2,vars:0,consts:[[1,"scroll-content",2,"height","100%"]],template:function(e,t){1&e&&(l.tc(),l.bc(0,"div",0),l.sc(1),l.ac())},styles:["\n        .scroll-content {\n            overflow-y: auto;\n            overflow-x: hidden;\n        }        \n    "],encapsulation:2}),e})(),hn=(()=>{let e=class{};return e.\u0275mod=l.Tb({type:e}),e.\u0275inj=l.Sb({factory:function(t){return new(t||e)},imports:[[c.eb,i.c]]}),e})();var mn=n("7Vn+"),vn=n("3no8"),gn=n("8rbx"),bn=n("VnPy");const pn=[{path:"",component:(()=>{class e{constructor(e,t,n,i,a){this.auth=e,this.loadingService=t,this.log=n,this.share=i,this.datePipe=a,this.eventSource=[],this.calendar={locale:"es",mode:"week",currentDate:new Date},this.targets=[],this.getToken()}ngOnInit(){}getToken(){this.auth.gettokenLog().then(e=>{this.token=e,this.getTargets()})}getTargets(){this.loadingService.loadingPresent({spinner:"circles"}),this.auth.gettokenLog().then(e=>{this.log.logdataInfData(e).subscribe(e=>{this.userId=e.id,this.share.obtenerObhetivos(this.userId,this.token).subscribe(e=>{this.targets=e.data,this.loadEvents(),this.loadingService.loadingDismiss()},e=>{this.loadingService.loadingDismiss()})},e=>{this.loadingService.loadingDismiss()})})}loadEventsTargets(){var e=[];return this.targets.map(t=>{t.date&&e.push({title:t.achievement,startTime:new Date(t.date+" 00:00:00"),endTime:new Date(t.date+" 23:59:59")})}),e}caledarNext(){this.myCal.slideNext()}calendarBack(){this.myCal.slidePrev()}calendarOnViewTitelChange(e){this.viewTitle=e}loadEvents(){this.eventSource=this.loadEventsTargets()}createRandomEvents(){for(var e=[],t=0;t<50;t+=1){var n,i,a=new Date,c=Math.floor(2*Math.random()),o=Math.floor(90*Math.random())-45,l=Math.floor(2*Math.random())+o;if(0===c)n=new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()+o)),l===o&&(l+=1),i=new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()+l)),e.push({title:"All Day - "+t,startTime:n,endTime:i,allDay:!0});else{var r=Math.floor(24*Math.random()*60),s=Math.floor(180*Math.random())+r;n=new Date(a.getFullYear(),a.getMonth(),a.getDate()+o,0,a.getMinutes()+r),i=new Date(a.getFullYear(),a.getMonth(),a.getDate()+l,0,a.getMinutes()+s),e.push({title:"Event - "+t,startTime:n,endTime:i,allDay:!1})}}return e}}return e.\u0275fac=function(t){return new(t||e)(l.Vb(mn.a),l.Vb(vn.a),l.Vb(gn.a),l.Vb(bn.a),l.Vb(i.f))},e.\u0275cmp=l.Pb({type:e,selectors:[["app-calendario"]],viewQuery:function(e,t){var n;1&e&&l.Wc(dn,!0),2&e&&l.Dc(n=l.kc())&&(t.myCal=n.first)},decls:35,vars:6,consts:[[1,"ion-toolbar-ccs"],["slot","start",2,"color","white"],["defaultHref","/users/perfil"],[1,"tituloInfo","logo"],[2,"color","white"],[3,"ngModel","ngModelChange"],["value","month"],[2,"font-size","16px"],["name","calendar-outline",2,"margin-right","5px","margin-top","3px","color","black"],[2,"color","black"],["value","week"],["value","day"],["name","today-outline",2,"margin-right","5px","margin-top","3px","color","black"],["size","2"],["fill","clear",3,"click"],["name","arrow-back","slot","icon-only"],["size","8",1,"ion-text-center"],["name","arrow-forward","slot","icon-only"],["allDayLabel","Todo el dia","noEventsLabel","No existen eventos",3,"eventSource","calendarMode","currentDate","locale","onTitleChanged"]],template:function(e,t){1&e&&(l.bc(0,"ion-header"),l.bc(1,"ion-toolbar",0),l.bc(2,"ion-buttons",1),l.Wb(3,"ion-back-button",2),l.ac(),l.bc(4,"ion-title",3),l.bc(5,"label",4),l.Qc(6,"MAGIN"),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(7,"ion-content"),l.bc(8,"ion-segment",5),l.jc("ngModelChange",(function(e){return t.calendar.mode=e})),l.bc(9,"ion-segment-button",6),l.bc(10,"div",7),l.Wb(11,"ion-icon",8),l.bc(12,"ion-label",9),l.Qc(13,"Mes"),l.ac(),l.ac(),l.ac(),l.bc(14,"ion-segment-button",10),l.bc(15,"div",7),l.Wb(16,"ion-icon",8),l.bc(17,"ion-label",9),l.Qc(18,"Semana"),l.ac(),l.ac(),l.ac(),l.bc(19,"ion-segment-button",11),l.bc(20,"div",7),l.Wb(21,"ion-icon",12),l.bc(22,"ion-label",9),l.Qc(23,"D\xeda"),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(24,"ion-row"),l.bc(25,"ion-col",13),l.bc(26,"ion-button",14),l.jc("click",(function(){return t.calendarBack()})),l.Wb(27,"ion-icon",15),l.ac(),l.ac(),l.bc(28,"ion-col",16),l.bc(29,"h2"),l.Qc(30),l.ac(),l.ac(),l.bc(31,"ion-col",13),l.bc(32,"ion-button",14),l.jc("click",(function(){return t.caledarNext()})),l.Wb(33,"ion-icon",17),l.ac(),l.ac(),l.ac(),l.bc(34,"calendar",18),l.jc("onTitleChanged",(function(e){return t.calendarOnViewTitelChange(e)})),l.ac(),l.ac()),2&e&&(l.Ib(8),l.uc("ngModel",t.calendar.mode),l.Ib(22),l.Rc(t.viewTitle),l.Ib(4),l.uc("eventSource",t.eventSource)("calendarMode",t.calendar.mode)("currentDate",t.calendar.currentDate)("locale",t.calendar.locale))},directives:[c.y,c.db,c.k,c.g,c.h,c.cb,c.s,c.R,c.ob,a.p,a.s,c.S,c.z,c.F,c.P,c.r,c.j,dn],styles:[".btn-add-event[_ngcontent-%COMP%]{-moz-text-align-last:center;text-align-last:center;padding:10px 0;border-bottom:1px solid #c5c5c5;border-top:1px solid #cecece}"]}),e})()}];let fn=(()=>{class e{}return e.\u0275mod=l.Tb({type:e}),e.\u0275inj=l.Sb({factory:function(t){return new(t||e)},imports:[[o.j.forChild(pn)],o.j]}),e})(),wn=(()=>{class e{}return e.\u0275mod=l.Tb({type:e}),e.\u0275inj=l.Sb({factory:function(t){return new(t||e)},providers:[i.f],imports:[[i.c,a.k,c.eb,fn,hn]]}),e})()}}]);