(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{icFu:function(t,e,i){"use strict";i.r(e),i.d(e,"MisObjetivosPageModule",(function(){return y}));var n=i("ofXK"),o=i("3Pt+"),c=i("TEn/"),a=i("tyNb"),r=i("mrSG"),s=i("sWYD"),d=i("fXoL"),l=i("VnPy"),b=i("8rbx"),g=i("7Vn+"),p=i("3no8"),u=i("dNgK");function f(t,e){if(1&t){const t=d.cc();d.bc(0,"ion-badge",19),d.jc("click",(function(){d.Hc(t);const e=d.nc();return e.addTarget=!0,e.edit=!1})),d.Qc(1,"Agregar un nuevo objetivo"),d.ac()}}function h(t,e){if(1&t){const t=d.cc();d.bc(0,"ion-badge",20),d.jc("click",(function(){d.Hc(t);const e=d.nc();return e.addTarget=!1,e.form.reset()})),d.Qc(1,"Cerrar Formulario"),d.ac()}}function m(t,e){if(1&t){const t=d.cc();d.bc(0,"ion-badge",20),d.jc("click",(function(){d.Hc(t);const e=d.nc();return e.addTarget=!1,e.form.reset(),e.edit=!1})),d.Qc(1,"Cancelar"),d.ac()}}function x(t,e){if(1&t){const t=d.cc();d.bc(0,"ion-button",29),d.jc("click",(function(){return d.Hc(t),d.nc(2).operar()})),d.Qc(1,"Agregar a la lista"),d.ac()}if(2&t){const t=d.nc(2);d.uc("disabled",!t.form.valid)}}function v(t,e){if(1&t){const t=d.cc();d.bc(0,"ion-button",29),d.jc("click",(function(){return d.Hc(t),d.nc(2).editar()})),d.Qc(1,"Editar"),d.ac()}if(2&t){const t=d.nc(2);d.uc("disabled",!t.form.valid)}}function j(t,e){if(1&t&&(d.bc(0,"ion-card",21),d.bc(1,"ion-card-header"),d.bc(2,"ion-card-title",22),d.Qc(3,"Nuevo objetivo"),d.ac(),d.ac(),d.bc(4,"ion-card-content"),d.bc(5,"div"),d.bc(6,"form",23),d.bc(7,"div"),d.bc(8,"ion-item",24),d.Wb(9,"textarea",25),d.ac(),d.bc(10,"ion-item",24),d.Wb(11,"ion-datetime",26,27),d.ac(),d.ac(),d.bc(13,"div",13),d.Oc(14,x,2,1,"ion-button",28),d.Oc(15,v,2,1,"ion-button",28),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&t){const t=d.nc();d.Ib(6),d.uc("formGroup",t.form),d.Ib(8),d.uc("ngIf",!t.edit),d.Ib(1),d.uc("ngIf",t.edit)}}function O(t,e){1&t&&(d.bc(0,"ion-label",42),d.Qc(1," - "),d.ac())}function k(t,e){if(1&t&&(d.bc(0,"ion-badge",43),d.Qc(1),d.ac()),2&t){const t=d.nc().$implicit;d.Ib(1),d.Sc(" ",t.date,"")}}function w(t,e){if(1&t){const t=d.cc();d.bc(0,"ion-item",36),d.jc("click",(function(){d.Hc(t);const i=e.$implicit,n=e.index;return d.nc(2).editTarget(i,n)})),d.bc(1,"ion-reorder"),d.Wb(2,"ion-icon",37),d.ac(),d.bc(3,"div",38),d.bc(4,"ion-label",39),d.Qc(5),d.ac(),d.Oc(6,O,2,0,"ion-label",40),d.Oc(7,k,2,1,"ion-badge",41),d.ac(),d.ac()}if(2&t){const t=e.$implicit;d.Ib(5),d.Sc(" ",t.achievement," "),d.Ib(1),d.uc("ngIf",t.date),d.Ib(1),d.uc("ngIf",t.date)}}function I(t,e){if(1&t){const t=d.cc();d.bc(0,"div",30),d.bc(1,"ion-list"),d.bc(2,"ion-list-header",31),d.bc(3,"ion-label"),d.Qc(4,"Objetivos"),d.ac(),d.ac(),d.bc(5,"ion-reorder-group",32),d.jc("ionItemReorder",(function(e){return d.Hc(t),d.nc().reorder(e)})),d.Oc(6,w,8,3,"ion-item",33),d.ac(),d.ac(),d.bc(7,"div",34),d.bc(8,"ion-button",35),d.jc("click",(function(){return d.Hc(t),d.nc().submit()})),d.Qc(9,"Guardar"),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.nc();d.Ib(6),d.uc("ngForOf",t.objetivosList)}}function C(t,e){1&t&&(d.bc(0,"ion-row",44),d.bc(1,"ion-badge",45),d.Qc(2,"No existen objetivos"),d.ac(),d.ac())}const M=[{path:"",component:(()=>{class t{constructor(t,e,i,n,o,c,a){this.route=t,this.alertController=e,this.share=i,this.log=n,this.auth=o,this.loadingService=c,this.snackbar=a,this.submitted=!1,this.list=[],this.objetivosList=[],this.addTarget=!1,this.isSubmitted=!1,this.edit=!1,this.targetEdit=null,this.indexEdit=null,this.getToken()}ngOnInit(){this.loadForm()}getToken(){this.auth.gettokenLog().then(t=>{this.token=t,this.getTargets()})}loadForm(){this.form=new o.h({target:new o.f("",[o.v.required,o.v.minLength(3),o.v.maxLength(510)]),date:new o.f("")})}getTargets(){this.loadingService.loadingPresent({spinner:"circles"}),this.auth.gettokenLog().then(t=>{this.log.logdataInfData(t).subscribe(t=>{this.userId=t.id,this.share.obtenerObhetivos(this.userId,this.token).subscribe(t=>{this.objetivosList=t.data.sort((t,e)=>0-t.priority<e.priority?-1:1),this.loadingService.loadingDismiss()},t=>{this.loadingService.loadingDismiss()})},t=>{this.loadingService.loadingDismiss()})})}operar(){if(!this.form.valid)return this.mostrarmensaje("Los datos ingresados no son validos","Error","red-snackbar"),!1;{const t=this;let e="";t.form.value.date&&(e=Object(s.a)(new Date(t.form.value.date),"yyyy-MM-dd")),this.objetivosList.push({achievement:t.form.value.target,date:e}),this.addTarget=!1,this.form.reset(),this.loadingService.showMessageCoins("20")}}submit(){const t=[];let e=1;this.objetivosList.map(i=>{t.push({achievement:i.achievement,priority:e,date:i.date}),e++}),this.loadingService.loadingPresent({spinner:"circles"}),this.share.agregarObjetivos({objectives:t,user_id:this.userId},this.token).subscribe(t=>Object(r.b)(this,void 0,void 0,(function*(){t?(this.loadingService.loadingDismiss(),this.mostrarmensaje("Los objetivos se han guardado satisfactoriamente","OK","green-snackbar")):(this.loadingService.loadingDismiss(),this.mostrarmensaje("Error guardando los objetivos","Error","red-snackbar"))})),t=>{this.loadingService.loadingDismiss(),this.mostrarmensaje("Error guardando los objetivos","Error","red-snackbar")})}editTarget(t,e){this.addTarget=!0,this.edit=!0,this.targetEdit=t,this.indexEdit=e,this.form.patchValue({target:t.achievement,date:t.date})}editar(){const t=this.objetivosList.find(t=>t.id==this.targetEdit.id);if(t){t.achievement=this.form.value.target;let e="";this.form.value.date&&(e=Object(s.a)(new Date(this.form.value.date),"yyyy-MM-dd")),t.date=e,this.form.reset()}else this.objetivosList.slice(this.indexEdit,1),this.operar();this.addTarget=!1,this.edit=!1}alerta(){return Object(r.b)(this,void 0,void 0,(function*(){this.alert=yield this.alertController.create({header:"UPS!",subHeader:"No puedes hacer eso",message:"No puedes Poner objetivos vac\xedos Agrega tus Objetivos para poder guiarte",buttons:["Acepto"]}),yield this.alert.present()}))}volver(){this.route.navigateByUrl("/users/perfil")}reorder(t){const e=this.objetivosList.splice(t.detail.from,1)[0];this.objetivosList.splice(t.detail.to,0,e),t.detail.complete()}mostrarmensaje(t,e,i){this.snackbar.open(t,e,{duration:2e3,panelClass:[i]})}}return t.\u0275fac=function(e){return new(e||t)(d.Vb(a.h),d.Vb(c.b),d.Vb(l.a),d.Vb(b.a),d.Vb(g.a),d.Vb(p.a),d.Vb(u.a))},t.\u0275cmp=d.Pb({type:t,selectors:[["app-mis-objetivos"]],decls:40,vars:6,consts:[[1,"ion-toolbar-ccs"],["slot","start",2,"color","white"],["defaultHref","/users/perfil"],[1,"tituloInfo","logo"],[2,"color","white"],[1,"title"],[1,"subtitle"],[1,"badge-instructions"],[2,"margin-left","15px"],[2,"font-size","13px","font-weight","500"],[2,"margin-left","15px","margin","10px 10px 0px"],[2,"font-size","12px","font-weight","500","color","#939393"],[2,"margin-left","15px","margin","0px 10px"],[2,"text-align","center"],["class","badge-new",3,"click",4,"ngIf"],["class","badge-cancelar",3,"click",4,"ngIf"],["class","card-add",4,"ngIf"],["class","container-targets",4,"ngIf"],["style","place-content: center;margin-top: 10px;",4,"ngIf"],[1,"badge-new",3,"click"],[1,"badge-cancelar",3,"click"],[1,"card-add"],[1,"title-css",2,"text-align","center"],[3,"formGroup"],["lines","none",1,"ion-item-css"],["formControlName","target","placeholder","\xbfCual es tu objetivo?","rows","4","cols","150","maxlength","150","required","",1,"textArea"],["placeholder","Fecha de objetivo","displayFormat","YYYY/MM/DD","min","2021","max","2050","formControlName","date","cancelText","Cancelar","doneText","Hecho",1,"item-date"],["myPicker",""],["class","button-css-options",3,"disabled","click",4,"ngIf"],[1,"button-css-options",3,"disabled","click"],[1,"container-targets"],[2,"font-size","18px","font-weight","500","background","#002a68","color","white","text-transform","uppercase","display","block","text-align","center","padding","0"],["disabled","false",3,"ionItemReorder"],[3,"click",4,"ngFor","ngForOf"],[2,"text-align-last","center"],[1,"button-end",3,"click"],[3,"click"],["name","medal-outline",1,"icon-target"],[2,"margin-left","10px","width","100%","display","flex"],[1,"label-target"],["style","margin: 0px 10px;",4,"ngIf"],["class","badge-date",4,"ngIf"],[2,"margin","0px 10px"],[1,"badge-date"],[2,"place-content","center","margin-top","10px"],["color","danger",2,"font-size","14px","padding","5px 10px","border-radius","5px"]],template:function(t,e){1&t&&(d.bc(0,"ion-header"),d.bc(1,"ion-toolbar",0),d.bc(2,"ion-buttons",1),d.Wb(3,"ion-back-button",2),d.ac(),d.bc(4,"ion-title",3),d.bc(5,"label",4),d.Qc(6,"MAGIN"),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(7,"ion-content"),d.bc(8,"ion-card-title",5),d.Qc(9,"\xbfQu\xe9 objetivos quieres alcanzar con nuestros programas?"),d.ac(),d.bc(10,"ion-card-subtitle",6),d.Qc(11,"Organiza estos objetivos seg\xfan t\xfa inter\xe9s y actualidad deportiva."),d.ac(),d.bc(12,"div"),d.bc(13,"ion-badge",7),d.Qc(14,"Instrucciones:"),d.ac(),d.bc(15,"div",8),d.bc(16,"ion-label",9),d.Qc(17," 1. Lee atentamente los objetivos propuestos. "),d.ac(),d.ac(),d.bc(18,"div",8),d.bc(19,"ion-label",9),d.Qc(20," 2. Utiliza el icono azul que encuentras al inicio de cada objetivo para organizarlos. "),d.ac(),d.ac(),d.bc(21,"div",8),d.bc(22,"ion-label",9),d.Qc(23," 3. Desliza los objetivos conforme a tu prioridad. "),d.ac(),d.ac(),d.bc(24,"div",8),d.bc(25,"ion-label",9),d.Qc(26," 4. Despu\xe9s de organizar tus objetivos presiona finalizar. "),d.ac(),d.ac(),d.bc(27,"div",10),d.bc(28,"ion-label",11),d.Qc(29," *Nota. Estos objetivos podr\xe1s modificarlos posteriormente. "),d.ac(),d.ac(),d.bc(30,"div",12),d.bc(31,"ion-label",11),d.Qc(32," *Nota. Recuerda que para modificar un objetivo debes seleccionarlo. "),d.ac(),d.ac(),d.ac(),d.bc(33,"div",13),d.Oc(34,f,2,0,"ion-badge",14),d.Oc(35,h,2,0,"ion-badge",15),d.Oc(36,m,2,0,"ion-badge",15),d.Oc(37,j,16,3,"ion-card",16),d.ac(),d.Oc(38,I,10,1,"div",17),d.Oc(39,C,3,0,"ion-row",18),d.ac()),2&t&&(d.Ib(34),d.uc("ngIf",!e.addTarget),d.Ib(1),d.uc("ngIf",e.addTarget&&!e.edit),d.Ib(1),d.uc("ngIf",e.addTarget&&e.edit),d.Ib(1),d.uc("ngIf",e.addTarget),d.Ib(1),d.uc("ngIf",e.objetivosList.length>0),d.Ib(1),d.uc("ngIf",0===e.objetivosList.length))},directives:[c.y,c.db,c.k,c.g,c.h,c.cb,c.s,c.p,c.o,c.i,c.F,n.m,c.l,c.n,c.m,o.w,o.q,o.i,c.E,o.c,o.p,o.g,o.l,o.u,c.t,c.ob,c.j,c.G,c.H,c.N,n.l,c.M,c.z,c.P],styles:["*[_ngcontent-%COMP%]{font-family:Proxima Nova!important}.button-css-options[_ngcontent-%COMP%]{font-size:10px;letter-spacing:1px;margin-top:5px;width:60%;--background:#002a68!important}.textArea[_ngcontent-%COMP%]{width:100%;display:block;resize:none;border-radius:5px;padding:5px 10px;border-color:#c7c7c7}.title-css[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.Subtitle-css[_ngcontent-%COMP%], .title-css[_ngcontent-%COMP%]{color:#080808;letter-spacing:1px}.Subtitle-css[_ngcontent-%COMP%]{font-size:7px;line-height:12px;margin:0;padding:7px;text-transform:uppercase;font-weight:700}.ion-item-css[_ngcontent-%COMP%]{font-size:12px;width:100%;text-align:center;margin-bottom:10px}.expansionCsss[_ngcontent-%COMP%]{background-color:rgba(248,249,250,.527)}.larger[_ngcontent-%COMP%]{display:inline-block;font-size:20px;color:#002a68!important}.larger[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{padding:10px 25px;font-size:16px;font-weight:700;text-transform:uppercase;color:#000}.icon-add[_ngcontent-%COMP%]{color:#fff;margin:5px 15px 0 0}.container-targets[_ngcontent-%COMP%]{text-align:center;margin-top:15px}.label-instructions[_ngcontent-%COMP%]{background-color:#fff;padding:5px;font-weight:700;font-size:13px;margin-left:15px;color:#002a68;text-transform:uppercase}.icon-target[_ngcontent-%COMP%]{color:#fff;background-color:#002a68;padding:5px;border-radius:10px;margin-right:5px}.label-target[_ngcontent-%COMP%]{white-space:normal;font-size:14px;font-weight:500;width:70%}.button-end[_ngcontent-%COMP%]{--background:#002a68;margin-bottom:15px}.badge-date[_ngcontent-%COMP%]{font-size:12px;padding:4px 5px;font-weight:500;place-self:center}.subtitle[_ngcontent-%COMP%]{padding:10px 20px;font-size:15px;text-align:center}.badge-instructions[_ngcontent-%COMP%]{background-color:#fff;padding:5px;font-weight:700;font-size:13px;margin-left:15px;color:#002a68;text-transform:uppercase}.card-add[_ngcontent-%COMP%]{margin:10px 20px;border-radius:10px;border-left:4px solid #002a68}.item-date[_ngcontent-%COMP%]{width:100%;border:1px solid #c7c7c7;border-radius:5px;padding:10px}.badge-new[_ngcontent-%COMP%]{background-color:#002a68}.badge-cancelar[_ngcontent-%COMP%], .badge-new[_ngcontent-%COMP%]{margin-top:10px;padding:8px 10px;font-size:15px}.badge-cancelar[_ngcontent-%COMP%]{background-color:#f44336}"]}),t})()}];let P=(()=>{class t{}return t.\u0275mod=d.Tb({type:t}),t.\u0275inj=d.Sb({factory:function(e){return new(e||t)},imports:[[a.j.forChild(M)],a.j]}),t})(),y=(()=>{class t{}return t.\u0275mod=d.Tb({type:t}),t.\u0275inj=d.Sb({factory:function(e){return new(e||t)},imports:[[n.c,o.k,c.eb,P,o.t]]}),t})()}}]);