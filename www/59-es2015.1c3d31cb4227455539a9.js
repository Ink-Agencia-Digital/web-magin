(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{jOyR:function(t,i,e){"use strict";e.r(i),e.d(i,"EstadisticasPageModule",(function(){return y}));var a=e("ofXK"),o=e("3Pt+"),r=e("TEn/"),n=e("tyNb"),s=e("MO+k"),c=e("fXoL"),l=e("7Vn+"),h=e("8rbx"),d=e("3no8"),b=e("AZGL"),p=e("VnPy");const u=["barChart"];function g(t,i){1&t&&(c.bc(0,"div",10),c.bc(1,"ion-badge",11),c.Qc(2,"No existen resultados"),c.ac(),c.ac())}const f=[{path:"",component:(()=>{class t{constructor(t,i,e,a,o,r){this.auth=t,this.log=i,this.router=e,this.loadingService=a,this.perfilService=o,this.share=r,this.usertk=null,this.califications=new Array,this.labels=new Array,this.dataSets=new Array,this.color=null,this.border=null}ngOnInit(){this.getToken()}getToken(){this.auth.gettokenLog().then(t=>{this.token=t,this.log.logdataInfData(t).subscribe(t=>{this.usertk=t,this.getCalifications()})})}getCalifications(){this.loadingService.loadingPresent({spinner:"circles"}),this.perfilService.getCalifications(this.usertk.id,this.token).subscribe(t=>{this.califications=t.data,this.loadingService.loadingDismiss(),this.califications.length>0&&this.loadDataSets()},t=>{this.loadingService.loadingDismiss()})}ionViewDidEnter(){this.createBarChart()}close(){this.router.navigate(["/users/perfil"])}loadDataSets(){this.califications.map(t=>{this.dynamicColorsArray(),this.dataSets.push({label:new Date(t.created_at).toISOString().slice(0,10),data:[t.reply.Atletico,t.reply.Nutricion,t.reply.Bienestar,t.reply.Fortaleza_mental,t.reply.Conductual,t.reply.Emocional,t.reply.Cognitivo],backgroundColor:this.color,borderColor:this.border,pointBackgroundColor:this.border,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:this.border})}),this.createBarChart()}dynamicColorsArray(){var t=Math.floor(255*Math.random()),i=Math.floor(255*Math.random()),e=Math.floor(255*Math.random());this.color="rgba("+t+","+i+","+e+", 0.2)",this.border="rgb("+t+","+i+","+e+")"}createBarChart(){this.bars=new s.Chart(this.barChart.nativeElement,{type:"radar",data:{labels:["Atl\xe9tico","Nutrici\xf3n","Bienestar","Fortaleza mental","Conductual","Emocional","Cognitivo"],datasets:this.dataSets},options:{legend:{display:!0,position:"bottom",labels:{fontColor:"rgb(0, 0, 0)"}},scale:{reverse:!1,ticks:{beginAtZero:!0,max:5}},scaleOverride:!0,scaleSteps:5,scaleStepWidth:5,scaleStartValue:0,responsive:!0,keepAspectRatio:!1,animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0}})}back(){this.share.varProfile.next(!0),this.router.navigate(["/users/perfil"])}}return t.\u0275fac=function(i){return new(i||t)(c.Vb(l.a),c.Vb(h.a),c.Vb(n.h),c.Vb(d.a),c.Vb(b.a),c.Vb(p.a))},t.\u0275cmp=c.Pb({type:t,selectors:[["app-estadisticas"]],viewQuery:function(t,i){var e;1&t&&c.Wc(u,!0),2&t&&c.Dc(e=c.kc())&&(i.barChart=e.first)},decls:14,vars:1,consts:[[1,"ion-toolbar-ccs"],["slot","start",2,"font-size","30px","color","white",3,"click"],["name","arrow-back-outline"],[1,"tituloInfo","logo"],[2,"color","white"],[2,"text-align","center","margin-top","15px","text-transform","uppercase","font-size","20px","color","#002a68","font-weight","bold"],[2,"margin-top","25px"],["width","700","height","700"],["barChart",""],["style","text-align: center;margin-top: 10px;",4,"ngIf"],[2,"text-align","center","margin-top","10px"],["color","danger",2,"font-size","16px","padding","5px 10px"]],template:function(t,i){1&t&&(c.bc(0,"ion-header"),c.bc(1,"ion-toolbar",0),c.bc(2,"ion-buttons",1),c.jc("click",(function(){return i.back()})),c.Wb(3,"ion-icon",2),c.ac(),c.bc(4,"ion-title",3),c.bc(5,"label",4),c.Qc(6,"MAGIN"),c.ac(),c.ac(),c.ac(),c.ac(),c.bc(7,"ion-content"),c.bc(8,"ion-card-title",5),c.Qc(9,"Mis Resultados"),c.ac(),c.bc(10,"ion-card-content",6),c.Wb(11,"canvas",7,8),c.ac(),c.Oc(13,g,3,0,"div",9),c.ac()),2&t&&(c.Ib(13),c.uc("ngIf",0===i.califications.length))},directives:[r.y,r.db,r.k,r.z,r.cb,r.s,r.p,r.m,a.m,r.i],styles:["*[_ngcontent-%COMP%]{font-family:Proxima Nova!important}.circulo[_ngcontent-%COMP%]{border-radius:50%;background:#002a68;display:flex;justify-content:center;align-items:center;text-align:center;margin:0 auto;padding:3%;color:#fff}.footer-dis-bot2[_ngcontent-%COMP%]{display:list-item}"]}),t})()}];let m=(()=>{class t{}return t.\u0275mod=c.Tb({type:t}),t.\u0275inj=c.Sb({factory:function(i){return new(i||t)},imports:[[n.j.forChild(f)],n.j]}),t})(),y=(()=>{class t{}return t.\u0275mod=c.Tb({type:t}),t.\u0275inj=c.Sb({factory:function(i){return new(i||t)},imports:[[a.c,o.k,r.eb,m]]}),t})()}}]);