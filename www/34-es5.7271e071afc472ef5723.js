function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var a=0;a<n.length;a++){var e=n[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function _createClass(t,n,a){return n&&_defineProperties(t.prototype,n),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"z/vQ":function(t,n,a){"use strict";a.r(n),a.d(n,"AudioPageModule",(function(){return x}));var e=a("ofXK"),i=a("3Pt+"),o=a("TEn/"),r=a("tyNb"),s=a("HlzF"),c=a("AytR"),l=a("fXoL"),d=a("7Vn+"),u=a("KB8S"),f=a("h7Fw"),m=a("3no8"),p=a("VnPy"),h=a("dNgK"),g=["range"];function b(t,n){if(1&t){var a=l.cc();l.bc(0,"ion-button",20),l.jc("click",(function(){l.Hc(a);var t=l.nc(2);return t.toggleplayer(!1,t.audio)})),l.Wb(1,"ion-icon",21),l.ac()}}function y(t,n){if(1&t){var a=l.cc();l.bc(0,"ion-button",20),l.jc("click",(function(){l.Hc(a);var t=l.nc(2);return t.toggleplayer(!0,t.audio)})),l.Wb(1,"ion-icon",22),l.ac()}}function k(t,n){if(1&t){var a=l.cc();l.bc(0,"ion-footer"),l.bc(1,"ion-toolbar",9),l.bc(2,"ion-row"),l.bc(3,"ion-col",10),l.bc(4,"ion-label",11),l.Qc(5),l.ac(),l.ac(),l.bc(6,"ion-col",12),l.bc(7,"ion-range",13,14),l.jc("ngModelChange",(function(t){return l.Hc(a),l.nc().progress=t}))("touched",(function(){return l.Hc(a),l.nc().seek()}))("mouseup",(function(){return l.Hc(a),l.nc().seek()})),l.ac(),l.ac(),l.bc(9,"ion-col",15),l.Oc(10,b,2,0,"ion-button",16),l.Oc(11,y,2,0,"ion-button",16),l.ac(),l.bc(12,"div",17),l.bc(13,"ion-button",18),l.jc("click",(function(){return l.Hc(a),l.nc().goContent()})),l.Qc(14,"Continuar "),l.Wb(15,"ion-icon",19),l.ac(),l.ac(),l.ac(),l.ac(),l.ac()}if(2&t){var e=l.nc();l.Ib(5),l.Rc(e.nameCourse),l.Ib(2),l.uc("ngModel",e.progress),l.Ib(3),l.uc("ngIf",!e.isPlaying),l.Ib(1),l.uc("ngIf",e.isPlaying)}}var v,w,C,P=[{path:"",component:(v=function(){function t(n,a,e,i,o,r,s){_classCallCheck(this,t),this.auth=n,this.pObjectIndex=a,this.pObjecto=e,this.loadingService=i,this.share=o,this.router=r,this.snackbar=s,this.token=null,this.index=null,this.user=null,this.id=null,this.course=null,this.audio=null,this.nameCourse=null,this.progress=0,this.player=null,this.isPlaying=!1,this.basePath=""+c.a.HOST,this.order=null,this.getToken()}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.leccion=this.pObjectIndex.getData(),this.informacion=this.pObjecto.getNavData(),this.share.verorder().then((function(n){t.order=n}))}},{key:"ngOnDestroy",value:function(){this.player.pause()}},{key:"getToken",value:function(){var t=this;this.auth.gettokenLog().then((function(n){t.token=n,t.loadPage()}))}},{key:"loadPage",value:function(){this.index=this.pObjectIndex.getData();var t=this.pObjecto.getNavData();this.user=t.userInf,this.id=t.infoCurso.id,this.share.guardarCursoActiva(t),this.getCourse()}},{key:"getCourse",value:function(){var t=this;this.loadingService.loadingPresent({spinner:"circles"}),this.share.getCursosUsuario(this.user.id,this.token).subscribe((function(n){t.loadingService.loadingDismiss();var a=n.data.find((function(n){return n.id===t.id}));t.course=a.lessons[t.index],t.nameCourse=t.course.name;var e=t.course.resources.find((function(n){return n.order===t.order}));t.audio=e.audio,t.start(t.audio)}))}},{key:"seek",value:function(){var t=+this.range.value,n=this.player.duration();this.player.seek(n*(t/100))}},{key:"prev",value:function(){this.start(this.audio)}},{key:"next",value:function(){this.start(this.audio)}},{key:"start",value:function(t){var n=this,a=this;this.player&&this.player.stop(),this.player=new s.Howl({src:[this.basePath+t],html5:!0,volume:1,onplay:function(){n.isPlaying=!0,n.audio=t,n.updateProgress()},onend:function(){n.player.stop()},onloaderror:function(){a.mostrarmensaje("Error al cargar el audio","Error","red-snackbar")}}),this.player.play()}},{key:"toggleplayer",value:function(t,n){this.player?(this.isPlaying=!t,t?this.player.pause():null===this.player?this.start(n):this.player.play()):this.mostrarmensaje("Error al cargar el audio","Error","red-snackbar")}},{key:"updateProgress",value:function(){var t=this,n=this.player.seek();this.progress=n/this.player.duration()*100||0,setTimeout((function(){t.updateProgress()}),1e3)}},{key:"goContent",value:function(){this.pObjectIndex.setData(this.leccion),this.pObjecto.setData(this.informacion),this.share.varorder.next("true"),this.router.navigate(["/users/entrena/vercurso/verleccion/contenido"])}},{key:"mostrarmensaje",value:function(t,n,a){this.snackbar.open(t,n,{duration:2e3,panelClass:[a]})}}]),t}(),v.\u0275fac=function(t){return new(t||v)(l.Vb(d.a),l.Vb(u.a),l.Vb(f.a),l.Vb(m.a),l.Vb(p.a),l.Vb(r.h),l.Vb(h.a))},v.\u0275cmp=l.Pb({type:v,selectors:[["app-audio"]],viewQuery:function(t,n){var a;1&t&&l.Wc(g,!0),2&t&&l.Dc(a=l.kc())&&(n.range=a.first)},decls:13,vars:1,consts:[[1,"ion-toolbar-ccs"],[1,"tituloInfo","logo"],[2,"color","white"],[2,"text-align","center","margin-bottom","10px","padding","5px 0px"],["name","headset-outline","slot","start",2,"color","#002a68","zoom","1.5","margin","0"],[2,"font-size","20px","color","#002a68","text-transform","uppercase","font-weight","bold"],[1,"coverBack"],[1,"container"],[4,"ngIf"],[1,"toolbarColor"],["size","12",1,"ion-text-center",2,"padding-top","20px"],["color","light",2,"font-size","16px","text-transform","uppercase","color","black","font-weight","bold"],["size","12"],["max","100","color","dark",3,"ngModel","ngModelChange","touched","mouseup"],["range",""],["size","12",1,"ion-text-center"],["fill","clear","color","dark",3,"click",4,"ngIf"],[2,"text-align","center","width","100%","margin","10px"],[1,"footer-dis-bot2",3,"click"],["name","caret-forward-outline"],["fill","clear","color","dark",3,"click"],["slot","icon-only","name","play",2,"color","black"],["slot","icon-only","name","pause",2,"color","black"]],template:function(t,n){1&t&&(l.bc(0,"ion-header"),l.bc(1,"ion-toolbar",0),l.bc(2,"ion-title",1),l.bc(3,"label",2),l.Qc(4,"MAGIN"),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(5,"ion-content"),l.bc(6,"ion-item",3),l.Wb(7,"ion-icon",4),l.bc(8,"ion-label",5),l.Qc(9,"Audio"),l.ac(),l.ac(),l.bc(10,"div",6),l.Wb(11,"div",7),l.ac(),l.ac(),l.Oc(12,k,16,4,"ion-footer",8)),2&t&&(l.Ib(12),l.uc("ngIf",n.audio))},directives:[o.y,o.db,o.cb,o.s,o.E,o.z,o.F,e.m,o.w,o.P,o.r,o.L,o.ob,i.p,i.s,o.j],styles:[".coverBack[_ngcontent-%COMP%]{height:calc(100vh - 413px);background-color:rgba(33,65,153,.623);overflow:hidden}.toolbarColor[_ngcontent-%COMP%]{--ion-background-color:linear-gradient(162deg,rgba(114,150,247,0.603) 20%,rgba(33,65,153,0.623))}.container[_ngcontent-%COMP%]{background-image:url(audio.db034f28479d1addc455.gif);background-repeat:round;background-size:cover;height:calc(100vh - 413px)}.row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.rain[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.rain[_ngcontent-%COMP%]:first-of-type{--duration:2.7s;--delay:1s;transform:translate(10%,10%) scale(.9)}.rain[_ngcontent-%COMP%]:nth-of-type(2){--duration:2.1s;--delay:1.2s;transform:translate(-20%,40%) scale(1.3)}.rain[_ngcontent-%COMP%]:nth-of-type(3){--duration:2.3s;--delay:2s;transform:translateY(50%) scale(1.1)}.rain[_ngcontent-%COMP%]:nth-of-type(4){--duration:2s;--delay:4s;transform:translateY(-10%) scale(1.2)}.rain[_ngcontent-%COMP%]:nth-of-type(5){--duration:2.5s;--delay:0s;transform:translate(10%) scale(.9)}.rain[_ngcontent-%COMP%]:nth-of-type(6){--duration:2s;--delay:2.7s;transform:translate(-20%) scale(1)}.rain[_ngcontent-%COMP%]:nth-of-type(7){--duration:1.8s;--delay:1.3s;transform:translate(20%,-40%) scale(1.2)}.rain[_ngcontent-%COMP%]:nth-of-type(8){--duration:2.2s;--delay:0s;transform:translate(20%) scale(1)}.rain[_ngcontent-%COMP%]:nth-of-type(9){--duration:2s;--delay:0.5s;transform:translateY(-10%) scale(1.3)}.drop[_ngcontent-%COMP%]{background-color:#fff;width:3px;height:100px;position:absolute;top:calc(50% - 100px);left:calc(50% - 1.5px);-webkit-animation-name:fall;animation-name:fall;-webkit-animation-duration:var(--duration);animation-duration:var(--duration);-webkit-animation-delay:var(--delay);animation-delay:var(--delay);-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-animation-fill-mode:backwards;animation-fill-mode:backwards}@-webkit-keyframes fall{0%{transform:translateY(-120vh)}45%{transform:translateY(0);opacity:1}46%{opacity:0}to{opacity:0}}@keyframes fall{0%{transform:translateY(-120vh)}45%{transform:translateY(0);opacity:1}46%{opacity:0}to{opacity:0}}.waves[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;border-radius:50%;border:3px solid #fff;-webkit-animation-name:spread;animation-name:spread;-webkit-animation-duration:var(--duration);animation-duration:var(--duration);-webkit-animation-delay:var(--delay);animation-delay:var(--delay);-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;-webkit-animation-fill-mode:backwards;animation-fill-mode:backwards}.waves[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:calc(var(--delay) + .3s);animation-delay:calc(var(--delay) + .3s);-webkit-animation-timing-function:linear;animation-timing-function:linear}@-webkit-keyframes spread{0%{transform:scale(0);opacity:1}40%{transform:scale(0);opacity:1}to{transform:scale(1);opacity:0}}@keyframes spread{0%{transform:scale(0);opacity:1}40%{transform:scale(0);opacity:1}to{transform:scale(1);opacity:0}}.splash[_ngcontent-%COMP%]{position:absolute;top:10%;bottom:50%;left:35%;right:35%;border-radius:8px;-webkit-clip-path:polygon(7% 100%,5% 95%,3% 80%,11% 50%,17% 38%,23% 44%,30% 53%,37% 28%,40% 29%,45% 43%,51% 53%,59% 36%,64% 22%,67% 23%,70% 34%,72% 46%,79% 37%,83% 37%,93% 61%,96% 76%,96% 94%,94% 100%);clip-path:polygon(7% 100%,5% 95%,3% 80%,11% 50%,17% 38%,23% 44%,30% 53%,37% 28%,40% 29%,45% 43%,51% 53%,59% 36%,64% 22%,67% 23%,70% 34%,72% 46%,79% 37%,83% 37%,93% 61%,96% 76%,96% 94%,94% 100%);background-color:#fff;transform-origin:bottom;-webkit-animation-name:splash;animation-name:splash;-webkit-animation-duration:var(--duration);animation-duration:var(--duration);-webkit-animation-delay:var(--delay);animation-delay:var(--delay);-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out;-webkit-animation-fill-mode:backwards;animation-fill-mode:backwards}@-webkit-keyframes splash{0%{transform:scale(.3,0)}49%{transform:scale(.3,0)}50%{transform:scale(.3)}60%{transform:scaleX(.7)}90%{transform:scaleY(0)}to{transform:scaleY(0)}}@keyframes splash{0%{transform:scale(.3,0)}49%{transform:scale(.3,0)}50%{transform:scale(.3)}60%{transform:scaleX(.7)}90%{transform:scaleY(0)}to{transform:scaleY(0)}}.particles[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;border-radius:100%;background-color:#fff;-webkit-animation-duration:var(--duration);animation-duration:var(--duration);-webkit-animation-delay:var(--delay);animation-delay:var(--delay);-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:ease;animation-timing-function:ease;-webkit-animation-fill-mode:backwards;animation-fill-mode:backwards}.particles[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:7px;height:7px;top:50%}.particles[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .particles[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){left:50%;-webkit-animation-name:jumpLeft;animation-name:jumpLeft}.particles[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:5px;height:5px;top:30%;-webkit-animation-delay:calc(var(--delay) + .1s);animation-delay:calc(var(--delay) + .1s)}.particles[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){width:3px;height:3px;top:20%;left:70%;-webkit-animation-delay:calc(var(--delay) + .15s);animation-delay:calc(var(--delay) + .15s)}.particles[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .particles[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-name:jumpRight;animation-name:jumpRight}.particles[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){width:5px;height:5px;top:30%;left:50%;-webkit-animation-delay:calc(var(--delay) + .3s);animation-delay:calc(var(--delay) + .3s)}@-webkit-keyframes jumpLeft{0%{transform:translate(0) scale(0)}45%{transform:translate(0) scale(0)}60%{transform:translate(-50px,-90px) scale(1)}to{transform:translate(-60px) scale(.1)}}@keyframes jumpLeft{0%{transform:translate(0) scale(0)}45%{transform:translate(0) scale(0)}60%{transform:translate(-50px,-90px) scale(1)}to{transform:translate(-60px) scale(.1)}}@-webkit-keyframes jumpRight{0%{transform:translate(0) scale(0)}45%{transform:translate(0) scale(0)}60%{transform:translate(30px,-80px) scale(1)}to{transform:translate(50px) scale(.1)}}@keyframes jumpRight{0%{transform:translate(0) scale(0)}45%{transform:translate(0) scale(0)}60%{transform:translate(30px,-80px) scale(1)}to{transform:translate(50px) scale(.1)}}.footer-dis-bot2[_ngcontent-%COMP%]{--background:#002a68;display:list-item}*[_ngcontent-%COMP%]{font-family:Proxima Nova!important}.title[_ngcontent-%COMP%]{white-space:break-spaces;font-weight:500;padding:5px;font-size:14px;width:100%}.list-md[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}"]}),v)}],O=((C=function t(){_classCallCheck(this,t)}).\u0275mod=l.Tb({type:C}),C.\u0275inj=l.Sb({factory:function(t){return new(t||C)},imports:[[r.j.forChild(P)],r.j]}),C),x=((w=function t(){_classCallCheck(this,t)}).\u0275mod=l.Tb({type:w}),w.\u0275inj=l.Sb({factory:function(t){return new(t||w)},imports:[[e.c,i.k,o.eb,O]]}),w)}}]);