function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,i){return n&&_defineProperties(e.prototype,n),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{D1e0:function(e,n,i){"use strict";i.r(n),i.d(n,"SlidesPageModule",(function(){return _}));var t=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),a=i("tyNb"),c=i("mrSG"),s=i("fXoL"),l=i("7Vn+"),d=i("AZGL"),u=i("8rbx"),f=i("3no8"),g=i("1as6");function p(e,n){if(1&e&&(s.bc(0,"ion-label",24),s.Qc(1),s.ac()),2&e){var i=s.nc();s.Ib(1),s.Rc(i.message_header)}}function b(e,n){if(1&e&&(s.bc(0,"ion-label",25),s.Qc(1),s.ac()),2&e){var i=s.nc();s.Ib(1),s.Rc(i.userInf.name)}}function h(e,n){if(1&e&&(s.bc(0,"ion-col",12),s.bc(1,"ion-card"),s.bc(2,"div"),s.bc(3,"ion-card-content",36),s.bc(4,"ion-label",37),s.Qc(5),s.oc(6,"capitalize"),s.ac(),s.ac(),s.ac(),s.ac(),s.ac()),2&e){var i=n.$implicit,t=s.nc().$implicit;s.Ib(1),s.Lb("card-profiles ",t.value.descriptions,""),s.Ib(4),s.Sc(" ",s.pc(6,4,i.name)," ")}}function m(e,n){if(1&e){var i=s.cc();s.bc(0,"div",26),s.bc(1,"div",27),s.bc(2,"ion-item",28),s.bc(3,"ion-checkbox",29),s.jc("ngModelChange",(function(e){s.Hc(i);var t=n.$implicit;return s.nc().selectProfile(e,t.value.index)})),s.ac(),s.bc(4,"p",30),s.Qc(5),s.ac(),s.ac(),s.ac(),s.bc(6,"div",31),s.bc(7,"ion-grid",32),s.bc(8,"ion-row",33),s.Oc(9,h,7,6,"ion-col",34),s.ac(),s.ac(),s.ac(),s.Wb(10,"hr",35),s.ac()}if(2&e){var t=n.$implicit;s.Ib(2),s.Lb("itemback ",t.value.color,""),s.uc("formGroupName",t.value.index),s.Ib(3),s.Rc(t.value.profile.name),s.Ib(4),s.uc("ngForOf",t.value.profile.descriptions)}}var v,x,k,P=[{path:"",component:(v=function(){function e(n,i,t,o,r,a,c,s){_classCallCheck(this,e),this.router=n,this.auth=i,this.alertController=t,this.porfiles=o,this.log=r,this.loadingService=a,this.formBuilder=c,this.route=s,this.select=!1,this.colors=["card-1","card-2","card-3"],this.descriptions=["card-descriptions-1","card-descriptions-2","card-descriptions-3"],this.minProfileSelected=function(e){return e.controls.map((function(e){return e.value.selected})).reduce((function(e,n){return n?e+n:e}),0)>=1?null:{required:!0}}}return _createClass(e,[{key:"ngOnInit",value:function(){this.validateProfileUserAuth(),this.loadForm(),this.getToken(),this.getCurrentHour()}},{key:"validateProfileUserAuth",value:function(){var e=this;this.auth.gettokenLog().then((function(n){null!==n&&e.log.logdataInfData(n).subscribe((function(n){e.auth.gettokenDevice().then((function(i){null!==i&&e.log.saveDevice(n.id,i)})),null==n.profile_id?e.getProfiles():e.route.navigateByUrl("/users/home")}))}))}},{key:"getCurrentHour",value:function(){var e=(new Date).getHours();this.message_header=e<12?"Buenos d\xedas":e<18?"Buenas tardes":"Buenas noches"}},{key:"getToken",value:function(){var e=this;this.auth.gettokenLog().then((function(n){e.token=n}))}},{key:"getProfiles",value:function(){var e=this;this.loadingService.loadingPresent({message:"Por favor espere",spinner:"circles"}),this.porfiles.getProfiles(this.token).subscribe((function(n){e.loadProfiles(n),e.auth.gettokenLog().then((function(n){null!==n&&e.log.logdataInfData(n).subscribe((function(n){n&&(e.userInf=n)})),e.loadingService.loadingDismiss()}))}),(function(n){e.loadingService.loadingDismiss()}))}},{key:"loadForm",value:function(){this.form=new o.h({profiles:this.formBuilder.array([],{validators:this.minProfileSelected})})}},{key:"loadProfiles",value:function(e){var n=this,i=0;e.data.map((function(e){n.profilesArray.push(n.formBuilder.group({index:new o.f(n.profilesArray.controls.length),profile:new o.f(e),selected:new o.f(!1),color:new o.f(n.colors[i]),descriptions:new o.f(n.descriptions[i])})),2==i?i=0:i++}))}},{key:"selectProfile",value:function(e,n){e&&this.profilesArray.controls.filter((function(e){return e.get("index").value!==n})).map((function(e){e.get("selected").setValue(!1)}))}},{key:"continuar",value:function(){var e=this;if(this.form.valid){var n=this.profilesArray.controls.find((function(e){return!0===e.get("selected").value}));n&&(this.loadingService.loadingPresent({message:"Por favor espere",spinner:"circles"}),this.porfiles.updateProfile(this.userInf.id,n.value.profile.id,this.token).subscribe((function(n){e.auth.setNomolestarP(),e.loadingService.loadingDismiss(),e.router.navigateByUrl("/target")}),(function(n){e.loadingService.loadingDismiss()})))}else this.alertDespuesTiempo()}},{key:"alertDespuesTiempo",value:function(){return Object(c.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.mensaje="Debe seleccionar Un perfil";case 1:case"end":return e.stop()}}),e,this)})))}},{key:"profilesArray",get:function(){return this.form.get("profiles")}}]),e}(),v.\u0275fac=function(e){return new(e||v)(s.Vb(a.h),s.Vb(l.a),s.Vb(r.b),s.Vb(d.a),s.Vb(u.a),s.Vb(f.a),s.Vb(o.e),s.Vb(a.h))},v.\u0275cmp=s.Pb({type:v,selectors:[["app-slides"]],decls:34,vars:6,consts:[[1,"ion-content-principal"],[2,"background-image","url(../../../assets/slidesImg/magin_1.gif)","background-repeat","round","background-size","cover","height","100vh"],[1,"swipe-img"],[2,"background-image","url(../../../assets/slidesImg/magin_2.gif)","background-repeat","round","background-size","cover","height","100vh"],[1,"swipe-img",2,"height","120% !important"],[2,"background-image","url(../../../assets/slidesImg/magin_3.gif)","background-repeat","round","background-size","cover","height","100vh"],[2,"background-image","url(../../../assets/slidesImg/magin_4.gif)","background-repeat","round","background-size","cover","height","100vh"],["lines","none",2,"min-width","100%","min-height","100%","width","100%","overflow","auto"],["header",""],[1,"ion-toolbar-ccs"],["toolbar",""],[1,"logo"],["size","4"],[1,"icon-header"],["src","/assets/finallogo.png","width","120","height","70"],["size","8",2,"align-self","flex-end"],[1,"info-header"],["style","font-size: 14px;color: #fff;margin-right: 5px;",4,"ngIf"],["style","font-size: 14px;color: #fff;text-transform: capitalize;",4,"ngIf"],[3,"formGroup"],[1,"titulo"],["formArrayName","profiles","style","margin-bottom: 15px;text-align: -webkit-center;","lines","none",4,"ngFor","ngForOf"],[1,"buttonCss",3,"disabled","click"],["slot","end","name","arrow-forward"],[2,"font-size","14px","color","#fff","margin-right","5px"],[2,"font-size","14px","color","#fff","text-transform","capitalize"],["formArrayName","profiles","lines","none",2,"margin-bottom","15px","text-align","-webkit-center"],[2,"text-align","-webkit-center","margin-bottom","2px"],["lines","none",3,"formGroupName"],["slot","end","color","primary","formControlName","selected",3,"ngModelChange"],[2,"text-transform","uppercase","font-weight","bold","margin","0"],[2,"background-color","#a9a9a94d","width","95%","border-radius","10px","margin","10px 0px","padding","5px"],["lines","none"],[2,"align-items","center"],["size","4",4,"ngFor","ngForOf"],[1,"hr-descriptions"],[1,"content-descriptions"],[1,"label-descriptions"]],template:function(e,n){1&e&&(s.bc(0,"ion-content",0),s.bc(1,"ion-slides"),s.bc(2,"ion-slide",1),s.Wb(3,"div",2),s.ac(),s.bc(4,"ion-slide",3),s.Wb(5,"div",4),s.ac(),s.bc(6,"ion-slide",5),s.Wb(7,"div",2),s.ac(),s.bc(8,"ion-slide",6),s.Wb(9,"div",2),s.ac(),s.bc(10,"ion-slide",7),s.bc(11,"ion-header",null,8),s.bc(13,"ion-toolbar",9,10),s.bc(15,"div"),s.bc(16,"ion-toolbar"),s.bc(17,"ion-row",11),s.bc(18,"ion-col",12),s.bc(19,"div",13),s.Wb(20,"img",14),s.ac(),s.ac(),s.bc(21,"ion-col",15),s.bc(22,"div",16),s.Oc(23,p,2,1,"ion-label",17),s.Oc(24,b,2,1,"ion-label",18),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.bc(25,"form",19),s.bc(26,"h2",20),s.Qc(27,"\xbfCON QUE PERFIL TE IDENTIFICAS?"),s.ac(),s.bc(28,"h3"),s.Qc(29),s.ac(),s.Oc(30,m,11,6,"div",21),s.bc(31,"ion-button",22),s.jc("click",(function(){return n.continuar()})),s.Qc(32,"Continuar "),s.Wb(33,"ion-icon",23),s.ac(),s.ac(),s.ac(),s.ac(),s.ac()),2&e&&(s.Ib(23),s.uc("ngIf",n.userInf),s.Ib(1),s.uc("ngIf",n.userInf),s.Ib(1),s.uc("formGroup",n.form),s.Ib(4),s.Rc(n.mensaje),s.Ib(1),s.uc("ngForOf",n.profilesArray.controls),s.Ib(1),s.uc("disabled",!n.form.valid))},directives:[r.s,r.W,r.V,r.y,r.db,r.P,r.r,t.m,o.w,o.q,o.i,t.l,r.j,r.z,r.F,o.d,r.E,o.j,r.q,r.c,o.p,o.g,r.x,r.l,r.m],pipes:[g.a],styles:["*[_ngcontent-%COMP%]{font-family:Proxima Nova!important}.ion-item-css[_ngcontent-%COMP%]{background-color:#f6f6f6;border-radius:8px;color:#535353;text-decoration:none;font-size:13px;width:115%;border:2px solid #f6f6f6;transition:all .3s ease-in-out;height:45px;text-align:center;margin:0 auto 10px}ion-slides[_ngcontent-%COMP%]{height:100%;width:100%}.swiper-slide[_ngcontent-%COMP%]{display:block}.swiper-slide[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#032d6a;margin:15px auto;font-weight:700}.swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%;pointer-events:none}b[_ngcontent-%COMP%]{font-weight:500}p[_ngcontent-%COMP%]{padding:0 10px;font-size:14px}p[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:var(--ion-text-color,#000)}.titulo[_ngcontent-%COMP%]{font-size:15px;letter-spacing:1px;text-align:center}.itemback[_ngcontent-%COMP%]{color:#fff;text-decoration:none;width:95%;border-radius:10px}.buttonCss[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px;letter-spacing:1px;margin:15px auto;text-align:center;text-decoration:none;transition:all .3s ease-in-out;width:85%;--background:#002a68!important}.card-profiles[_ngcontent-%COMP%]{margin:0;border-left:4px solid #094aa8;border-radius:10px;height:100%}.label-descriptions[_ngcontent-%COMP%]{font-size:13px;font-weight:700;color:#000}.content-descriptions[_ngcontent-%COMP%]{padding:5px}.hr-descriptions[_ngcontent-%COMP%]{background-color:#b5b5b5}.card-1[_ngcontent-%COMP%]{--background:#002a68}.card-2[_ngcontent-%COMP%]{--background:#80b9f6}.card-3[_ngcontent-%COMP%]{--background:#0041a2}.card-descriptions-1[_ngcontent-%COMP%]{border-left:4px solid #002a68}.card-descriptions-2[_ngcontent-%COMP%]{border-left:4px solid #80b9f6}.card-descriptions-3[_ngcontent-%COMP%]{border-left:4px solid #0041a2}.swipe-img[_ngcontent-%COMP%]{background-image:url(swipe.1a8c7cab8aa37c661926.gif);background-repeat:no-repeat;background-position:100%;background-size:70px;box-shadow:none!important;border-radius:10px;height:180%}"]}),v)}],w=((x=function e(){_classCallCheck(this,e)}).\u0275mod=s.Tb({type:x}),x.\u0275inj=s.Sb({factory:function(e){return new(e||x)},imports:[[a.j.forChild(P)],a.j]}),x),C=i("HsBR"),_=((k=function e(){_classCallCheck(this,e)}).\u0275mod=s.Tb({type:k}),k.\u0275inj=s.Sb({factory:function(e){return new(e||k)},imports:[[t.c,r.eb,w,o.t,C.a]]}),k)}}]);