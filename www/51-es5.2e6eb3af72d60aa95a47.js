function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{Wxwx:function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarioPageModule",(function(){return Pn}));var a=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),c=n("tyNb"),o=n("fXoL"),l=n("XNiG"),s=["monthSlider"];function d(e,t){if(1&e&&(o.bc(0,"th"),o.bc(1,"small"),o.Qc(2),o.ac(),o.ac()),2&e){var n=t.$implicit;o.Ib(2),o.Rc(n)}}function u(e,t){}var v=function(e,t,n){return{view:e,row:t,col:n}};function h(e,t){if(1&e){var n=o.cc();o.bc(0,"td",7),o.jc("click",(function(){o.Hc(n);var e=t.$implicit,a=o.nc().$implicit,i=o.nc(2);return i.select(i.views[0].dates[7*a+e])})),o.Oc(1,u,0,0,"ng-template",3),o.ac()}if(2&e){var a=t.$implicit,i=o.nc().$implicit,r=o.nc(2);o.uc("ngClass",r.getHighlightClass(r.views[0].dates[7*i+a])),o.Ib(1),o.uc("ngTemplateOutlet",r.monthviewDisplayEventTemplate)("ngTemplateOutletContext",o.Bc(3,v,r.views[0],i,a))}}var m=function(){return[0,1,2,3,4,5,6]};function g(e,t){1&e&&(o.bc(0,"tr"),o.Oc(1,h,2,7,"td",6),o.ac()),2&e&&(o.Ib(1),o.uc("ngForOf",o.yc(1,m)))}var f=function(){return[0,1,2,3,4,5]};function b(e,t){if(1&e&&(o.bc(0,"table",4),o.bc(1,"thead"),o.bc(2,"tr"),o.Oc(3,d,3,1,"th",5),o.ac(),o.ac(),o.bc(4,"tbody"),o.Oc(5,g,2,2,"tr",5),o.ac(),o.ac()),2&e){var n=o.nc();o.Ib(3),o.uc("ngForOf",n.views[0].dayHeaders),o.Ib(2),o.uc("ngForOf",o.yc(2,f))}}function p(e,t){if(1&e&&(o.bc(0,"th"),o.bc(1,"small"),o.Qc(2),o.ac(),o.ac()),2&e){var n=t.$implicit;o.Ib(2),o.Rc(n)}}function w(e,t){}function y(e,t){if(1&e&&(o.bc(0,"td"),o.Oc(1,w,0,0,"ng-template",3),o.ac()),2&e){var n=t.$implicit,a=o.nc().$implicit,i=o.nc(2);o.Ib(1),o.uc("ngTemplateOutlet",i.monthviewInactiveDisplayEventTemplate)("ngTemplateOutletContext",o.Bc(2,v,i.views[0],a,n))}}function T(e,t){1&e&&(o.bc(0,"tr"),o.Oc(1,y,2,6,"td",5),o.ac()),2&e&&(o.Ib(1),o.uc("ngForOf",o.yc(1,m)))}function S(e,t){if(1&e&&(o.bc(0,"table",4),o.bc(1,"thead"),o.bc(2,"tr",8),o.Oc(3,p,3,1,"th",5),o.ac(),o.ac(),o.bc(4,"tbody"),o.Oc(5,T,2,2,"tr",5),o.Wb(6,"tr"),o.ac(),o.ac()),2&e){var n=o.nc();o.Ib(3),o.uc("ngForOf",n.views[0].dayHeaders),o.Ib(2),o.uc("ngForOf",o.yc(2,f))}}function D(e,t){if(1&e&&(o.bc(0,"th"),o.bc(1,"small"),o.Qc(2),o.ac(),o.ac()),2&e){var n=t.$implicit;o.Ib(2),o.Rc(n)}}function C(e,t){}function O(e,t){if(1&e){var n=o.cc();o.bc(0,"td",7),o.jc("click",(function(){o.Hc(n);var e=t.$implicit,a=o.nc().$implicit,i=o.nc(2);return i.select(i.views[1].dates[7*a+e])})),o.Oc(1,C,0,0,"ng-template",3),o.ac()}if(2&e){var a=t.$implicit,i=o.nc().$implicit,r=o.nc(2);o.uc("ngClass",r.getHighlightClass(r.views[1].dates[7*i+a])),o.Ib(1),o.uc("ngTemplateOutlet",r.monthviewDisplayEventTemplate)("ngTemplateOutletContext",o.Bc(3,v,r.views[1],i,a))}}function k(e,t){1&e&&(o.bc(0,"tr"),o.Oc(1,O,2,7,"td",6),o.ac()),2&e&&(o.Ib(1),o.uc("ngForOf",o.yc(1,m)))}function I(e,t){if(1&e&&(o.bc(0,"table",4),o.bc(1,"thead"),o.bc(2,"tr"),o.Oc(3,D,3,1,"th",5),o.ac(),o.ac(),o.bc(4,"tbody"),o.Oc(5,k,2,2,"tr",5),o.ac(),o.ac()),2&e){var n=o.nc();o.Ib(3),o.uc("ngForOf",n.views[1].dayHeaders),o.Ib(2),o.uc("ngForOf",o.yc(2,f))}}function E(e,t){if(1&e&&(o.bc(0,"th"),o.bc(1,"small"),o.Qc(2),o.ac(),o.ac()),2&e){var n=t.$implicit;o.Ib(2),o.Rc(n)}}function P(e,t){}function x(e,t){if(1&e&&(o.bc(0,"td"),o.Oc(1,P,0,0,"ng-template",3),o.ac()),2&e){var n=t.$implicit,a=o.nc().$implicit,i=o.nc(2);o.Ib(1),o.uc("ngTemplateOutlet",i.monthviewInactiveDisplayEventTemplate)("ngTemplateOutletContext",o.Bc(2,v,i.views[1],a,n))}}function M(e,t){1&e&&(o.bc(0,"tr"),o.Oc(1,x,2,6,"td",5),o.ac()),2&e&&(o.Ib(1),o.uc("ngForOf",o.yc(1,m)))}function H(e,t){if(1&e&&(o.bc(0,"table",4),o.bc(1,"thead"),o.bc(2,"tr",8),o.Oc(3,E,3,1,"th",5),o.ac(),o.ac(),o.bc(4,"tbody"),o.Oc(5,M,2,2,"tr",5),o.Wb(6,"tr"),o.ac(),o.ac()),2&e){var n=o.nc();o.Ib(3),o.uc("ngForOf",n.views[1].dayHeaders),o.Ib(2),o.uc("ngForOf",o.yc(2,f))}}function F(e,t){if(1&e&&(o.bc(0,"th"),o.bc(1,"small"),o.Qc(2),o.ac(),o.ac()),2&e){var n=t.$implicit;o.Ib(2),o.Rc(n)}}function V(e,t){}function _(e,t){if(1&e){var n=o.cc();o.bc(0,"td",7),o.jc("click",(function(){o.Hc(n);var e=t.$implicit,a=o.nc().$implicit,i=o.nc(2);return i.select(i.views[2].dates[7*a+e])})),o.Oc(1,V,0,0,"ng-template",3),o.ac()}if(2&e){var a=t.$implicit,i=o.nc().$implicit,r=o.nc(2);o.uc("ngClass",r.getHighlightClass(r.views[2].dates[7*i+a])),o.Ib(1),o.uc("ngTemplateOutlet",r.monthviewDisplayEventTemplate)("ngTemplateOutletContext",o.Bc(3,v,r.views[2],i,a))}}function A(e,t){1&e&&(o.bc(0,"tr"),o.Oc(1,_,2,7,"td",6),o.ac()),2&e&&(o.Ib(1),o.uc("ngForOf",o.yc(1,m)))}function N(e,t){if(1&e&&(o.bc(0,"table",4),o.bc(1,"thead"),o.bc(2,"tr"),o.Oc(3,F,3,1,"th",5),o.ac(),o.ac(),o.bc(4,"tbody"),o.Oc(5,A,2,2,"tr",5),o.ac(),o.ac()),2&e){var n=o.nc();o.Ib(3),o.uc("ngForOf",n.views[2].dayHeaders),o.Ib(2),o.uc("ngForOf",o.yc(2,f))}}function L(e,t){if(1&e&&(o.bc(0,"th"),o.bc(1,"small"),o.Qc(2),o.ac(),o.ac()),2&e){var n=t.$implicit;o.Ib(2),o.Rc(n)}}function $(e,t){}function j(e,t){if(1&e&&(o.bc(0,"td"),o.Oc(1,$,0,0,"ng-template",3),o.ac()),2&e){var n=t.$implicit,a=o.nc().$implicit,i=o.nc(2);o.Ib(1),o.uc("ngTemplateOutlet",i.monthviewInactiveDisplayEventTemplate)("ngTemplateOutletContext",o.Bc(2,v,i.views[2],a,n))}}function R(e,t){1&e&&(o.bc(0,"tr"),o.Oc(1,j,2,6,"td",5),o.ac()),2&e&&(o.Ib(1),o.uc("ngForOf",o.yc(1,m)))}function W(e,t){if(1&e&&(o.bc(0,"table",4),o.bc(1,"thead"),o.bc(2,"tr",8),o.Oc(3,L,3,1,"th",5),o.ac(),o.ac(),o.bc(4,"tbody"),o.Oc(5,R,2,2,"tr",5),o.Wb(6,"tr"),o.ac(),o.ac()),2&e){var n=o.nc();o.Ib(3),o.uc("ngForOf",n.views[2].dayHeaders),o.Ib(2),o.uc("ngForOf",o.yc(2,f))}}function Q(e,t){}var z=function(e,t,n){return{showEventDetail:e,selectedDate:t,noEventsLabel:n}},Y=["weekSlider"];function U(e,t){}var B=function(e){return{viewDate:e}};function q(e,t){if(1&e){var n=o.cc();o.bc(0,"th",7),o.jc("click",(function(){o.Hc(n);var e=t.$implicit;return o.nc().daySelected(e)})),o.Oc(1,U,0,0,"ng-template",8),o.ac()}if(2&e){var a=t.$implicit,i=o.nc();o.uc("ngClass",i.getHighlightClass(a)),o.Ib(1),o.uc("ngTemplateOutlet",i.weekviewHeaderTemplate)("ngTemplateOutletContext",o.zc(3,B,a))}}function G(e,t){}var X=function(e,t){return{day:e,eventTemplate:t}};function J(e,t){if(1&e&&(o.bc(0,"td",17),o.Oc(1,G,0,0,"ng-template",8),o.ac()),2&e){var n=t.$implicit,a=o.nc(2);o.Ib(1),o.uc("ngTemplateOutlet",a.weekviewAllDayEventSectionTemplate)("ngTemplateOutletContext",o.Ac(2,X,n,a.weekviewAllDayEventTemplate))}}function K(e,t){}var Z=function(e,t,n){return{tm:e,hourParts:t,eventTemplate:n}};function ee(e,t){if(1&e){var n=o.cc();o.bc(0,"td",20),o.jc("click",(function(){o.Hc(n);var e=t.$implicit;return o.nc(3).select(e.time,e.events)})),o.Oc(1,K,0,0,"ng-template",8),o.ac()}if(2&e){var a=t.$implicit,i=o.nc(3);o.Ib(1),o.uc("ngTemplateOutlet",i.weekviewNormalEventSectionTemplate)("ngTemplateOutletContext",o.Bc(2,Z,a,i.hourParts,i.weekviewNormalEventTemplate))}}function te(e,t){if(1&e&&(o.bc(0,"tr"),o.bc(1,"td",18),o.Qc(2),o.ac(),o.Oc(3,ee,2,6,"td",19),o.ac()),2&e){var n=t.$implicit,a=t.index,i=o.nc(2);o.Ib(2),o.Sc(" ",i.hourColumnLabels[a]," "),o.Ib(1),o.uc("ngForOf",n)}}function ne(e,t){if(1&e){var n=o.cc();o.bc(0,"div"),o.bc(1,"div",9),o.bc(2,"div",10),o.Qc(3),o.ac(),o.bc(4,"div",11),o.bc(5,"table",12),o.bc(6,"tbody"),o.bc(7,"tr"),o.Oc(8,J,2,5,"td",13),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(9,"init-position-scroll",14),o.jc("onScroll",(function(e){return o.Hc(n),o.nc().setScrollPosition(e)})),o.bc(10,"table",15),o.bc(11,"tbody"),o.Oc(12,te,4,2,"tr",16),o.ac(),o.ac(),o.ac(),o.ac()}if(2&e){var a=o.nc();o.Ib(3),o.Rc(a.allDayLabel),o.Ib(5),o.uc("ngForOf",a.views[0].dates),o.Ib(1),o.uc("initPosition",a.initScrollPosition)("emitEvent",a.preserveScrollPosition),o.Ib(3),o.uc("ngForOf",a.views[0].rows)}}function ae(e,t){}var ie=function(e){return{day:e}};function re(e,t){if(1&e&&(o.bc(0,"td",17),o.Oc(1,ae,0,0,"ng-template",8),o.ac()),2&e){var n=t.$implicit,a=o.nc(2);o.Ib(1),o.uc("ngTemplateOutlet",a.weekviewInactiveAllDayEventSectionTemplate)("ngTemplateOutletContext",o.zc(2,ie,n))}}function ce(e,t){}var oe=function(e,t){return{tm:e,hourParts:t}};function le(e,t){if(1&e&&(o.bc(0,"td",17),o.Oc(1,ce,0,0,"ng-template",8),o.ac()),2&e){var n=t.$implicit,a=o.nc(3);o.Ib(1),o.uc("ngTemplateOutlet",a.weekviewInactiveNormalEventSectionTemplate)("ngTemplateOutletContext",o.Ac(2,oe,n,a.hourParts))}}function se(e,t){if(1&e&&(o.bc(0,"tr"),o.bc(1,"td",18),o.Qc(2),o.ac(),o.Oc(3,le,2,5,"td",13),o.ac()),2&e){var n=t.$implicit,a=t.index,i=o.nc(2);o.Ib(2),o.Sc(" ",i.hourColumnLabels[a]," "),o.Ib(1),o.uc("ngForOf",n)}}function de(e,t){if(1&e&&(o.bc(0,"div"),o.bc(1,"div",9),o.bc(2,"div",10),o.Qc(3),o.ac(),o.bc(4,"div",11),o.bc(5,"table",12),o.bc(6,"tbody"),o.bc(7,"tr"),o.Oc(8,re,2,4,"td",13),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(9,"init-position-scroll",21),o.bc(10,"table",15),o.bc(11,"tbody"),o.Oc(12,se,4,2,"tr",16),o.ac(),o.ac(),o.ac(),o.ac()),2&e){var n=o.nc();o.Ib(3),o.Rc(n.allDayLabel),o.Ib(5),o.uc("ngForOf",n.views[0].dates),o.Ib(1),o.uc("initPosition",n.initScrollPosition),o.Ib(3),o.uc("ngForOf",n.views[0].rows)}}function ue(e,t){}function ve(e,t){if(1&e){var n=o.cc();o.bc(0,"th",7),o.jc("click",(function(){o.Hc(n);var e=t.$implicit;return o.nc().daySelected(e)})),o.Oc(1,ue,0,0,"ng-template",8),o.ac()}if(2&e){var a=t.$implicit,i=o.nc();o.uc("ngClass",i.getHighlightClass(a)),o.Ib(1),o.uc("ngTemplateOutlet",i.weekviewHeaderTemplate)("ngTemplateOutletContext",o.zc(3,B,a))}}function he(e,t){}function me(e,t){if(1&e&&(o.bc(0,"td",17),o.Oc(1,he,0,0,"ng-template",8),o.ac()),2&e){var n=t.$implicit,a=o.nc(2);o.Ib(1),o.uc("ngTemplateOutlet",a.weekviewAllDayEventSectionTemplate)("ngTemplateOutletContext",o.Ac(2,X,n,a.weekviewAllDayEventTemplate))}}function ge(e,t){}var fe=function(e){return{"calendar-event-wrap":e}};function be(e,t){if(1&e&&(o.bc(0,"div",23),o.Oc(1,ge,0,0,"ng-template",8),o.ac()),2&e){var n=o.nc().$implicit,a=o.nc(3);o.uc("ngClass",o.zc(3,fe,n.events)),o.Ib(1),o.uc("ngTemplateOutlet",a.weekviewNormalEventSectionTemplate)("ngTemplateOutletContext",o.Bc(5,Z,n,a.hourParts,a.weekviewNormalEventTemplate))}}function pe(e,t){if(1&e){var n=o.cc();o.bc(0,"td",20),o.jc("click",(function(){o.Hc(n);var e=t.$implicit;return o.nc(3).select(e.time,e.events)})),o.Oc(1,be,2,9,"div",22),o.ac()}if(2&e){var a=t.$implicit;o.Ib(1),o.uc("ngIf",a.events)}}function we(e,t){if(1&e&&(o.bc(0,"tr"),o.bc(1,"td",18),o.Qc(2),o.ac(),o.Oc(3,pe,2,1,"td",19),o.ac()),2&e){var n=t.$implicit,a=t.index,i=o.nc(2);o.Ib(2),o.Sc(" ",i.hourColumnLabels[a]," "),o.Ib(1),o.uc("ngForOf",n)}}function ye(e,t){if(1&e){var n=o.cc();o.bc(0,"div"),o.bc(1,"div",9),o.bc(2,"div",10),o.Qc(3),o.ac(),o.bc(4,"div",11),o.bc(5,"table",12),o.bc(6,"tbody"),o.bc(7,"tr"),o.Oc(8,me,2,5,"td",13),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(9,"init-position-scroll",14),o.jc("onScroll",(function(e){return o.Hc(n),o.nc().setScrollPosition(e)})),o.bc(10,"table",15),o.bc(11,"tbody"),o.Oc(12,we,4,2,"tr",16),o.ac(),o.ac(),o.ac(),o.ac()}if(2&e){var a=o.nc();o.Ib(3),o.Rc(a.allDayLabel),o.Ib(5),o.uc("ngForOf",a.views[1].dates),o.Ib(1),o.uc("initPosition",a.initScrollPosition)("emitEvent",a.preserveScrollPosition),o.Ib(3),o.uc("ngForOf",a.views[1].rows)}}function Te(e,t){}function Se(e,t){if(1&e&&(o.bc(0,"td",17),o.Oc(1,Te,0,0,"ng-template",8),o.ac()),2&e){var n=t.$implicit,a=o.nc(2);o.Ib(1),o.uc("ngTemplateOutlet",a.weekviewInactiveAllDayEventSectionTemplate)("ngTemplateOutletContext",o.zc(2,ie,n))}}function De(e,t){}function Ce(e,t){if(1&e&&(o.bc(0,"div",23),o.Oc(1,De,0,0,"ng-template",8),o.ac()),2&e){var n=o.nc().$implicit,a=o.nc(3);o.uc("ngClass",o.zc(3,fe,n.events)),o.Ib(1),o.uc("ngTemplateOutlet",a.weekviewInactiveNormalEventSectionTemplate)("ngTemplateOutletContext",o.Ac(5,oe,n,a.hourParts))}}function Oe(e,t){if(1&e&&(o.bc(0,"td",17),o.Oc(1,Ce,2,8,"div",22),o.ac()),2&e){var n=t.$implicit;o.Ib(1),o.uc("ngIf",n.events)}}function ke(e,t){if(1&e&&(o.bc(0,"tr"),o.bc(1,"td",18),o.Qc(2),o.ac(),o.Oc(3,Oe,2,1,"td",13),o.ac()),2&e){var n=t.$implicit,a=t.index,i=o.nc(2);o.Ib(2),o.Sc(" ",i.hourColumnLabels[a]," "),o.Ib(1),o.uc("ngForOf",n)}}function Ie(e,t){if(1&e&&(o.bc(0,"div"),o.bc(1,"div",9),o.bc(2,"div",10),o.Qc(3),o.ac(),o.bc(4,"div",11),o.bc(5,"table",12),o.bc(6,"tbody"),o.bc(7,"tr"),o.Oc(8,Se,2,4,"td",13),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(9,"init-position-scroll",21),o.bc(10,"table",15),o.bc(11,"tbody"),o.Oc(12,ke,4,2,"tr",16),o.ac(),o.ac(),o.ac(),o.ac()),2&e){var n=o.nc();o.Ib(3),o.Rc(n.allDayLabel),o.Ib(5),o.uc("ngForOf",n.views[1].dates),o.Ib(1),o.uc("initPosition",n.initScrollPosition),o.Ib(3),o.uc("ngForOf",n.views[1].rows)}}function Ee(e,t){}function Pe(e,t){if(1&e){var n=o.cc();o.bc(0,"th",7),o.jc("click",(function(){o.Hc(n);var e=t.$implicit;return o.nc().daySelected(e)})),o.Oc(1,Ee,0,0,"ng-template",8),o.ac()}if(2&e){var a=t.$implicit,i=o.nc();o.uc("ngClass",i.getHighlightClass(a)),o.Ib(1),o.uc("ngTemplateOutlet",i.weekviewHeaderTemplate)("ngTemplateOutletContext",o.zc(3,B,a))}}function xe(e,t){}function Me(e,t){if(1&e&&(o.bc(0,"td",17),o.Oc(1,xe,0,0,"ng-template",8),o.ac()),2&e){var n=t.$implicit,a=o.nc(2);o.Ib(1),o.uc("ngTemplateOutlet",a.weekviewAllDayEventSectionTemplate)("ngTemplateOutletContext",o.Ac(2,X,n,a.weekviewAllDayEventTemplate))}}function He(e,t){}function Fe(e,t){if(1&e&&(o.bc(0,"div",23),o.Oc(1,He,0,0,"ng-template",8),o.ac()),2&e){var n=o.nc().$implicit,a=o.nc(3);o.uc("ngClass",o.zc(3,fe,n.events)),o.Ib(1),o.uc("ngTemplateOutlet",a.weekviewNormalEventSectionTemplate)("ngTemplateOutletContext",o.Bc(5,Z,n,a.hourParts,a.weekviewNormalEventTemplate))}}function Ve(e,t){if(1&e){var n=o.cc();o.bc(0,"td",20),o.jc("click",(function(){o.Hc(n);var e=t.$implicit;return o.nc(3).select(e.time,e.events)})),o.Oc(1,Fe,2,9,"div",22),o.ac()}if(2&e){var a=t.$implicit;o.Ib(1),o.uc("ngIf",a.events)}}function _e(e,t){if(1&e&&(o.bc(0,"tr"),o.bc(1,"td",18),o.Qc(2),o.ac(),o.Oc(3,Ve,2,1,"td",19),o.ac()),2&e){var n=t.$implicit,a=t.index,i=o.nc(2);o.Ib(2),o.Sc(" ",i.hourColumnLabels[a]," "),o.Ib(1),o.uc("ngForOf",n)}}function Ae(e,t){if(1&e){var n=o.cc();o.bc(0,"div"),o.bc(1,"div",9),o.bc(2,"div",10),o.Qc(3),o.ac(),o.bc(4,"div",11),o.bc(5,"table",12),o.bc(6,"tbody"),o.bc(7,"tr"),o.Oc(8,Me,2,5,"td",13),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(9,"init-position-scroll",14),o.jc("onScroll",(function(e){return o.Hc(n),o.nc().setScrollPosition(e)})),o.bc(10,"table",15),o.bc(11,"tbody"),o.Oc(12,_e,4,2,"tr",16),o.ac(),o.ac(),o.ac(),o.ac()}if(2&e){var a=o.nc();o.Ib(3),o.Rc(a.allDayLabel),o.Ib(5),o.uc("ngForOf",a.views[2].dates),o.Ib(1),o.uc("initPosition",a.initScrollPosition)("emitEvent",a.preserveScrollPosition),o.Ib(3),o.uc("ngForOf",a.views[2].rows)}}function Ne(e,t){}function Le(e,t){if(1&e&&(o.bc(0,"td",17),o.Oc(1,Ne,0,0,"ng-template",8),o.ac()),2&e){var n=t.$implicit,a=o.nc(2);o.Ib(1),o.uc("ngTemplateOutlet",a.weekviewInactiveAllDayEventSectionTemplate)("ngTemplateOutletContext",o.zc(2,ie,n))}}function $e(e,t){}function je(e,t){if(1&e&&(o.bc(0,"div",23),o.Oc(1,$e,0,0,"ng-template",8),o.ac()),2&e){var n=o.nc().$implicit,a=o.nc(3);o.uc("ngClass",o.zc(3,fe,n.events)),o.Ib(1),o.uc("ngTemplateOutlet",a.weekviewInactiveNormalEventSectionTemplate)("ngTemplateOutletContext",o.Ac(5,oe,n,a.hourParts))}}function Re(e,t){if(1&e&&(o.bc(0,"td",17),o.Oc(1,je,2,8,"div",22),o.ac()),2&e){var n=t.$implicit;o.Ib(1),o.uc("ngIf",n.events)}}function We(e,t){if(1&e&&(o.bc(0,"tr"),o.bc(1,"td",18),o.Qc(2),o.ac(),o.Oc(3,Re,2,1,"td",13),o.ac()),2&e){var n=t.$implicit,a=t.index,i=o.nc(2);o.Ib(2),o.Sc(" ",i.hourColumnLabels[a]," "),o.Ib(1),o.uc("ngForOf",n)}}function Qe(e,t){if(1&e&&(o.bc(0,"div"),o.bc(1,"div",9),o.bc(2,"div",10),o.Qc(3),o.ac(),o.bc(4,"div",11),o.bc(5,"table",12),o.bc(6,"tbody"),o.bc(7,"tr"),o.Oc(8,Le,2,4,"td",13),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(9,"init-position-scroll",21),o.bc(10,"table",15),o.bc(11,"tbody"),o.Oc(12,We,4,2,"tr",16),o.ac(),o.ac(),o.ac(),o.ac()),2&e){var n=o.nc();o.Ib(3),o.Rc(n.allDayLabel),o.Ib(5),o.uc("ngForOf",n.views[2].dates),o.Ib(1),o.uc("initPosition",n.initScrollPosition),o.Ib(3),o.uc("ngForOf",n.views[2].rows)}}var ze=["daySlider"];function Ye(e,t){}var Ue=function(e){return{height:e}},Be=function(e,t){return{allDayEvents:e,eventTemplate:t}};function qe(e,t){if(1&e&&(o.bc(0,"td",11),o.Oc(1,Ye,0,0,"ng-template",12),o.ac()),2&e){var n=o.nc();o.uc("ngClass",o.zc(4,fe,n.views[0].allDayEvents.length>0))("ngStyle",o.zc(6,Ue,25*n.views[0].allDayEvents.length+"px")),o.Ib(1),o.uc("ngTemplateOutlet",n.dayviewAllDayEventSectionTemplate)("ngTemplateOutletContext",o.Ac(8,Be,n.views[0].allDayEvents,n.dayviewAllDayEventTemplate))}}function Ge(e,t){}var Xe=function(e){return{allDayEvents:e}};function Je(e,t){if(1&e&&(o.bc(0,"td",13),o.Oc(1,Ge,0,0,"ng-template",12),o.ac()),2&e){var n=o.nc();o.Ib(1),o.uc("ngTemplateOutlet",n.dayviewInactiveAllDayEventSectionTemplate)("ngTemplateOutletContext",o.zc(2,Xe,n.views[0].allDayEvents))}}function Ke(e,t){}function Ze(e,t){if(1&e){var n=o.cc();o.bc(0,"tr"),o.bc(1,"td",17),o.Qc(2),o.ac(),o.bc(3,"td",18),o.jc("click",(function(){o.Hc(n);var e=t.$implicit;return o.nc(2).select(e.time,e.events)})),o.Oc(4,Ke,0,0,"ng-template",12),o.ac(),o.ac()}if(2&e){var a=t.$implicit,i=t.index,r=o.nc(2);o.Ib(2),o.Sc(" ",r.hourColumnLabels[i]," "),o.Ib(2),o.uc("ngTemplateOutlet",r.dayviewNormalEventSectionTemplate)("ngTemplateOutletContext",o.Bc(3,Z,a,r.hourParts,r.dayviewNormalEventTemplate))}}function et(e,t){if(1&e){var n=o.cc();o.bc(0,"init-position-scroll",14),o.jc("onScroll",(function(e){return o.Hc(n),o.nc().setScrollPosition(e)})),o.bc(1,"table",15),o.bc(2,"tbody"),o.Oc(3,Ze,5,7,"tr",16),o.ac(),o.ac(),o.ac()}if(2&e){var a=o.nc();o.uc("initPosition",a.initScrollPosition)("emitEvent",a.preserveScrollPosition),o.Ib(3),o.uc("ngForOf",a.views[0].rows)}}function tt(e,t){}function nt(e,t){if(1&e&&(o.bc(0,"tr"),o.bc(1,"td",17),o.Qc(2),o.ac(),o.bc(3,"td",13),o.Oc(4,tt,0,0,"ng-template",12),o.ac(),o.ac()),2&e){var n=t.$implicit,a=t.index,i=o.nc(2);o.Ib(2),o.Sc(" ",i.hourColumnLabels[a]," "),o.Ib(2),o.uc("ngTemplateOutlet",i.dayviewInactiveNormalEventSectionTemplate)("ngTemplateOutletContext",o.Ac(3,oe,n,i.hourParts))}}function at(e,t){if(1&e&&(o.bc(0,"init-position-scroll",19),o.bc(1,"table",15),o.bc(2,"tbody"),o.Oc(3,nt,5,6,"tr",16),o.ac(),o.ac(),o.ac()),2&e){var n=o.nc();o.uc("initPosition",n.initScrollPosition),o.Ib(3),o.uc("ngForOf",n.views[0].rows)}}function it(e,t){}function rt(e,t){if(1&e&&(o.bc(0,"td",11),o.Oc(1,it,0,0,"ng-template",12),o.ac()),2&e){var n=o.nc();o.uc("ngClass",o.zc(4,fe,n.views[1].allDayEvents.length>0))("ngStyle",o.zc(6,Ue,25*n.views[1].allDayEvents.length+"px")),o.Ib(1),o.uc("ngTemplateOutlet",n.dayviewAllDayEventSectionTemplate)("ngTemplateOutletContext",o.Ac(8,Be,n.views[1].allDayEvents,n.dayviewAllDayEventTemplate))}}function ct(e,t){}function ot(e,t){if(1&e&&(o.bc(0,"td",13),o.Oc(1,ct,0,0,"ng-template",12),o.ac()),2&e){var n=o.nc();o.Ib(1),o.uc("ngTemplateOutlet",n.dayviewInactiveAllDayEventSectionTemplate)("ngTemplateOutletContext",o.zc(2,Xe,n.views[1].allDayEvents))}}function lt(e,t){}function st(e,t){if(1&e){var n=o.cc();o.bc(0,"tr"),o.bc(1,"td",17),o.Qc(2),o.ac(),o.bc(3,"td",18),o.jc("click",(function(){o.Hc(n);var e=t.$implicit;return o.nc(2).select(e.time,e.events)})),o.Oc(4,lt,0,0,"ng-template",12),o.ac(),o.ac()}if(2&e){var a=t.$implicit,i=t.index,r=o.nc(2);o.Ib(2),o.Sc(" ",r.hourColumnLabels[i]," "),o.Ib(2),o.uc("ngTemplateOutlet",r.dayviewNormalEventSectionTemplate)("ngTemplateOutletContext",o.Bc(3,Z,a,r.hourParts,r.dayviewNormalEventTemplate))}}function dt(e,t){if(1&e){var n=o.cc();o.bc(0,"init-position-scroll",14),o.jc("onScroll",(function(e){return o.Hc(n),o.nc().setScrollPosition(e)})),o.bc(1,"table",15),o.bc(2,"tbody"),o.Oc(3,st,5,7,"tr",16),o.ac(),o.ac(),o.ac()}if(2&e){var a=o.nc();o.uc("initPosition",a.initScrollPosition)("emitEvent",a.preserveScrollPosition),o.Ib(3),o.uc("ngForOf",a.views[1].rows)}}function ut(e,t){}function vt(e,t){if(1&e&&(o.bc(0,"tr"),o.bc(1,"td",17),o.Qc(2),o.ac(),o.bc(3,"td",13),o.Oc(4,ut,0,0,"ng-template",12),o.ac(),o.ac()),2&e){var n=t.$implicit,a=t.index,i=o.nc(2);o.Ib(2),o.Sc(" ",i.hourColumnLabels[a]," "),o.Ib(2),o.uc("ngTemplateOutlet",i.dayviewInactiveNormalEventSectionTemplate)("ngTemplateOutletContext",o.Ac(3,oe,n,i.hourParts))}}function ht(e,t){if(1&e&&(o.bc(0,"init-position-scroll",19),o.bc(1,"table",15),o.bc(2,"tbody"),o.Oc(3,vt,5,6,"tr",16),o.ac(),o.ac(),o.ac()),2&e){var n=o.nc();o.uc("initPosition",n.initScrollPosition),o.Ib(3),o.uc("ngForOf",n.views[1].rows)}}function mt(e,t){}function gt(e,t){if(1&e&&(o.bc(0,"td",11),o.Oc(1,mt,0,0,"ng-template",12),o.ac()),2&e){var n=o.nc();o.uc("ngClass",o.zc(4,fe,n.views[2].allDayEvents.length>0))("ngStyle",o.zc(6,Ue,25*n.views[2].allDayEvents.length+"px")),o.Ib(1),o.uc("ngTemplateOutlet",n.dayviewAllDayEventSectionTemplate)("ngTemplateOutletContext",o.Ac(8,Be,n.views[2].allDayEvents,n.dayviewAllDayEventTemplate))}}function ft(e,t){}function bt(e,t){if(1&e&&(o.bc(0,"td",13),o.Oc(1,ft,0,0,"ng-template",12),o.ac()),2&e){var n=o.nc();o.Ib(1),o.uc("ngTemplateOutlet",n.dayviewInactiveAllDayEventSectionTemplate)("ngTemplateOutletContext",o.zc(2,Xe,n.views[2].allDayEvents))}}function pt(e,t){}function wt(e,t){if(1&e){var n=o.cc();o.bc(0,"tr"),o.bc(1,"td",17),o.Qc(2),o.ac(),o.bc(3,"td",18),o.jc("click",(function(){o.Hc(n);var e=t.$implicit;return o.nc(2).select(e.time,e.events)})),o.Oc(4,pt,0,0,"ng-template",12),o.ac(),o.ac()}if(2&e){var a=t.$implicit,i=t.index,r=o.nc(2);o.Ib(2),o.Sc(" ",r.hourColumnLabels[i]," "),o.Ib(2),o.uc("ngTemplateOutlet",r.dayviewNormalEventSectionTemplate)("ngTemplateOutletContext",o.Bc(3,Z,a,r.hourParts,r.dayviewNormalEventTemplate))}}function yt(e,t){if(1&e){var n=o.cc();o.bc(0,"init-position-scroll",14),o.jc("onScroll",(function(e){return o.Hc(n),o.nc().setScrollPosition(e)})),o.bc(1,"table",15),o.bc(2,"tbody"),o.Oc(3,wt,5,7,"tr",16),o.ac(),o.ac(),o.ac()}if(2&e){var a=o.nc();o.uc("initPosition",a.initScrollPosition)("emitEvent",a.preserveScrollPosition),o.Ib(3),o.uc("ngForOf",a.views[2].rows)}}function Tt(e,t){}function St(e,t){if(1&e&&(o.bc(0,"tr"),o.bc(1,"td",17),o.Qc(2),o.ac(),o.bc(3,"td",13),o.Oc(4,Tt,0,0,"ng-template",12),o.ac(),o.ac()),2&e){var n=t.$implicit,a=t.index,i=o.nc(2);o.Ib(2),o.Sc(" ",i.hourColumnLabels[a]," "),o.Ib(2),o.uc("ngTemplateOutlet",i.dayviewInactiveNormalEventSectionTemplate)("ngTemplateOutletContext",o.Ac(3,oe,n,i.hourParts))}}function Dt(e,t){if(1&e&&(o.bc(0,"init-position-scroll",19),o.bc(1,"table",15),o.bc(2,"tbody"),o.Oc(3,St,5,6,"tr",16),o.ac(),o.ac(),o.ac()),2&e){var n=o.nc();o.uc("initPosition",n.initScrollPosition),o.Ib(3),o.uc("ngForOf",n.views[2].rows)}}function Ct(e,t){1&e&&o.Qc(0),2&e&&o.Sc(" ",t.view.dates[7*t.row+t.col].label," ")}function Ot(e,t){if(1&e&&(o.bc(0,"span",21),o.Qc(1),o.oc(2,"date"),o.oc(3,"date"),o.ac()),2&e){var n=o.nc().$implicit;o.Ib(1),o.Tc("",o.qc(2,2,n.startTime,"HH:mm")," - ",o.qc(3,5,n.endTime,"HH:mm")," ")}}function kt(e,t){if(1&e&&(o.bc(0,"span",21),o.Qc(1),o.ac()),2&e){var n=o.nc(4);o.Ib(1),o.Rc(n.allDayLabel)}}function It(e,t){if(1&e){var n=o.cc();o.bc(0,"ion-item",18),o.jc("click",(function(){o.Hc(n);var e=t.$implicit;return o.nc(3).eventSelected(e)})),o.Oc(1,Ot,4,8,"span",19),o.Oc(2,kt,2,1,"span",19),o.bc(3,"span",20),o.Qc(4),o.ac(),o.ac()}if(2&e){var a=t.$implicit;o.Ib(1),o.uc("ngIf",!a.allDay),o.Ib(1),o.uc("ngIf",a.allDay),o.Ib(2),o.Sc(" | ",a.title,"")}}function Et(e,t){if(1&e&&(o.bc(0,"ion-item"),o.bc(1,"div",22),o.Qc(2),o.ac(),o.ac()),2&e){var n=o.nc(2).noEventsLabel;o.Ib(2),o.Rc(n)}}function Pt(e,t){if(1&e&&(o.bc(0,"ion-list",15),o.Oc(1,It,5,3,"ion-item",16),o.Oc(2,Et,3,1,"ion-item",17),o.ac()),2&e){var n=o.nc().selectedDate;o.Ib(1),o.uc("ngForOf",null==n?null:n.events),o.Ib(1),o.uc("ngIf",0==(null==n?null:n.events.length))}}function xt(e,t){1&e&&o.Oc(0,Pt,3,2,"ion-list",14),2&e&&o.uc("ngIf",t.showEventDetail)}function Mt(e,t){1&e&&o.Qc(0),2&e&&o.Sc(" ",t.viewDate.dayHeader," ")}function Ht(e,t){if(1&e&&(o.bc(0,"div",23),o.Qc(1),o.ac()),2&e){var n=t.displayEvent;o.Ib(1),o.Rc(n.event.title)}}function Ft(e,t){if(1&e&&(o.bc(0,"div",23),o.Qc(1),o.ac()),2&e){var n=t.displayEvent;o.Ib(1),o.Rc(n.event.title)}}function Vt(e,t){}var _t=function(e,t){return{top:e,width:t,height:"25px"}},At=function(e){return{displayEvent:e}};function Nt(e,t){if(1&e){var n=o.cc();o.bc(0,"div",27),o.jc("click",(function(){o.Hc(n);var e=t.$implicit;return o.nc(3).eventSelected(e.event)})),o.Oc(1,Vt,0,0,"ng-template",28),o.ac()}if(2&e){var a=t.$implicit,i=o.nc(2).eventTemplate;o.uc("ngStyle",o.Ac(3,_t,25*a.position+"px",100*(a.endIndex-a.startIndex)+"%")),o.Ib(1),o.uc("ngTemplateOutlet",i)("ngTemplateOutletContext",o.zc(6,At,a))}}function Lt(e,t){if(1&e&&(o.bc(0,"div",25),o.Oc(1,Nt,2,8,"div",26),o.ac()),2&e){var n=o.nc().day;o.uc("ngClass",o.zc(3,fe,n.events))("ngStyle",o.zc(5,Ue,25*n.events.length+"px")),o.Ib(1),o.uc("ngForOf",n.events)}}function $t(e,t){1&e&&o.Oc(0,Lt,2,7,"div",24),2&e&&o.uc("ngIf",t.day.events)}function jt(e,t){}var Rt=function(e){return{top:e,width:"100%",height:"25px"}};function Wt(e,t){if(1&e){var n=o.cc();o.bc(0,"div",27),o.jc("click",(function(){o.Hc(n);var e=t.$implicit;return o.nc(2).eventSelected(e.event)})),o.Oc(1,jt,0,0,"ng-template",28),o.ac()}if(2&e){var a=t.$implicit,i=t.index,r=o.nc().eventTemplate;o.uc("ngStyle",o.zc(3,Rt,25*i+"px")),o.Ib(1),o.uc("ngTemplateOutlet",r)("ngTemplateOutletContext",o.zc(5,At,a))}}function Qt(e,t){1&e&&o.Oc(0,Wt,2,7,"div",26),2&e&&o.uc("ngForOf",t.allDayEvents)}function zt(e,t){}var Yt=function(e,t,n,a){return{top:e,left:t,width:n,height:a}};function Ut(e,t){if(1&e){var n=o.cc();o.bc(0,"div",27),o.jc("click",(function(){o.Hc(n);var e=t.$implicit;return o.nc(3).eventSelected(e.event)})),o.Oc(1,zt,0,0,"ng-template",28),o.ac()}if(2&e){var a=t.$implicit,i=o.nc(2),r=i.hourParts,c=i.eventTemplate;o.uc("ngStyle",o.Cc(3,Yt,37*a.startOffset/r+"px",100/a.overlapNumber*a.position+"%",100/a.overlapNumber+"%",37*(a.endIndex-a.startIndex-(a.endOffset+a.startOffset)/r)+"px")),o.Ib(1),o.uc("ngTemplateOutlet",c)("ngTemplateOutletContext",o.zc(8,At,a))}}function Bt(e,t){if(1&e&&(o.bc(0,"div",30),o.Oc(1,Ut,2,10,"div",26),o.ac()),2&e){var n=o.nc().tm;o.uc("ngClass",o.zc(2,fe,n.events)),o.Ib(1),o.uc("ngForOf",n.events)}}function qt(e,t){1&e&&o.Oc(0,Bt,2,4,"div",29),2&e&&o.uc("ngIf",t.tm.events)}function Gt(e,t){}function Xt(e,t){}function Jt(e,t){if(1&e){var n=o.cc();o.bc(0,"monthview",31),o.jc("onRangeChanged",(function(e){return o.Hc(n),o.nc().rangeChanged(e)}))("onEventSelected",(function(e){return o.Hc(n),o.nc().eventSelected(e)}))("onTimeSelected",(function(e){return o.Hc(n),o.nc().timeSelected(e)}))("onTitleChanged",(function(e){return o.Hc(n),o.nc().titleChanged(e)})),o.ac()}if(2&e){var a=o.nc(),i=o.Ec(1),r=o.Ec(3);o.uc("formatDay",a.formatDay)("formatDayHeader",a.formatDayHeader)("formatMonthTitle",a.formatMonthTitle)("startingDayMonth",a.startingDayMonth)("showEventDetail",a.showEventDetail)("noEventsLabel",a.noEventsLabel)("autoSelect",a.autoSelect)("eventSource",a.eventSource)("markDisabled",a.markDisabled)("monthviewDisplayEventTemplate",a.monthviewDisplayEventTemplate||i)("monthviewInactiveDisplayEventTemplate",a.monthviewInactiveDisplayEventTemplate||i)("monthviewEventDetailTemplate",a.monthviewEventDetailTemplate||r)("locale",a.locale)("dateFormatter",a.dateFormatter)("dir",a.dir)("lockSwipeToPrev",a.lockSwipeToPrev)("lockSwipes",a.lockSwipes)("sliderOptions",a.sliderOptions)}}function Kt(e,t){if(1&e){var n=o.cc();o.bc(0,"weekview",32),o.jc("onRangeChanged",(function(e){return o.Hc(n),o.nc().rangeChanged(e)}))("onEventSelected",(function(e){return o.Hc(n),o.nc().eventSelected(e)}))("onTimeSelected",(function(e){return o.Hc(n),o.nc().timeSelected(e)}))("onTitleChanged",(function(e){return o.Hc(n),o.nc().titleChanged(e)})),o.ac()}if(2&e){var a=o.nc(),i=o.Ec(5),r=o.Ec(7),c=o.Ec(9),l=o.Ec(11),s=o.Ec(15),d=o.Ec(17),u=o.Ec(19);o.uc("formatWeekTitle",a.formatWeekTitle)("formatWeekViewDayHeader",a.formatWeekViewDayHeader)("formatHourColumn",a.formatHourColumn)("startingDayWeek",a.startingDayWeek)("allDayLabel",a.allDayLabel)("hourParts",a.hourParts)("autoSelect",a.autoSelect)("hourSegments",a.hourSegments)("eventSource",a.eventSource)("markDisabled",a.markDisabled)("weekviewHeaderTemplate",a.weekviewHeaderTemplate||i)("weekviewAllDayEventTemplate",a.weekviewAllDayEventTemplate||r)("weekviewNormalEventTemplate",a.weekviewNormalEventTemplate||c)("weekviewAllDayEventSectionTemplate",a.weekviewAllDayEventSectionTemplate||l)("weekviewNormalEventSectionTemplate",a.weekviewNormalEventSectionTemplate||s)("weekviewInactiveAllDayEventSectionTemplate",a.weekviewInactiveAllDayEventSectionTemplate||d)("weekviewInactiveNormalEventSectionTemplate",a.weekviewInactiveNormalEventSectionTemplate||u)("locale",a.locale)("dateFormatter",a.dateFormatter)("dir",a.dir)("scrollToHour",a.scrollToHour)("preserveScrollPosition",a.preserveScrollPosition)("lockSwipeToPrev",a.lockSwipeToPrev)("lockSwipes",a.lockSwipes)("startHour",a.startHour)("endHour",a.endHour)("sliderOptions",a.sliderOptions)}}function Zt(e,t){if(1&e){var n=o.cc();o.bc(0,"dayview",33),o.jc("onRangeChanged",(function(e){return o.Hc(n),o.nc().rangeChanged(e)}))("onEventSelected",(function(e){return o.Hc(n),o.nc().eventSelected(e)}))("onTimeSelected",(function(e){return o.Hc(n),o.nc().timeSelected(e)}))("onTitleChanged",(function(e){return o.Hc(n),o.nc().titleChanged(e)})),o.ac()}if(2&e){var a=o.nc(),i=o.Ec(7),r=o.Ec(9),c=o.Ec(13),l=o.Ec(15),s=o.Ec(17),d=o.Ec(19);o.uc("formatDayTitle",a.formatDayTitle)("formatHourColumn",a.formatHourColumn)("allDayLabel",a.allDayLabel)("hourParts",a.hourParts)("hourSegments",a.hourSegments)("eventSource",a.eventSource)("markDisabled",a.markDisabled)("dayviewAllDayEventTemplate",a.dayviewAllDayEventTemplate||i)("dayviewNormalEventTemplate",a.dayviewNormalEventTemplate||r)("dayviewAllDayEventSectionTemplate",a.dayviewAllDayEventSectionTemplate||c)("dayviewNormalEventSectionTemplate",a.dayviewNormalEventSectionTemplate||l)("dayviewInactiveAllDayEventSectionTemplate",a.dayviewInactiveAllDayEventSectionTemplate||s)("dayviewInactiveNormalEventSectionTemplate",a.dayviewInactiveNormalEventSectionTemplate||d)("locale",a.locale)("dateFormatter",a.dateFormatter)("dir",a.dir)("scrollToHour",a.scrollToHour)("preserveScrollPosition",a.preserveScrollPosition)("lockSwipeToPrev",a.lockSwipeToPrev)("lockSwipes",a.lockSwipes)("startHour",a.startHour)("endHour",a.endHour)("sliderOptions",a.sliderOptions)}}var en,tn,nn,an,rn,cn,on,ln,sn,dn,un,vn,hn,mn=["*"],gn=((en=function(){function e(){_classCallCheck(this,e),this.currentDateChangedFromParent=new l.a,this.currentDateChangedFromChildren=new l.a,this.eventSourceChanged=new l.a,this.slideChanged=new l.a,this.currentDateChangedFromParent$=this.currentDateChangedFromParent.asObservable(),this.currentDateChangedFromChildren$=this.currentDateChangedFromChildren.asObservable(),this.eventSourceChanged$=this.eventSourceChanged.asObservable(),this.slideChanged$=this.slideChanged.asObservable()}return _createClass(e,[{key:"setCurrentDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._currentDate=new Date(e),t?this.currentDateChangedFromParent.next(e):this.currentDateChangedFromChildren.next(e)}},{key:"rangeChanged",value:function(e){if("local"===this.queryMode)e.eventSource&&e.onDataLoaded&&e.onDataLoaded();else if("remote"===this.queryMode){var t=new Date(e.range.startTime.getTime()),n=new Date(e.range.endTime.getTime());t.setHours(0),23===t.getHours()&&t.setTime(t.getTime()+36e5),n.setHours(0),23===n.getHours()&&n.setTime(n.getTime()+36e5),e.onRangeChanged.emit({startTime:t,endTime:n})}}},{key:"getStep",value:function(e){switch(e){case"month":return{years:0,months:1,days:0};case"week":return{years:0,months:0,days:7};case"day":return{years:0,months:0,days:1}}}},{key:"getAdjacentCalendarDate",value:function(e,t){var n=this.currentDate,a=this.getStep(e),i=n.getFullYear()+t*a.years,r=n.getMonth()+t*a.months,c=n.getDate()+t*a.days;if(n=new Date(i,r,c,12,0,0),"month"===e){var o=new Date(i,r+1,1,12,0,0);o.getTime()<=n.getTime()&&(n=new Date(o.getTime()-864e5))}return n}},{key:"getAdjacentViewStartTime",value:function(e,t){var n=this.getAdjacentCalendarDate(e.mode,t);return e.getRange(n).startTime}},{key:"populateAdjacentViews",value:function(e){var t,n,a,i=e.currentViewIndex;1===e.direction?(t=this.getAdjacentViewStartTime(e,1),a=(i+1)%3,e.views[a]=e.getViewData(t)):-1===e.direction?(t=this.getAdjacentViewStartTime(e,-1),a=(i+2)%3,e.views[a]=e.getViewData(t)):e.views?(t=e.range.startTime,e.views[i]=e.getViewData(t),t=this.getAdjacentViewStartTime(e,-1),a=(i+2)%3,e.views[a]=e.getViewData(t),t=this.getAdjacentViewStartTime(e,1),a=(i+1)%3,e.views[a]=e.getViewData(t)):(n=[],t=e.range.startTime,n.push(e.getViewData(t)),t=this.getAdjacentViewStartTime(e,1),n.push(e.getViewData(t)),t=this.getAdjacentViewStartTime(e,-1),n.push(e.getViewData(t)),e.views=n)}},{key:"loadEvents",value:function(){this.eventSourceChanged.next()}},{key:"slide",value:function(e){this.slideChanged.next(e)}},{key:"currentDate",get:function(){return this._currentDate}}]),e}()).\u0275fac=function(e){return new(e||en)},en.\u0275prov=o.Rb({token:en,factory:en.\u0275fac}),en),fn=((nn=tn=function(){function e(t){_classCallCheck(this,e),this.calendarService=t,this.autoSelect=!0,this.dir="",this.onRangeChanged=new o.p,this.onEventSelected=new o.p,this.onTimeSelected=new o.p(!0),this.onTitleChanged=new o.p(!0),this.views=[],this.currentViewIndex=0,this.mode="month",this.direction=0,this.moveOnSelected=!1,this.inited=!1,this.callbackOnInit=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;if(this.sliderOptions||(this.sliderOptions={}),this.sliderOptions.loop=!0,this.dateFormatter&&this.dateFormatter.formatMonthViewDay)this.formatDayLabel=this.dateFormatter.formatMonthViewDay;else{var t=new a.f("en-US");this.formatDayLabel=function(e){return t.transform(e,this.formatDay)}}if(this.dateFormatter&&this.dateFormatter.formatMonthViewDayHeader)this.formatDayHeaderLabel=this.dateFormatter.formatMonthViewDayHeader;else{var n=new a.f(this.locale);this.formatDayHeaderLabel=function(e){return n.transform(e,this.formatDayHeader)}}if(this.dateFormatter&&this.dateFormatter.formatMonthViewTitle)this.formatTitle=this.dateFormatter.formatMonthViewTitle;else{var i=new a.f(this.locale);this.formatTitle=function(e){return i.transform(e,this.formatMonthTitle)}}this.lockSwipeToPrev&&this.slider.lockSwipeToPrev(!0),this.lockSwipes&&this.slider.lockSwipes(!0),this.refreshView(),this.inited=!0,this.currentDateChangedFromParentSubscription=this.calendarService.currentDateChangedFromParent$.subscribe((function(t){e.refreshView()})),this.eventSourceChangedSubscription=this.calendarService.eventSourceChanged$.subscribe((function(){e.onDataLoaded()})),this.slideChangedSubscription=this.calendarService.slideChanged$.subscribe((function(t){1===t?e.slider.slideNext():-1===t&&e.slider.slidePrev()}))}},{key:"ngOnDestroy",value:function(){this.currentDateChangedFromParentSubscription&&(this.currentDateChangedFromParentSubscription.unsubscribe(),this.currentDateChangedFromParentSubscription=null),this.eventSourceChangedSubscription&&(this.eventSourceChangedSubscription.unsubscribe(),this.eventSourceChangedSubscription=null),this.slideChangedSubscription&&(this.slideChangedSubscription.unsubscribe(),this.slideChangedSubscription=null)}},{key:"ngOnChanges",value:function(e){if(this.inited){var t=e.eventSource;t&&t.currentValue&&this.onDataLoaded();var n=e.lockSwipeToPrev;n&&this.slider.lockSwipeToPrev(n.currentValue);var a=e.lockSwipes;a&&this.slider.lockSwipes(a.currentValue)}}},{key:"ngAfterViewInit",value:function(){var e=this.getTitle();this.onTitleChanged.emit(e)}},{key:"onSlideChanged",value:function(){var e=this;if(this.callbackOnInit)this.callbackOnInit=!1;else{var t=0,n=this.currentViewIndex;this.slider.getActiveIndex().then((function(a){a=(a+2)%3,isNaN(a)&&(a=n),a-n==1?t=1:0===a&&2===n?(t=1,e.slider.slideTo(1,0,!1)):n-a==1?t=-1:2===a&&0===n&&(t=-1,e.slider.slideTo(3,0,!1)),e.currentViewIndex=a,e.move(t)}))}}},{key:"move",value:function(e){if(0!==e){if(this.direction=e,!this.moveOnSelected){var t=this.calendarService.getAdjacentCalendarDate(this.mode,e);this.calendarService.setCurrentDate(t)}this.refreshView(),this.direction=0,this.moveOnSelected=!1}}},{key:"createDateObject",value:function(e){var t=!1;return this.markDisabled&&(t=this.markDisabled(e)),{date:e,events:[],label:this.formatDayLabel(e),secondary:!1,disabled:t}}},{key:"getViewData",value:function(e){for(var t=e,n=t.getDate(),a=(t.getMonth()+(1!==n?1:0))%12,i=tn.getDates(t,42),r=[],c=0;c<42;c++){var o=this.createDateObject(i[c]);o.secondary=i[c].getMonth()!==a,r[c]=o}for(var l=[],s=0;s<7;s++)l.push(this.formatDayHeaderLabel(r[s].date));return{dates:r,dayHeaders:l}}},{key:"getHighlightClass",value:function(e){var t="";return e.hasEvent&&(t=e.secondary?"monthview-secondary-with-event":"monthview-primary-with-event"),e.selected&&(t&&(t+=" "),t+="monthview-selected"),e.current&&(t&&(t+=" "),t+="monthview-current"),e.secondary&&(t&&(t+=" "),t+="text-muted"),e.disabled&&(t&&(t+=" "),t+="monthview-disabled"),t}},{key:"getRange",value:function(e){var t=e.getFullYear(),n=e.getMonth(),a=new Date(t,n,1,12,0,0),i=this.startingDayMonth-a.getDay(),r=i>0?7-i:-i,c=new Date(a.getTime());r>0&&c.setDate(1-r);var o=new Date(c.getTime());return o.setDate(o.getDate()+42),{startTime:c,endTime:o}}},{key:"onDataLoaded",value:function(){for(var e=this.range,t=this.eventSource,n=t?t.length:0,a=e.startTime,i=e.endTime,r=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),c=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),o=this.views[this.currentViewIndex].dates,l=0;l<42;l+=1)o[l].hasEvent&&(o[l].hasEvent=!1,o[l].events=[]);for(var s=0;s<n;s+=1){var d,u,v=t[s],h=v.startTime,m=v.endTime,g=void 0,f=void 0;if(v.allDay?(g=h.getTime(),f=m.getTime()):(g=Date.UTC(h.getFullYear(),h.getMonth(),h.getDate()),f=Date.UTC(m.getFullYear(),m.getMonth(),m.getDate()+1)),!(f<=r||g>=c)){d=g<r?0:(g-r)/864e5,u=f>c?(c-r)/864e5:(f-r)/864e5;for(var b=Math.floor(d),p=Math.ceil(u-6e-4);b<p;){o[b].hasEvent=!0;var w=o[b].events;w?w.push(v):((w=[]).push(v),o[b].events=w),b+=1}}}for(var y=0;y<42;y+=1)o[y].hasEvent&&o[y].events.sort(this.compareEvent);if(this.autoSelect){for(var T=!1,S=0;S<42;S+=1)if(o[S].selected){this.selectedDate=o[S],T=!0;break}T&&this.onTimeSelected.emit({selectedTime:this.selectedDate.date,events:this.selectedDate.events,disabled:this.selectedDate.disabled})}}},{key:"refreshView",value:function(){if(this.range=this.getRange(this.calendarService.currentDate),this.inited){var e=this.getTitle();this.onTitleChanged.emit(e)}this.calendarService.populateAdjacentViews(this),this.updateCurrentView(this.range.startTime,this.views[this.currentViewIndex]),this.calendarService.rangeChanged(this)}},{key:"getTitle",value:function(){var e=this.range.startTime,t=e.getDate(),n=(e.getMonth()+(1!==t?1:0))%12,a=e.getFullYear()+(1!==t&&0===n?1:0),i=new Date(a,n,1,12,0,0,0);return this.formatTitle(i)}},{key:"compareEvent",value:function(e,t){return e.allDay?1:t.allDay?-1:e.startTime.getTime()-t.startTime.getTime()}},{key:"select",value:function(e){if(this.views){var t=e.date,n=e.events;if(!e.disabled){var a=this.views[this.currentViewIndex].dates,i=this.calendarService.currentDate,r=i.getMonth(),c=i.getFullYear(),o=t.getMonth(),l=t.getFullYear(),s=0;if(c===l?r!==o&&(s=r<o?1:-1):s=c<l?1:-1,this.calendarService.setCurrentDate(t),0===s){for(var d=this.range.startTime,u=Math.round((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-Date.UTC(d.getFullYear(),d.getMonth(),d.getDate()))/864e5),v=0;v<42;v+=1)a[v].selected=!1;u>=0&&u<42&&(a[u].selected=!0,this.selectedDate=a[u])}else this.moveOnSelected=!0,this.slideView(s)}this.onTimeSelected.emit({selectedTime:t,events:n,disabled:e.disabled})}}},{key:"slideView",value:function(e){1===e?this.slider.slideNext():-1===e&&this.slider.slidePrev()}},{key:"updateCurrentView",value:function(e,t){for(var n=this.calendarService.currentDate,a=new Date,i=Math.round((Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5),r=Math.round((Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5),c=0;c<42;c+=1)t.dates[c].selected=!1;i>=0&&i<42&&!t.dates[i].disabled&&(this.autoSelect||this.moveOnSelected)?(t.dates[i].selected=!0,this.selectedDate=t.dates[i]):this.selectedDate={date:null,events:[],label:null,secondary:null,disabled:!1},r>=0&&r<42&&(t.dates[r].current=!0)}},{key:"eventSelected",value:function(e){this.onEventSelected.emit(e)}}],[{key:"getDates",value:function(e,t){for(var n=new Array(t),a=new Date(e.getTime()),i=0;i<t;)n[i++]=new Date(a.getTime()),a.setDate(a.getDate()+1);return n}}]),e}()).\u0275fac=function(e){return new(e||nn)(o.Vb(gn))},nn.\u0275cmp=o.Pb({type:nn,selectors:[["monthview"]],viewQuery:function(e,t){var n;1&e&&o.Mc(s,!0),2&e&&o.Dc(n=o.kc())&&(t.slider=n.first)},inputs:{autoSelect:"autoSelect",dir:"dir",sliderOptions:"sliderOptions",monthviewDisplayEventTemplate:"monthviewDisplayEventTemplate",monthviewInactiveDisplayEventTemplate:"monthviewInactiveDisplayEventTemplate",monthviewEventDetailTemplate:"monthviewEventDetailTemplate",formatDay:"formatDay",formatDayHeader:"formatDayHeader",formatMonthTitle:"formatMonthTitle",eventSource:"eventSource",startingDayMonth:"startingDayMonth",showEventDetail:"showEventDetail",noEventsLabel:"noEventsLabel",markDisabled:"markDisabled",locale:"locale",dateFormatter:"dateFormatter",lockSwipeToPrev:"lockSwipeToPrev",lockSwipes:"lockSwipes"},outputs:{onRangeChanged:"onRangeChanged",onEventSelected:"onEventSelected",onTimeSelected:"onTimeSelected",onTitleChanged:"onTitleChanged"},features:[o.Gb],decls:13,vars:14,consts:[[3,"options","dir","ionSlideDidChange"],["monthSlider",""],["class","table table-bordered table-fixed monthview-datetable",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"table","table-bordered","table-fixed","monthview-datetable"],[4,"ngFor","ngForOf"],["tappable","",3,"ngClass","click",4,"ngFor","ngForOf"],["tappable","",3,"ngClass","click"],[1,"text-center"]],template:function(e,t){1&e&&(o.bc(0,"div"),o.bc(1,"ion-slides",0,1),o.jc("ionSlideDidChange",(function(){return t.onSlideChanged()})),o.bc(3,"ion-slide"),o.Oc(4,b,6,3,"table",2),o.Oc(5,S,7,3,"table",2),o.ac(),o.bc(6,"ion-slide"),o.Oc(7,I,6,3,"table",2),o.Oc(8,H,7,3,"table",2),o.ac(),o.bc(9,"ion-slide"),o.Oc(10,N,6,3,"table",2),o.Oc(11,W,7,3,"table",2),o.ac(),o.ac(),o.Oc(12,Q,0,0,"ng-template",3),o.ac()),2&e&&(o.Ib(1),o.uc("options",t.sliderOptions)("dir",t.dir),o.Ib(3),o.uc("ngIf",0===t.currentViewIndex),o.Ib(1),o.uc("ngIf",0!==t.currentViewIndex),o.Ib(2),o.uc("ngIf",1===t.currentViewIndex),o.Ib(1),o.uc("ngIf",1!==t.currentViewIndex),o.Ib(2),o.uc("ngIf",2===t.currentViewIndex),o.Ib(1),o.uc("ngIf",2!==t.currentViewIndex),o.Ib(1),o.uc("ngTemplateOutlet",t.monthviewEventDetailTemplate)("ngTemplateOutletContext",o.Bc(10,z,t.showEventDetail,t.selectedDate,t.noEventsLabel)))},directives:[r.W,r.V,a.m,a.r,a.l,a.k],styles:[".text-muted[_ngcontent-%COMP%] {\n            color: #999;\n        }\n\n        .table-fixed[_ngcontent-%COMP%] {\n            table-layout: fixed;\n        }\n\n        .table[_ngcontent-%COMP%] {\n            width: 100%;\n            max-width: 100%;\n            background-color: transparent;\n        }\n\n        .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]    > tfoot[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]    > tfoot[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n            padding: 8px;\n            line-height: 20px;\n            vertical-align: top;\n        }\n\n        .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%] {\n            vertical-align: bottom;\n            border-bottom: 2px solid #ddd;\n        }\n\n        .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]:first-child    > tr[_ngcontent-%COMP%]:first-child    > th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]:first-child    > tr[_ngcontent-%COMP%]:first-child    > td[_ngcontent-%COMP%] {\n            border-top: 0\n        }\n\n        .table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    + tbody[_ngcontent-%COMP%] {\n            border-top: 2px solid #ddd;\n        }\n\n        .table-bordered[_ngcontent-%COMP%] {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]    > tfoot[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]    > tfoot[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%] {\n            border-bottom-width: 2px;\n        }\n\n        .table-striped[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]:nth-child(odd)    > td[_ngcontent-%COMP%], .table-striped[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]:nth-child(odd)    > th[_ngcontent-%COMP%] {\n            background-color: #f9f9f9\n        }\n\n        .monthview-primary-with-event[_ngcontent-%COMP%] {\n            background-color: #3a87ad;\n            color: white;\n        }\n\n        .monthview-current[_ngcontent-%COMP%] {\n            background-color: #f0f0f0;\n        }\n\n        .monthview-selected[_ngcontent-%COMP%] {\n            background-color: #009900;\n            color: white;\n        }\n\n        .monthview-datetable[_ngcontent-%COMP%]   td.monthview-disabled[_ngcontent-%COMP%] {\n            color: lightgrey;\n            cursor: default;\n        }\n\n        .monthview-datetable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n            text-align: center;\n        }\n\n        .monthview-datetable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n            cursor: pointer;\n            text-align: center;\n        }\n\n        .monthview-secondary-with-event[_ngcontent-%COMP%] {\n            background-color: #d9edf7;\n        }\n\n        [_ngcontent-%COMP%]::-webkit-scrollbar, *[_ngcontent-%COMP%]::-webkit-scrollbar {\n            display: none;\n        }"]}),nn),bn=((rn=an=function(){function e(t,n){_classCallCheck(this,e),this.calendarService=t,this.elm=n,this.class=!0,this.autoSelect=!0,this.dir="",this.scrollToHour=0,this.onRangeChanged=new o.p,this.onEventSelected=new o.p,this.onTimeSelected=new o.p,this.onTitleChanged=new o.p(!0),this.views=[],this.currentViewIndex=0,this.direction=0,this.mode="week",this.inited=!1,this.callbackOnInit=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;if(this.sliderOptions||(this.sliderOptions={}),this.sliderOptions.loop=!0,this.hourRange=(this.endHour-this.startHour)*this.hourSegments,this.dateFormatter&&this.dateFormatter.formatWeekViewDayHeader)this.formatDayHeader=this.dateFormatter.formatWeekViewDayHeader;else{var t=new a.f(this.locale);this.formatDayHeader=function(e){return t.transform(e,this.formatWeekViewDayHeader)}}if(this.dateFormatter&&this.dateFormatter.formatWeekViewTitle)this.formatTitle=this.dateFormatter.formatWeekViewTitle;else{var n=new a.f(this.locale);this.formatTitle=function(e){return n.transform(e,this.formatWeekTitle)}}if(this.dateFormatter&&this.dateFormatter.formatWeekViewHourColumn)this.formatHourColumnLabel=this.dateFormatter.formatWeekViewHourColumn;else{var i=new a.f(this.locale);this.formatHourColumnLabel=function(e){return i.transform(e,this.formatHourColumn)}}this.lockSwipeToPrev&&this.slider.lockSwipeToPrev(!0),this.lockSwipes&&this.slider.lockSwipes(!0),this.refreshView(),this.hourColumnLabels=this.getHourColumnLabels(),this.inited=!0,this.currentDateChangedFromParentSubscription=this.calendarService.currentDateChangedFromParent$.subscribe((function(t){e.refreshView()})),this.eventSourceChangedSubscription=this.calendarService.eventSourceChanged$.subscribe((function(){e.onDataLoaded()})),this.slideChangedSubscription=this.calendarService.slideChanged$.subscribe((function(t){1===t?e.slider.slideNext():-1===t&&e.slider.slidePrev()}))}},{key:"ngAfterViewInit",value:function(){var e=this.getTitle();if(this.onTitleChanged.emit(e),this.scrollToHour>0){var t=this.elm.nativeElement.querySelector(".weekview-normal-event-container").querySelectorAll(".calendar-hour-column"),n=this;setTimeout((function(){n.initScrollPosition=t[n.scrollToHour-n.startHour].offsetTop}),50)}}},{key:"ngOnChanges",value:function(e){if(this.inited){var t=e.eventSource;t&&t.currentValue&&this.onDataLoaded();var n=e.lockSwipeToPrev;n&&this.slider.lockSwipeToPrev(n.currentValue);var a=e.lockSwipes;a&&this.slider.lockSwipes(a.currentValue)}}},{key:"ngOnDestroy",value:function(){this.currentDateChangedFromParentSubscription&&(this.currentDateChangedFromParentSubscription.unsubscribe(),this.currentDateChangedFromParentSubscription=null),this.eventSourceChangedSubscription&&(this.eventSourceChangedSubscription.unsubscribe(),this.eventSourceChangedSubscription=null),this.slideChangedSubscription&&(this.slideChangedSubscription.unsubscribe(),this.slideChangedSubscription=null)}},{key:"onSlideChanged",value:function(){var e=this;if(this.callbackOnInit)this.callbackOnInit=!1;else{var t=this.currentViewIndex,n=0;this.slider.getActiveIndex().then((function(a){a=(a+2)%3,isNaN(a)&&(a=t),a-t==1?n=1:0===a&&2===t?(n=1,e.slider.slideTo(1,0,!1)):t-a==1?n=-1:2===a&&0===t&&(n=-1,e.slider.slideTo(3,0,!1)),e.currentViewIndex=a,e.move(n)}))}}},{key:"move",value:function(e){if(0!==e){this.direction=e;var t=this.calendarService.getAdjacentCalendarDate(this.mode,e);this.calendarService.setCurrentDate(t),this.refreshView(),this.direction=0}}},{key:"getHourColumnLabels",value:function(){for(var e=[],t=0,n=this.views[0].rows.length;t<n;t+=1)if(0===t&&this.views[0].rows[t][0].time.getHours()!==this.startHour){var a=new Date(this.views[0].rows[t][0].time);a.setDate(a.getDate()+1),a.setHours(this.startHour),e.push(this.formatHourColumnLabel(a))}else e.push(this.formatHourColumnLabel(this.views[0].rows[t][0].time));return e}},{key:"getViewData",value:function(e){for(var t=an.getDates(e,7),n=0;n<7;n++)t[n].dayHeader=this.formatDayHeader(t[n].date);return{rows:an.createDateObjects(e,this.startHour,this.endHour,this.hourSegments),dates:t}}},{key:"getRange",value:function(e){var t=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i=e.getDay()-this.startingDayWeek;return i<0&&(i+=7),{startTime:new Date(t,n,a-i,12,0,0),endTime:new Date(t,n,a-i+7,12,0,0)}}},{key:"onDataLoaded",value:function(){for(var e=this.eventSource,t=e?e.length:0,n=this.range.startTime,a=this.range.endTime,i=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),r=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),c=this.currentViewIndex,o=this.views[c].rows,l=this.views[c].dates,s=this.startHour*this.hourSegments,d=this.endHour*this.hourSegments,u=24*this.hourSegments,v=!1,h=!1,m=0;m<7;m+=1)l[m].events=[],l[m].hasEvent=!1;for(var g=0;g<7;g+=1)for(var f=0;f<this.hourRange;f+=1)o[f][g].events=[];for(var b=0;b<t;b+=1){var p=e[b],w=p.startTime,y=p.endTime,T=void 0,S=void 0;if(p.allDay?(T=w.getTime(),S=y.getTime()):(T=Date.UTC(w.getFullYear(),w.getMonth(),w.getDate()),S=Date.UTC(y.getFullYear(),y.getMonth(),y.getDate()+1)),!(S<=i||T>=r||w>=y))if(p.allDay){var D;v=!0;var C={event:p,startIndex:D=T<=i?0:Math.round((T-i)/864e5),endIndex:S>=r?Math.round((r-i)/864e5):Math.round((S-i)/864e5)},O=l[D].events;O?O.push(C):((O=[]).push(C),l[D].events=O),l[D].hasEvent=!0}else{var k,I;h=!0,k=T<i?0:(T-i)/36e5*this.hourSegments+(w.getHours()+w.getMinutes()/60)*this.hourSegments,I=S>r?(r-i)/36e5*this.hourSegments:(S-864e5-i)/36e5*this.hourSegments+(y.getHours()+y.getMinutes()/60)*this.hourSegments;var E=Math.floor(k),P=Math.ceil(I-.016),x=E%u,M=Math.floor(E/u),H=M*u,F=0,V=0;1!==this.hourParts&&(F=x<s?0:Math.floor((k-E)*this.hourParts));do{var _=void 0;if((H+=u)<P?_=u:(_=H===P?u:P%u,1!==this.hourParts&&(V=_>d?0:Math.floor((P-I)*this.hourParts))),x<s?x=0:x-=s,_>d&&(_=d),x<(_-=s)){var A={event:p,startIndex:x,endIndex:_,startOffset:F,endOffset:V},N=o[x][M].events;N?N.push(A):((N=[]).push(A),o[x][M].events=N),l[M].hasEvent=!0}x=0,F=0,M+=1}while(H<P)}}if(h)for(var L=0;L<7;L+=1){for(var $=[],j=0;j<this.hourRange;j+=1)o[j][L].events&&(o[j][L].events.sort(an.compareEventByStartOffset),$=$.concat(o[j][L].events));$.length>0&&this.placeEvents($)}if(v){for(var R=[],W=0;W<7;W+=1)l[W].events&&(R=R.concat(l[W].events));R.length>0&&this.placeAllDayEvents(R)}if(this.autoSelect){for(var Q,z=!1,Y=0;Y<7;Y+=1)if(l[Y].selected){Q=l[Y],z=!0;break}if(z){var U=!1;this.markDisabled&&(U=this.markDisabled(Q.date)),this.onTimeSelected.emit({selectedTime:Q.date,events:Q.events.map((function(e){return e.event})),disabled:U})}}}},{key:"refreshView",value:function(){if(this.range=this.getRange(this.calendarService.currentDate),this.inited){var e=this.getTitle();this.onTitleChanged.emit(e)}this.calendarService.populateAdjacentViews(this),this.updateCurrentView(this.range.startTime,this.views[this.currentViewIndex]),this.calendarService.rangeChanged(this)}},{key:"getTitle",value:function(){var e=new Date(this.range.startTime.getTime());return e.setHours(12,0,0,0),this.formatTitle(e)}},{key:"getHighlightClass",value:function(e){var t="";return e.hasEvent&&(t&&(t+=" "),t="weekview-with-event"),e.selected&&(t&&(t+=" "),t+="weekview-selected"),e.current&&(t&&(t+=" "),t+="weekview-current"),t}},{key:"select",value:function(e,t){var n=!1;this.markDisabled&&(n=this.markDisabled(e)),this.onTimeSelected.emit({selectedTime:e,events:t.map((function(e){return e.event})),disabled:n})}},{key:"placeEvents",value:function(e){this.calculatePosition(e),an.calculateWidth(e,this.hourRange,this.hourParts)}},{key:"placeAllDayEvents",value:function(e){this.calculatePosition(e)}},{key:"overlap",value:function(e,t){var n=e,a=t;return(e.startIndex>t.startIndex||e.startIndex===t.startIndex&&e.startOffset>t.startOffset)&&(n=t,a=e),!(n.endIndex<=a.startIndex||n.endIndex-a.startIndex==1&&n.endOffset+a.startOffset>=this.hourParts)}},{key:"calculatePosition",value:function(e){for(var t=e.length,n=new Array(t),a=0,i=0;i<t;i+=1){var r=void 0;for(r=0;r<a;r+=1)n[r]=!1;for(var c=0;c<i;c+=1)this.overlap(e[i],e[c])&&(n[e[c].position]=!0);for(r=0;r<a&&n[r];r+=1);e[i].position=r<a?r:a++}if("rtl"===this.dir)for(var o=0;o<t;o+=1)e[o].position=a-1-e[o].position}},{key:"updateCurrentView",value:function(e,t){for(var n=this.calendarService.currentDate,a=new Date,i=Math.round((Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5),r=Math.floor((Date.UTC(a.getFullYear(),a.getMonth(),a.getTime())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5),c=0;c<7;c+=1)t.dates[c].selected=!1;i>=0&&i<7&&this.autoSelect&&(t.dates[i].selected=!0),r>=0&&r<7&&(t.dates[r].current=!0)}},{key:"daySelected",value:function(e){var t=e.date,n=this.views[this.currentViewIndex].dates,a=this.range.startTime,i=Math.round((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()))/864e5);this.calendarService.setCurrentDate(t);for(var r=0;r<7;r+=1)n[r].selected=!1;i>=0&&i<7&&(n[i].selected=!0);var c=!1;this.markDisabled&&(c=this.markDisabled(t)),this.onTimeSelected.emit({selectedTime:t,events:e.events.map((function(e){return e.event})),disabled:c})}},{key:"setScrollPosition",value:function(e){this.initScrollPosition=e}}],[{key:"createDateObjects",value:function(e,t,n,a){var i,r,c=[],o=e.getDate();a<1?(i=Math.floor(1/a),r=60):(i=1,r=Math.floor(60/a));for(var l=t;l<n;l+=i)for(var s=0;s<60;s+=r){for(var d=[],u=0;u<7;u+=1){var v=new Date(e.getTime());v.setHours(0+l,s),v.setDate(o+u),d.push({events:[],time:v})}c.push(d)}return c}},{key:"getDates",value:function(e,t){for(var n=new Array(t),a=new Date(e.getTime()),i=0;i<t;)n[i++]={date:new Date(a.getTime()),events:[],dayHeader:""},a.setDate(a.getDate()+1);return n}},{key:"compareEventByStartOffset",value:function(e,t){return e.startOffset-t.startOffset}},{key:"calculateWidth",value:function(e,t,n){var a=t*n,i=new Array(a);e.sort((function(e,t){return t.position-e.position}));for(var r=0;r<a;r+=1)i[r]={calculated:!1,events:[]};for(var c=e.length,o=0;o<c;o+=1)for(var l=e[o],s=l.startIndex*n+l.startOffset;s<l.endIndex*n-l.endOffset;)i[s].events.push(l),s+=1;for(var d=0;d<c;){var u=e[d];if(!u.overlapNumber){var v=u.position+1;u.overlapNumber=v;for(var h=[u];u=h.shift();)for(var m=u.startIndex*n+u.startOffset;m<u.endIndex*n-u.endOffset;){if(!i[m].calculated&&(i[m].calculated=!0,i[m].events))for(var g=i[m].events.length,f=0;f<g;f+=1){var b=i[m].events[f];b.overlapNumber||(b.overlapNumber=v,h.push(b))}m+=1}}d+=1}}}]),e}()).\u0275fac=function(e){return new(e||rn)(o.Vb(gn),o.Vb(o.m))},rn.\u0275cmp=o.Pb({type:rn,selectors:[["weekview"]],viewQuery:function(e,t){var n;1&e&&o.Mc(Y,!0),2&e&&o.Dc(n=o.kc())&&(t.slider=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&o.Mb("weekview",t.class)},inputs:{autoSelect:"autoSelect",dir:"dir",scrollToHour:"scrollToHour",sliderOptions:"sliderOptions",weekviewHeaderTemplate:"weekviewHeaderTemplate",weekviewAllDayEventTemplate:"weekviewAllDayEventTemplate",weekviewNormalEventTemplate:"weekviewNormalEventTemplate",weekviewAllDayEventSectionTemplate:"weekviewAllDayEventSectionTemplate",weekviewNormalEventSectionTemplate:"weekviewNormalEventSectionTemplate",weekviewInactiveAllDayEventSectionTemplate:"weekviewInactiveAllDayEventSectionTemplate",weekviewInactiveNormalEventSectionTemplate:"weekviewInactiveNormalEventSectionTemplate",formatWeekTitle:"formatWeekTitle",formatWeekViewDayHeader:"formatWeekViewDayHeader",formatHourColumn:"formatHourColumn",startingDayWeek:"startingDayWeek",allDayLabel:"allDayLabel",hourParts:"hourParts",eventSource:"eventSource",markDisabled:"markDisabled",locale:"locale",dateFormatter:"dateFormatter",preserveScrollPosition:"preserveScrollPosition",lockSwipeToPrev:"lockSwipeToPrev",lockSwipes:"lockSwipes",startHour:"startHour",endHour:"endHour",hourSegments:"hourSegments"},outputs:{onRangeChanged:"onRangeChanged",onEventSelected:"onEventSelected",onTimeSelected:"onTimeSelected",onTitleChanged:"onTitleChanged"},features:[o.Gb],decls:26,vars:11,consts:[[1,"slides-container",3,"options","dir","ionSlideDidChange"],["weekSlider",""],[1,"slide-container"],[1,"table","table-bordered","table-fixed","weekview-header"],[1,"calendar-hour-column"],["class","weekview-header text-center",3,"ngClass","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"weekview-header","text-center",3,"ngClass","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"weekview-allday-table"],[1,"weekview-allday-label"],[1,"weekview-allday-content-wrapper","scroll-content"],[1,"table","table-fixed","weekview-allday-content-table"],["class","calendar-cell",4,"ngFor","ngForOf"],[1,"weekview-normal-event-container",3,"initPosition","emitEvent","onScroll"],[1,"table","table-bordered","table-fixed","weekview-normal-event-table"],[4,"ngFor","ngForOf"],[1,"calendar-cell"],[1,"calendar-hour-column","text-center"],["class","calendar-cell","tappable","",3,"click",4,"ngFor","ngForOf"],["tappable","",1,"calendar-cell",3,"click"],[1,"weekview-normal-event-container",3,"initPosition"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(e,t){1&e&&(o.bc(0,"ion-slides",0,1),o.jc("ionSlideDidChange",(function(){return t.onSlideChanged()})),o.bc(2,"ion-slide",2),o.bc(3,"table",3),o.bc(4,"thead"),o.bc(5,"tr"),o.Wb(6,"th",4),o.Oc(7,q,2,5,"th",5),o.ac(),o.ac(),o.ac(),o.Oc(8,ne,13,5,"div",6),o.Oc(9,de,13,4,"div",6),o.ac(),o.bc(10,"ion-slide",2),o.bc(11,"table",3),o.bc(12,"thead"),o.bc(13,"tr"),o.Wb(14,"th",4),o.Oc(15,ve,2,5,"th",5),o.ac(),o.ac(),o.ac(),o.Oc(16,ye,13,5,"div",6),o.Oc(17,Ie,13,4,"div",6),o.ac(),o.bc(18,"ion-slide",2),o.bc(19,"table",3),o.bc(20,"thead"),o.bc(21,"tr"),o.Wb(22,"th",4),o.Oc(23,Pe,2,5,"th",5),o.ac(),o.ac(),o.ac(),o.Oc(24,Ae,13,5,"div",6),o.Oc(25,Qe,13,4,"div",6),o.ac(),o.ac()),2&e&&(o.uc("options",t.sliderOptions)("dir",t.dir),o.Ib(7),o.uc("ngForOf",t.views[0].dates),o.Ib(1),o.uc("ngIf",0===t.currentViewIndex),o.Ib(1),o.uc("ngIf",0!==t.currentViewIndex),o.Ib(6),o.uc("ngForOf",t.views[1].dates),o.Ib(1),o.uc("ngIf",1===t.currentViewIndex),o.Ib(1),o.uc("ngIf",1!==t.currentViewIndex),o.Ib(6),o.uc("ngForOf",t.views[2].dates),o.Ib(1),o.uc("ngIf",2===t.currentViewIndex),o.Ib(1),o.uc("ngIf",2!==t.currentViewIndex))},directives:function(){return[r.W,r.V,a.l,a.m,a.k,a.r,Tn]},styles:['\n        .table-fixed {\n            table-layout: fixed;\n        }\n\n        .table {\n            width: 100%;\n            max-width: 100%;\n            background-color: transparent;\n        }\n\n        .table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th, .table > thead > tr > td,\n        .table > tbody > tr > td, .table > tfoot > tr > td {\n            padding: 8px;\n            line-height: 20px;\n            vertical-align: top;\n        }\n\n        .table > thead > tr > th {\n            vertical-align: bottom;\n            border-bottom: 2px solid #ddd;\n        }\n\n        .table > thead:first-child > tr:first-child > th, .table > thead:first-child > tr:first-child > td {\n            border-top: 0\n        }\n\n        .table > tbody + tbody {\n            border-top: 2px solid #ddd;\n        }\n\n        .table-bordered {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > tbody > tr > th, .table-bordered > tfoot > tr > th,\n        .table-bordered > thead > tr > td, .table-bordered > tbody > tr > td, .table-bordered > tfoot > tr > td {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > thead > tr > td {\n            border-bottom-width: 2px;\n        }\n\n        .table-striped > tbody > tr:nth-child(odd) > td, .table-striped > tbody > tr:nth-child(odd) > th {\n            background-color: #f9f9f9\n        }\n\n        .calendar-hour-column {\n            width: 50px;\n            white-space: nowrap;\n        }\n\n        .calendar-event-wrap {\n            position: relative;\n            width: 100%;\n            height: 100%;\n        }\n\n        .calendar-event {\n            position: absolute;\n            padding: 2px;\n            cursor: pointer;\n            z-index: 10000;\n        }\n\n        .calendar-cell {\n            padding: 0 !important;\n            height: 37px;\n        }\n\n        .slides-container {\n            height: 100%;\n        }\n\n        .slide-container {\n            display: block;\n        }\n\n        .weekview-allday-label {\n            float: left;\n            height: 100%;\n            line-height: 50px;\n            text-align: center;\n            width: 50px;\n            border-left: 1px solid #ddd;\n        }\n\n        [dir="rtl"] .weekview-allday-label {\n            float: right;\n            border-right: 1px solid #ddd;\n        }\n\n        .weekview-allday-content-wrapper {\n            margin-left: 50px;\n            overflow: hidden;\n            height: 51px;\n        }\n\n        [dir="rtl"] .weekview-allday-content-wrapper {\n            margin-left: 0;\n            margin-right: 50px;\n        }\n\n        .weekview-allday-content-table {\n            min-height: 50px;\n        }\n\n        .weekview-allday-content-table td {\n            border-left: 1px solid #ddd;\n            border-right: 1px solid #ddd;\n        }\n\n        .weekview-header th {\n            overflow: hidden;\n            white-space: nowrap;\n            font-size: 14px;\n        }\n\n        .weekview-allday-table {\n            height: 50px;\n            position: relative;\n            border-bottom: 1px solid #ddd;\n            font-size: 14px;\n        }\n\n        .weekview-normal-event-container {\n            margin-top: 87px;\n            overflow: hidden;\n            left: 0;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            position: absolute;\n            font-size: 14px;\n        }\n\n        .scroll-content {\n            overflow-y: auto;\n            overflow-x: hidden;\n        }\n\n        ::-webkit-scrollbar,\n        *::-webkit-scrollbar {\n            display: none;\n        }\n\n        .table > tbody > tr > td.calendar-hour-column {\n            padding-left: 0;\n            padding-right: 0;\n            vertical-align: middle;\n        }\n\n        @media (max-width: 750px) {\n            .weekview-allday-label, .calendar-hour-column {\n                width: 31px;\n                font-size: 12px;\n            }\n\n            .weekview-allday-label {\n                padding-top: 4px;\n            }\n\n            .table > tbody > tr > td.calendar-hour-column {\n                padding-left: 0;\n                padding-right: 0;\n                vertical-align: middle;\n                line-height: 12px;\n            }\n\n            .table > thead > tr > th.weekview-header {\n                padding-left: 0;\n                padding-right: 0;\n                font-size: 12px;\n            }\n\n            .weekview-allday-label {\n                line-height: 20px;\n            }\n\n            .weekview-allday-content-wrapper {\n                margin-left: 31px;\n            }\n\n            [dir="rtl"] .weekview-allday-content-wrapper {\n                margin-left: 0;\n                margin-right: 31px;\n            }\n        }\n    '],encapsulation:2}),rn),pn=((on=cn=function(){function e(t,n){_classCallCheck(this,e),this.calendarService=t,this.elm=n,this.class=!0,this.dir="",this.scrollToHour=0,this.onRangeChanged=new o.p,this.onEventSelected=new o.p,this.onTimeSelected=new o.p,this.onTitleChanged=new o.p(!0),this.views=[],this.currentViewIndex=0,this.direction=0,this.mode="day",this.inited=!1,this.callbackOnInit=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;if(this.sliderOptions||(this.sliderOptions={}),this.sliderOptions.loop=!0,this.hourRange=(this.endHour-this.startHour)*this.hourSegments,this.dateFormatter&&this.dateFormatter.formatDayViewTitle)this.formatTitle=this.dateFormatter.formatDayViewTitle;else{var t=new a.f(this.locale);this.formatTitle=function(e){return t.transform(e,this.formatDayTitle)}}if(this.dateFormatter&&this.dateFormatter.formatDayViewHourColumn)this.formatHourColumnLabel=this.dateFormatter.formatDayViewHourColumn;else{var n=new a.f(this.locale);this.formatHourColumnLabel=function(e){return n.transform(e,this.formatHourColumn)}}this.lockSwipeToPrev&&this.slider.lockSwipeToPrev(!0),this.lockSwipes&&this.slider.lockSwipes(!0),this.refreshView(),this.hourColumnLabels=this.getHourColumnLabels(),this.inited=!0,this.currentDateChangedFromParentSubscription=this.calendarService.currentDateChangedFromParent$.subscribe((function(t){e.refreshView()})),this.eventSourceChangedSubscription=this.calendarService.eventSourceChanged$.subscribe((function(){e.onDataLoaded()})),this.slideChangedSubscription=this.calendarService.slideChanged$.subscribe((function(t){1===t?e.slider.slideNext():-1===t&&e.slider.slidePrev()}))}},{key:"ngAfterViewInit",value:function(){var e=this.getTitle();if(this.onTitleChanged.emit(e),this.scrollToHour>0){var t=this.elm.nativeElement.querySelector(".dayview-normal-event-container").querySelectorAll(".calendar-hour-column"),n=this;setTimeout((function(){n.initScrollPosition=t[n.scrollToHour-n.startHour].offsetTop}),50)}}},{key:"ngOnChanges",value:function(e){if(this.inited){var t=e.eventSource;t&&t.currentValue&&this.onDataLoaded();var n=e.lockSwipeToPrev;n&&this.slider.lockSwipeToPrev(n.currentValue);var a=e.lockSwipes;a&&this.slider.lockSwipes(a.currentValue)}}},{key:"ngOnDestroy",value:function(){this.currentDateChangedFromParentSubscription&&(this.currentDateChangedFromParentSubscription.unsubscribe(),this.currentDateChangedFromParentSubscription=null),this.eventSourceChangedSubscription&&(this.eventSourceChangedSubscription.unsubscribe(),this.eventSourceChangedSubscription=null),this.slideChangedSubscription&&(this.slideChangedSubscription.unsubscribe(),this.slideChangedSubscription=null)}},{key:"onSlideChanged",value:function(){var e=this;if(this.callbackOnInit)this.callbackOnInit=!1;else{var t=0,n=this.currentViewIndex;this.slider.getActiveIndex().then((function(a){a=(a+2)%3,isNaN(a)&&(a=n),a-n==1?t=1:0===a&&2===n?(t=1,e.slider.slideTo(1,0,!1)):n-a==1?t=-1:2===a&&0===n&&(t=-1,e.slider.slideTo(3,0,!1)),e.currentViewIndex=a,e.move(t)}))}}},{key:"move",value:function(e){if(0!==e){this.direction=e;var t=this.calendarService.getAdjacentCalendarDate(this.mode,e);this.calendarService.setCurrentDate(t),this.refreshView(),this.direction=0}}},{key:"getHourColumnLabels",value:function(){for(var e=[],t=0,n=this.views[0].rows.length;t<n;t+=1)if(0===t&&this.views[0].rows[t].time.getHours()!==this.startHour){var a=new Date(this.views[0].rows[t].time);a.setDate(a.getDate()+1),a.setHours(this.startHour),e.push(this.formatHourColumnLabel(a))}else e.push(this.formatHourColumnLabel(this.views[0].rows[t].time));return e}},{key:"getViewData",value:function(e){return{rows:cn.createDateObjects(e,this.startHour,this.endHour,this.hourSegments),allDayEvents:[]}}},{key:"getRange",value:function(e){var t=e.getFullYear(),n=e.getMonth(),a=e.getDate();return{startTime:new Date(t,n,a,12,0,0),endTime:new Date(t,n,a+1,12,0,0)}}},{key:"onDataLoaded",value:function(){for(var e=this.eventSource,t=e?e.length:0,n=this.range.startTime,a=this.range.endTime,i=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),r=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),c=this.currentViewIndex,o=this.views[c].rows,l=this.views[c].allDayEvents=[],s=this.startHour*this.hourSegments,d=this.endHour*this.hourSegments,u=!1,v=0;v<this.hourRange;v+=1)o[v].events=[];for(var h=0;h<t;h+=1){var m=e[h],g=m.startTime,f=m.endTime,b=void 0,p=void 0;if(m.allDay?(b=g.getTime(),p=f.getTime()):(b=Date.UTC(g.getFullYear(),g.getMonth(),g.getDate()),p=Date.UTC(f.getFullYear(),f.getMonth(),f.getDate()+1)),!(p<=i||b>=r||g>=f))if(m.allDay)l.push({event:m});else{var w,y;u=!0,w=b<i?0:(g.getHours()+g.getMinutes()/60)*this.hourSegments,y=p>r?(r-i)/36e5*this.hourSegments:(f.getHours()+f.getMinutes()/60)*this.hourSegments;var T=Math.floor(w),S=Math.ceil(y-.016),D=0,C=0;if(1!==this.hourParts&&(D=T<s?0:Math.floor((w-T)*this.hourParts),C=S>d?0:Math.floor((S-y)*this.hourParts)),T<s?T=0:T-=s,S>d&&(S=d),T<(S-=s)){var O={event:m,startIndex:T,endIndex:S,startOffset:D,endOffset:C},k=o[T].events;k?k.push(O):((k=[]).push(O),o[T].events=k)}}}if(u){for(var I=[],E=0;E<this.hourRange;E+=1)o[E].events&&(o[E].events.sort(cn.compareEventByStartOffset),I=I.concat(o[E].events));I.length>0&&this.placeEvents(I)}}},{key:"refreshView",value:function(){if(this.range=this.getRange(this.calendarService.currentDate),this.inited){var e=this.getTitle();this.onTitleChanged.emit(e)}this.calendarService.populateAdjacentViews(this),this.calendarService.rangeChanged(this)}},{key:"getTitle",value:function(){var e=new Date(this.range.startTime.getTime());return e.setHours(12,0,0,0),this.formatTitle(e)}},{key:"select",value:function(e,t){var n=!1;this.markDisabled&&(n=this.markDisabled(e)),this.onTimeSelected.emit({selectedTime:e,events:t.map((function(e){return e.event})),disabled:n})}},{key:"placeEvents",value:function(e){this.calculatePosition(e),cn.calculateWidth(e,this.hourRange,this.hourParts)}},{key:"placeAllDayEvents",value:function(e){this.calculatePosition(e)}},{key:"overlap",value:function(e,t){var n=e,a=t;return(e.startIndex>t.startIndex||e.startIndex===t.startIndex&&e.startOffset>t.startOffset)&&(n=t,a=e),!(n.endIndex<=a.startIndex||n.endIndex-a.startIndex==1&&n.endOffset+a.startOffset>=this.hourParts)}},{key:"calculatePosition",value:function(e){for(var t,n=e.length,a=new Array(n),i=0,r=0;r<n;r+=1){for(t=0;t<i;t+=1)a[t]=!1;for(var c=0;c<r;c+=1)this.overlap(e[r],e[c])&&(a[e[c].position]=!0);for(t=0;t<i&&a[t];t+=1);e[r].position=t<i?t:i++}if("rtl"===this.dir)for(var o=0;o<n;o+=1)e[o].position=i-1-e[o].position}},{key:"eventSelected",value:function(e){this.onEventSelected.emit(e)}},{key:"setScrollPosition",value:function(e){this.initScrollPosition=e}}],[{key:"createDateObjects",value:function(e,t,n,a){var i,r,c,o=[],l=e.getDate();a<1?(r=Math.floor(1/a),c=60):(r=1,c=Math.floor(60/a));for(var s=t;s<n;s+=r)for(var d=0;d<60;d+=c)(i=new Date(e.getTime())).setHours(0+s,d),i.setDate(l),o.push({time:i,events:[]});return o}},{key:"compareEventByStartOffset",value:function(e,t){return e.startOffset-t.startOffset}},{key:"calculateWidth",value:function(e,t,n){var a=t*n,i=new Array(a);e.sort((function(e,t){return t.position-e.position}));for(var r=0;r<a;r+=1)i[r]={calculated:!1,events:[]};for(var c=e.length,o=0;o<c;o+=1)for(var l=e[o],s=l.startIndex*n+l.startOffset;s<l.endIndex*n-l.endOffset;)i[s].events.push(l),s+=1;for(var d=0;d<c;){var u=e[d];if(!u.overlapNumber){var v=u.position+1;u.overlapNumber=v;for(var h=[u];u=h.shift();)for(var m=u.startIndex*n+u.startOffset;m<u.endIndex*n-u.endOffset;){if(!i[m].calculated&&(i[m].calculated=!0,i[m].events))for(var g=i[m].events.length,f=0;f<g;f+=1){var b=i[m].events[f];b.overlapNumber||(b.overlapNumber=v,h.push(b))}m+=1}}d+=1}}}]),e}()).\u0275fac=function(e){return new(e||on)(o.Vb(gn),o.Vb(o.m))},on.\u0275cmp=o.Pb({type:on,selectors:[["dayview"]],viewQuery:function(e,t){var n;1&e&&o.Mc(ze,!0),2&e&&o.Dc(n=o.kc())&&(t.slider=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&o.Mb("dayview",t.class)},inputs:{dir:"dir",scrollToHour:"scrollToHour",sliderOptions:"sliderOptions",dayviewAllDayEventTemplate:"dayviewAllDayEventTemplate",dayviewNormalEventTemplate:"dayviewNormalEventTemplate",dayviewAllDayEventSectionTemplate:"dayviewAllDayEventSectionTemplate",dayviewNormalEventSectionTemplate:"dayviewNormalEventSectionTemplate",dayviewInactiveAllDayEventSectionTemplate:"dayviewInactiveAllDayEventSectionTemplate",dayviewInactiveNormalEventSectionTemplate:"dayviewInactiveNormalEventSectionTemplate",formatHourColumn:"formatHourColumn",formatDayTitle:"formatDayTitle",allDayLabel:"allDayLabel",hourParts:"hourParts",eventSource:"eventSource",markDisabled:"markDisabled",locale:"locale",dateFormatter:"dateFormatter",preserveScrollPosition:"preserveScrollPosition",lockSwipeToPrev:"lockSwipeToPrev",lockSwipes:"lockSwipes",startHour:"startHour",endHour:"endHour",hourSegments:"hourSegments"},outputs:{onRangeChanged:"onRangeChanged",onEventSelected:"onEventSelected",onTimeSelected:"onTimeSelected",onTitleChanged:"onTitleChanged"},features:[o.Gb],decls:38,vars:17,consts:[[1,"slides-container",3,"options","dir","ionSlideDidChange"],["daySlider",""],[1,"slide-container"],[1,"dayview-allday-table"],[1,"dayview-allday-label"],[1,"dayview-allday-content-wrapper","scroll-content"],[1,"table","table-bordered","dayview-allday-content-table"],["class","calendar-cell",3,"ngClass","ngStyle",4,"ngIf"],["class","calendar-cell",4,"ngIf"],["class","dayview-normal-event-container",3,"initPosition","emitEvent","onScroll",4,"ngIf"],["class","dayview-normal-event-container",3,"initPosition",4,"ngIf"],[1,"calendar-cell",3,"ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"calendar-cell"],[1,"dayview-normal-event-container",3,"initPosition","emitEvent","onScroll"],[1,"table","table-bordered","table-fixed","dayview-normal-event-table"],[4,"ngFor","ngForOf"],[1,"calendar-hour-column","text-center"],["tappable","",1,"calendar-cell",3,"click"],[1,"dayview-normal-event-container",3,"initPosition"]],template:function(e,t){1&e&&(o.bc(0,"ion-slides",0,1),o.jc("ionSlideDidChange",(function(){return t.onSlideChanged()})),o.bc(2,"ion-slide",2),o.bc(3,"div",3),o.bc(4,"div",4),o.Qc(5),o.ac(),o.bc(6,"div",5),o.bc(7,"table",6),o.bc(8,"tbody"),o.bc(9,"tr"),o.Oc(10,qe,2,11,"td",7),o.Oc(11,Je,2,4,"td",8),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.Oc(12,et,4,3,"init-position-scroll",9),o.Oc(13,at,4,2,"init-position-scroll",10),o.ac(),o.bc(14,"ion-slide",2),o.bc(15,"div",3),o.bc(16,"div",4),o.Qc(17),o.ac(),o.bc(18,"div",5),o.bc(19,"table",6),o.bc(20,"tbody"),o.bc(21,"tr"),o.Oc(22,rt,2,11,"td",7),o.Oc(23,ot,2,4,"td",8),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.Oc(24,dt,4,3,"init-position-scroll",9),o.Oc(25,ht,4,2,"init-position-scroll",10),o.ac(),o.bc(26,"ion-slide",2),o.bc(27,"div",3),o.bc(28,"div",4),o.Qc(29),o.ac(),o.bc(30,"div",5),o.bc(31,"table",6),o.bc(32,"tbody"),o.bc(33,"tr"),o.Oc(34,gt,2,11,"td",7),o.Oc(35,bt,2,4,"td",8),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.Oc(36,yt,4,3,"init-position-scroll",9),o.Oc(37,Dt,4,2,"init-position-scroll",10),o.ac(),o.ac()),2&e&&(o.uc("options",t.sliderOptions)("dir",t.dir),o.Ib(5),o.Rc(t.allDayLabel),o.Ib(5),o.uc("ngIf",0===t.currentViewIndex),o.Ib(1),o.uc("ngIf",0!==t.currentViewIndex),o.Ib(1),o.uc("ngIf",0===t.currentViewIndex),o.Ib(1),o.uc("ngIf",0!==t.currentViewIndex),o.Ib(4),o.Rc(t.allDayLabel),o.Ib(5),o.uc("ngIf",1===t.currentViewIndex),o.Ib(1),o.uc("ngIf",1!==t.currentViewIndex),o.Ib(1),o.uc("ngIf",1===t.currentViewIndex),o.Ib(1),o.uc("ngIf",1!==t.currentViewIndex),o.Ib(4),o.Rc(t.allDayLabel),o.Ib(5),o.uc("ngIf",2===t.currentViewIndex),o.Ib(1),o.uc("ngIf",2!==t.currentViewIndex),o.Ib(1),o.uc("ngIf",2===t.currentViewIndex),o.Ib(1),o.uc("ngIf",2!==t.currentViewIndex))},directives:function(){return[r.W,r.V,a.m,a.k,a.n,a.r,Tn,a.l]},styles:['\n        .table-fixed {\n            table-layout: fixed;\n        }\n\n        .table {\n            width: 100%;\n            max-width: 100%;\n            background-color: transparent;\n        }\n\n        .table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th, .table > thead > tr > td,\n        .table > tbody > tr > td, .table > tfoot > tr > td {\n            padding: 8px;\n            line-height: 20px;\n            vertical-align: top;\n        }\n\n        .table > thead > tr > th {\n            vertical-align: bottom;\n            border-bottom: 2px solid #ddd;\n        }\n\n        .table > thead:first-child > tr:first-child > th, .table > thead:first-child > tr:first-child > td {\n            border-top: 0\n        }\n\n        .table > tbody + tbody {\n            border-top: 2px solid #ddd;\n        }\n\n        .table-bordered {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > tbody > tr > th, .table-bordered > tfoot > tr > th,\n        .table-bordered > thead > tr > td, .table-bordered > tbody > tr > td, .table-bordered > tfoot > tr > td {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > thead > tr > td {\n            border-bottom-width: 2px;\n        }\n\n        .table-striped > tbody > tr:nth-child(odd) > td, .table-striped > tbody > tr:nth-child(odd) > th {\n            background-color: #f9f9f9\n        }\n\n        .calendar-hour-column {\n            width: 50px;\n            white-space: nowrap;\n        }\n\n        .calendar-event-wrap {\n            position: relative;\n            width: 100%;\n            height: 100%;\n        }\n\n        .calendar-event {\n            position: absolute;\n            padding: 2px;\n            cursor: pointer;\n            z-index: 10000;\n        }\n\n        .slides-container {\n            height: 100%;\n        }\n\n        .slide-container {\n            display: block;\n        }\n\n        .calendar-cell {\n            padding: 0 !important;\n            height: 37px;\n        }\n\n        .dayview-allday-label {\n            float: left;\n            height: 100%;\n            line-height: 50px;\n            text-align: center;\n            width: 50px;\n            border-left: 1px solid #ddd;\n        }\n\n        [dir="rtl"] .dayview-allday-label {\n            border-right: 1px solid #ddd;\n            float: right;\n        }\n\n        .dayview-allday-content-wrapper {\n            margin-left: 50px;\n            overflow: hidden;\n            height: 51px;\n        }\n\n        [dir="rtl"] .dayview-allday-content-wrapper {\n            margin-left: 0;\n            margin-right: 50px;\n        }\n\n        .dayview-allday-content-table {\n            min-height: 50px;\n        }\n\n        .dayview-allday-content-table td {\n            border-left: 1px solid #ddd;\n            border-right: 1px solid #ddd;\n        }\n\n        .dayview-allday-table {\n            height: 50px;\n            position: relative;\n            border-bottom: 1px solid #ddd;\n            font-size: 14px;\n        }\n\n        .dayview-normal-event-container {\n            margin-top: 50px;\n            overflow: hidden;\n            left: 0;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            position: absolute;\n            font-size: 14px;\n        }\n\n        .scroll-content {\n            overflow-y: auto;\n            overflow-x: hidden;\n        }\n\n        ::-webkit-scrollbar,\n        *::-webkit-scrollbar {\n            display: none;\n        }\n\n        .table > tbody > tr > td.calendar-hour-column {\n            padding-left: 0;\n            padding-right: 0;\n            vertical-align: middle;\n        }\n\n        @media (max-width: 750px) {\n            .dayview-allday-label, .calendar-hour-column {\n                width: 31px;\n                font-size: 12px;\n            }\n\n            .dayview-allday-label {\n                padding-top: 4px;\n            }\n\n            .table > tbody > tr > td.calendar-hour-column {\n                padding-left: 0;\n                padding-right: 0;\n                vertical-align: middle;\n                line-height: 12px;\n            }\n\n            .dayview-allday-label {\n                line-height: 20px;\n            }\n\n            .dayview-allday-content-wrapper {\n                margin-left: 31px;\n            }\n\n            [dir="rtl"] .dayview-allday-content-wrapper {\n                margin-left: 0;\n                margin-right: 31px;\n            }\n        }\n    '],encapsulation:2}),on),wn=function(e){return e[e.QuarterHour=15]="QuarterHour",e[e.HalfHour=30]="HalfHour",e[e.Hour=60]="Hour",e}({}),yn=((dn=function(){function e(t,n){_classCallCheck(this,e),this.calendarService=t,this.appLocale=n,this.eventSource=[],this.calendarMode="month",this.formatDay="d",this.formatDayHeader="EEE",this.formatDayTitle="MMMM dd, yyyy",this.formatWeekTitle="MMMM yyyy, 'Week' w",this.formatMonthTitle="MMMM yyyy",this.formatWeekViewDayHeader="EEE d",this.formatHourColumn="ha",this.showEventDetail=!0,this.startingDayMonth=0,this.startingDayWeek=0,this.allDayLabel="all day",this.noEventsLabel="No Events",this.queryMode="local",this.step=wn.Hour,this.timeInterval=60,this.autoSelect=!0,this.dir="",this.scrollToHour=0,this.preserveScrollPosition=!1,this.lockSwipeToPrev=!1,this.lockSwipes=!1,this.locale="",this.startHour=0,this.endHour=24,this.onCurrentDateChanged=new o.p,this.onRangeChanged=new o.p,this.onEventSelected=new o.p,this.onTimeSelected=new o.p,this.onTitleChanged=new o.p,this.hourParts=1,this.hourSegments=1,this.locale=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.autoSelect&&(this.autoSelect="false"!==this.autoSelect.toString()),this.hourSegments=60/this.timeInterval,this.hourParts=60/this.step,this.hourParts=this.hourParts<=this.hourSegments?1:this.hourParts/this.hourSegments,this.startHour=parseInt(this.startHour.toString()),this.endHour=parseInt(this.endHour.toString()),this.calendarService.queryMode=this.queryMode,this.currentDateChangedFromChildrenSubscription=this.calendarService.currentDateChangedFromChildren$.subscribe((function(t){e._currentDate=t,e.onCurrentDateChanged.emit(t)}))}},{key:"ngOnDestroy",value:function(){this.currentDateChangedFromChildrenSubscription&&(this.currentDateChangedFromChildrenSubscription.unsubscribe(),this.currentDateChangedFromChildrenSubscription=null)}},{key:"rangeChanged",value:function(e){this.onRangeChanged.emit(e)}},{key:"eventSelected",value:function(e){this.onEventSelected.emit(e)}},{key:"timeSelected",value:function(e){this.onTimeSelected.emit(e)}},{key:"titleChanged",value:function(e){this.onTitleChanged.emit(e)}},{key:"loadEvents",value:function(){this.calendarService.loadEvents()}},{key:"slideNext",value:function(){this.calendarService.slide(1)}},{key:"slidePrev",value:function(){this.calendarService.slide(-1)}},{key:"currentDate",get:function(){return this._currentDate},set:function(e){e||(e=new Date),this._currentDate=e,this.calendarService.setCurrentDate(e,!0),this.onCurrentDateChanged.emit(this._currentDate)}}]),e}()).\u0275fac=function(e){return new(e||dn)(o.Vb(gn),o.Vb(o.z))},dn.\u0275cmp=o.Pb({type:dn,selectors:[["calendar"]],inputs:{eventSource:"eventSource",calendarMode:"calendarMode",formatDay:"formatDay",formatDayHeader:"formatDayHeader",formatDayTitle:"formatDayTitle",formatWeekTitle:"formatWeekTitle",formatMonthTitle:"formatMonthTitle",formatWeekViewDayHeader:"formatWeekViewDayHeader",formatHourColumn:"formatHourColumn",showEventDetail:"showEventDetail",startingDayMonth:"startingDayMonth",startingDayWeek:"startingDayWeek",allDayLabel:"allDayLabel",noEventsLabel:"noEventsLabel",queryMode:"queryMode",step:"step",timeInterval:"timeInterval",autoSelect:"autoSelect",dir:"dir",scrollToHour:"scrollToHour",preserveScrollPosition:"preserveScrollPosition",lockSwipeToPrev:"lockSwipeToPrev",lockSwipes:"lockSwipes",locale:"locale",startHour:"startHour",endHour:"endHour",currentDate:"currentDate",markDisabled:"markDisabled",monthviewDisplayEventTemplate:"monthviewDisplayEventTemplate",monthviewInactiveDisplayEventTemplate:"monthviewInactiveDisplayEventTemplate",monthviewEventDetailTemplate:"monthviewEventDetailTemplate",weekviewHeaderTemplate:"weekviewHeaderTemplate",weekviewAllDayEventTemplate:"weekviewAllDayEventTemplate",weekviewNormalEventTemplate:"weekviewNormalEventTemplate",dayviewAllDayEventTemplate:"dayviewAllDayEventTemplate",dayviewNormalEventTemplate:"dayviewNormalEventTemplate",weekviewAllDayEventSectionTemplate:"weekviewAllDayEventSectionTemplate",weekviewNormalEventSectionTemplate:"weekviewNormalEventSectionTemplate",dayviewAllDayEventSectionTemplate:"dayviewAllDayEventSectionTemplate",dayviewNormalEventSectionTemplate:"dayviewNormalEventSectionTemplate",weekviewInactiveAllDayEventSectionTemplate:"weekviewInactiveAllDayEventSectionTemplate",weekviewInactiveNormalEventSectionTemplate:"weekviewInactiveNormalEventSectionTemplate",dayviewInactiveAllDayEventSectionTemplate:"dayviewInactiveAllDayEventSectionTemplate",dayviewInactiveNormalEventSectionTemplate:"dayviewInactiveNormalEventSectionTemplate",dateFormatter:"dateFormatter",sliderOptions:"sliderOptions"},outputs:{onCurrentDateChanged:"onCurrentDateChanged",onRangeChanged:"onRangeChanged",onEventSelected:"onEventSelected",onTimeSelected:"onTimeSelected",onTitleChanged:"onTitleChanged"},features:[o.Hb([gn])],decls:24,vars:7,consts:[["monthviewDefaultDisplayEventTemplate",""],["monthviewDefaultEventDetailTemplate",""],["defaultWeekviewHeaderTemplate",""],["defaultAllDayEventTemplate",""],["defaultNormalEventTemplate",""],["defaultWeekViewAllDayEventSectionTemplate",""],["defaultDayViewAllDayEventSectionTemplate",""],["defaultNormalEventSectionTemplate",""],["defaultInactiveAllDayEventSectionTemplate",""],["defaultInactiveNormalEventSectionTemplate",""],[3,"ngSwitch"],[3,"formatDay","formatDayHeader","formatMonthTitle","startingDayMonth","showEventDetail","noEventsLabel","autoSelect","eventSource","markDisabled","monthviewDisplayEventTemplate","monthviewInactiveDisplayEventTemplate","monthviewEventDetailTemplate","locale","dateFormatter","dir","lockSwipeToPrev","lockSwipes","sliderOptions","onRangeChanged","onEventSelected","onTimeSelected","onTitleChanged",4,"ngSwitchCase"],[3,"formatWeekTitle","formatWeekViewDayHeader","formatHourColumn","startingDayWeek","allDayLabel","hourParts","autoSelect","hourSegments","eventSource","markDisabled","weekviewHeaderTemplate","weekviewAllDayEventTemplate","weekviewNormalEventTemplate","weekviewAllDayEventSectionTemplate","weekviewNormalEventSectionTemplate","weekviewInactiveAllDayEventSectionTemplate","weekviewInactiveNormalEventSectionTemplate","locale","dateFormatter","dir","scrollToHour","preserveScrollPosition","lockSwipeToPrev","lockSwipes","startHour","endHour","sliderOptions","onRangeChanged","onEventSelected","onTimeSelected","onTitleChanged",4,"ngSwitchCase"],[3,"formatDayTitle","formatHourColumn","allDayLabel","hourParts","hourSegments","eventSource","markDisabled","dayviewAllDayEventTemplate","dayviewNormalEventTemplate","dayviewAllDayEventSectionTemplate","dayviewNormalEventSectionTemplate","dayviewInactiveAllDayEventSectionTemplate","dayviewInactiveNormalEventSectionTemplate","locale","dateFormatter","dir","scrollToHour","preserveScrollPosition","lockSwipeToPrev","lockSwipes","startHour","endHour","sliderOptions","onRangeChanged","onEventSelected","onTimeSelected","onTitleChanged",4,"ngSwitchCase"],["class","event-detail-container","has-bouncing","false","overflow-scroll","false",4,"ngIf"],["has-bouncing","false","overflow-scroll","false",1,"event-detail-container"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],["class","monthview-eventdetail-timecolumn",4,"ngIf"],[1,"event-detail"],[1,"monthview-eventdetail-timecolumn"],[1,"no-events-label"],[1,"calendar-event-inner"],[3,"ngClass","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],["class","calendar-event","tappable","",3,"ngStyle","click",4,"ngFor","ngForOf"],["tappable","",1,"calendar-event",3,"ngStyle","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"formatDay","formatDayHeader","formatMonthTitle","startingDayMonth","showEventDetail","noEventsLabel","autoSelect","eventSource","markDisabled","monthviewDisplayEventTemplate","monthviewInactiveDisplayEventTemplate","monthviewEventDetailTemplate","locale","dateFormatter","dir","lockSwipeToPrev","lockSwipes","sliderOptions","onRangeChanged","onEventSelected","onTimeSelected","onTitleChanged"],[3,"formatWeekTitle","formatWeekViewDayHeader","formatHourColumn","startingDayWeek","allDayLabel","hourParts","autoSelect","hourSegments","eventSource","markDisabled","weekviewHeaderTemplate","weekviewAllDayEventTemplate","weekviewNormalEventTemplate","weekviewAllDayEventSectionTemplate","weekviewNormalEventSectionTemplate","weekviewInactiveAllDayEventSectionTemplate","weekviewInactiveNormalEventSectionTemplate","locale","dateFormatter","dir","scrollToHour","preserveScrollPosition","lockSwipeToPrev","lockSwipes","startHour","endHour","sliderOptions","onRangeChanged","onEventSelected","onTimeSelected","onTitleChanged"],[3,"formatDayTitle","formatHourColumn","allDayLabel","hourParts","hourSegments","eventSource","markDisabled","dayviewAllDayEventTemplate","dayviewNormalEventTemplate","dayviewAllDayEventSectionTemplate","dayviewNormalEventSectionTemplate","dayviewInactiveAllDayEventSectionTemplate","dayviewInactiveNormalEventSectionTemplate","locale","dateFormatter","dir","scrollToHour","preserveScrollPosition","lockSwipeToPrev","lockSwipes","startHour","endHour","sliderOptions","onRangeChanged","onEventSelected","onTimeSelected","onTitleChanged"]],template:function(e,t){1&e&&(o.Oc(0,Ct,1,1,"ng-template",null,0,o.Pc),o.Oc(2,xt,1,1,"ng-template",null,1,o.Pc),o.Oc(4,Mt,1,1,"ng-template",null,2,o.Pc),o.Oc(6,Ht,2,1,"ng-template",null,3,o.Pc),o.Oc(8,Ft,2,1,"ng-template",null,4,o.Pc),o.Oc(10,$t,1,1,"ng-template",null,5,o.Pc),o.Oc(12,Qt,1,1,"ng-template",null,6,o.Pc),o.Oc(14,qt,1,1,"ng-template",null,7,o.Pc),o.Oc(16,Gt,0,0,"ng-template",null,8,o.Pc),o.Oc(18,Xt,0,0,"ng-template",null,9,o.Pc),o.bc(20,"div",10),o.Oc(21,Jt,1,18,"monthview",11),o.Oc(22,Kt,1,27,"weekview",12),o.Oc(23,Zt,1,23,"dayview",13),o.ac()),2&e&&(o.Ib(20),o.Lb("",t.calendarMode,"view-container"),o.uc("ngSwitch",t.calendarMode),o.Ib(1),o.uc("ngSwitchCase","month"),o.Ib(1),o.uc("ngSwitchCase","week"),o.Ib(1),o.uc("ngSwitchCase","day"))},directives:[a.o,a.p,a.m,r.G,a.l,r.E,a.k,a.n,a.r,fn,bn,pn],pipes:[a.f],styles:["[_nghost-%COMP%]    > div[_ngcontent-%COMP%] { height: 100%; }\n\n        .event-detail-container[_ngcontent-%COMP%] {\n          border-top: 2px darkgrey solid;\n        }\n\n        .no-events-label[_ngcontent-%COMP%] {\n          font-weight: bold;\n          color: darkgrey;\n          text-align: center;\n        }\n\n        .event-detail[_ngcontent-%COMP%] {\n          cursor: pointer;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n        }\n\n        .monthview-eventdetail-timecolumn[_ngcontent-%COMP%] {\n          width: 110px;\n          overflow: hidden;\n        }\n\n        .calendar-event-inner[_ngcontent-%COMP%] {\n          overflow: hidden;\n          background-color: #3a87ad;\n          color: white;\n          height: 100%;\n          width: 100%;\n          padding: 2px;\n          line-height: 15px;\n          text-align: initial;\n        }\n\n        @media (max-width: 750px) {\n          .calendar-event-inner[_ngcontent-%COMP%] {\n            font-size: 12px;\n          }\n        }"]}),dn),Tn=((sn=function(){function e(t){_classCallCheck(this,e),this.onScroll=new o.p,this.listenerAttached=!1,this.element=t}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=e.initPosition;if(t&&void 0!==t.currentValue&&this.scrollContent){var n=this;setTimeout((function(){n.scrollContent.scrollTop=t.currentValue}),0)}}},{key:"ngAfterViewInit",value:function(){var e=this.scrollContent=this.element.nativeElement.querySelector(".scroll-content");if(void 0!==this.initPosition&&(e.scrollTop=this.initPosition),this.emitEvent&&!this.listenerAttached){var t=this.onScroll;this.handler=function(){t.emit(e.scrollTop)},this.listenerAttached=!0,e.addEventListener("scroll",this.handler)}}},{key:"ngOnDestroy",value:function(){this.listenerAttached&&this.scrollContent.removeEventListener("scroll",this.handler)}}]),e}()).\u0275fac=function(e){return new(e||sn)(o.Vb(o.m))},sn.\u0275cmp=o.Pb({type:sn,selectors:[["init-position-scroll"]],inputs:{initPosition:"initPosition",emitEvent:"emitEvent"},outputs:{onScroll:"onScroll"},features:[o.Gb],ngContentSelectors:mn,decls:2,vars:0,consts:[[1,"scroll-content",2,"height","100%"]],template:function(e,t){1&e&&(o.tc(),o.bc(0,"div",0),o.sc(1),o.ac())},styles:["\n        .scroll-content {\n            overflow-y: auto;\n            overflow-x: hidden;\n        }        \n    "],encapsulation:2}),sn),Sn=((ln=function e(){_classCallCheck(this,e)}).\u0275mod=o.Tb({type:ln}),ln.\u0275inj=o.Sb({factory:function(e){return new(e||ln)},imports:[[r.eb,a.c]]}),ln),Dn=n("7Vn+"),Cn=n("3no8"),On=n("8rbx"),kn=n("VnPy"),In=[{path:"",component:(un=function(){function e(t,n,a,i,r){_classCallCheck(this,e),this.auth=t,this.loadingService=n,this.log=a,this.share=i,this.datePipe=r,this.eventSource=[],this.calendar={locale:"es",mode:"week",currentDate:new Date},this.targets=[],this.getToken()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getToken",value:function(){var e=this;this.auth.gettokenLog().then((function(t){e.token=t,e.getTargets()}))}},{key:"getTargets",value:function(){var e=this;this.loadingService.loadingPresent({spinner:"circles"}),this.auth.gettokenLog().then((function(t){e.log.logdataInfData(t).subscribe((function(t){e.userId=t.id,e.share.obtenerObhetivos(e.userId,e.token).subscribe((function(t){e.targets=t.data,e.loadEvents(),e.loadingService.loadingDismiss()}),(function(t){e.loadingService.loadingDismiss()}))}),(function(t){e.loadingService.loadingDismiss()}))}))}},{key:"loadEventsTargets",value:function(){var e=[];return this.targets.map((function(t){t.date&&e.push({title:t.achievement,startTime:new Date(t.date+" 00:00:00"),endTime:new Date(t.date+" 23:59:59")})})),e}},{key:"caledarNext",value:function(){this.myCal.slideNext()}},{key:"calendarBack",value:function(){this.myCal.slidePrev()}},{key:"calendarOnViewTitelChange",value:function(e){this.viewTitle=e}},{key:"loadEvents",value:function(){this.eventSource=this.loadEventsTargets()}},{key:"createRandomEvents",value:function(){for(var e=[],t=0;t<50;t+=1){var n,a,i=new Date,r=Math.floor(2*Math.random()),c=Math.floor(90*Math.random())-45,o=Math.floor(2*Math.random())+c;if(0===r)n=new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()+c)),o===c&&(o+=1),a=new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()+o)),e.push({title:"All Day - "+t,startTime:n,endTime:a,allDay:!0});else{var l=Math.floor(24*Math.random()*60),s=Math.floor(180*Math.random())+l;n=new Date(i.getFullYear(),i.getMonth(),i.getDate()+c,0,i.getMinutes()+l),a=new Date(i.getFullYear(),i.getMonth(),i.getDate()+o,0,i.getMinutes()+s),e.push({title:"Event - "+t,startTime:n,endTime:a,allDay:!1})}}return e}}]),e}(),un.\u0275fac=function(e){return new(e||un)(o.Vb(Dn.a),o.Vb(Cn.a),o.Vb(On.a),o.Vb(kn.a),o.Vb(a.f))},un.\u0275cmp=o.Pb({type:un,selectors:[["app-calendario"]],viewQuery:function(e,t){var n;1&e&&o.Wc(yn,!0),2&e&&o.Dc(n=o.kc())&&(t.myCal=n.first)},decls:35,vars:6,consts:[[1,"ion-toolbar-ccs"],["slot","start",2,"color","white"],["defaultHref","/users/perfil"],[1,"tituloInfo","logo"],[2,"color","white"],[3,"ngModel","ngModelChange"],["value","month"],[2,"font-size","16px"],["name","calendar-outline",2,"margin-right","5px","margin-top","3px","color","black"],[2,"color","black"],["value","week"],["value","day"],["name","today-outline",2,"margin-right","5px","margin-top","3px","color","black"],["size","2"],["fill","clear",3,"click"],["name","arrow-back","slot","icon-only"],["size","8",1,"ion-text-center"],["name","arrow-forward","slot","icon-only"],["allDayLabel","Todo el dia","noEventsLabel","No existen eventos",3,"eventSource","calendarMode","currentDate","locale","onTitleChanged"]],template:function(e,t){1&e&&(o.bc(0,"ion-header"),o.bc(1,"ion-toolbar",0),o.bc(2,"ion-buttons",1),o.Wb(3,"ion-back-button",2),o.ac(),o.bc(4,"ion-title",3),o.bc(5,"label",4),o.Qc(6,"MAGIN"),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(7,"ion-content"),o.bc(8,"ion-segment",5),o.jc("ngModelChange",(function(e){return t.calendar.mode=e})),o.bc(9,"ion-segment-button",6),o.bc(10,"div",7),o.Wb(11,"ion-icon",8),o.bc(12,"ion-label",9),o.Qc(13,"Mes"),o.ac(),o.ac(),o.ac(),o.bc(14,"ion-segment-button",10),o.bc(15,"div",7),o.Wb(16,"ion-icon",8),o.bc(17,"ion-label",9),o.Qc(18,"Semana"),o.ac(),o.ac(),o.ac(),o.bc(19,"ion-segment-button",11),o.bc(20,"div",7),o.Wb(21,"ion-icon",12),o.bc(22,"ion-label",9),o.Qc(23,"D\xeda"),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(24,"ion-row"),o.bc(25,"ion-col",13),o.bc(26,"ion-button",14),o.jc("click",(function(){return t.calendarBack()})),o.Wb(27,"ion-icon",15),o.ac(),o.ac(),o.bc(28,"ion-col",16),o.bc(29,"h2"),o.Qc(30),o.ac(),o.ac(),o.bc(31,"ion-col",13),o.bc(32,"ion-button",14),o.jc("click",(function(){return t.caledarNext()})),o.Wb(33,"ion-icon",17),o.ac(),o.ac(),o.ac(),o.bc(34,"calendar",18),o.jc("onTitleChanged",(function(e){return t.calendarOnViewTitelChange(e)})),o.ac(),o.ac()),2&e&&(o.Ib(8),o.uc("ngModel",t.calendar.mode),o.Ib(22),o.Rc(t.viewTitle),o.Ib(4),o.uc("eventSource",t.eventSource)("calendarMode",t.calendar.mode)("currentDate",t.calendar.currentDate)("locale",t.calendar.locale))},directives:[r.y,r.db,r.k,r.g,r.h,r.cb,r.s,r.R,r.ob,i.p,i.s,r.S,r.z,r.F,r.P,r.r,r.j,yn],styles:[".btn-add-event[_ngcontent-%COMP%]{-moz-text-align-last:center;text-align-last:center;padding:10px 0;border-bottom:1px solid #c5c5c5;border-top:1px solid #cecece}"]}),un)}],En=((hn=function e(){_classCallCheck(this,e)}).\u0275mod=o.Tb({type:hn}),hn.\u0275inj=o.Sb({factory:function(e){return new(e||hn)},imports:[[c.j.forChild(In)],c.j]}),hn),Pn=((vn=function e(){_classCallCheck(this,e)}).\u0275mod=o.Tb({type:vn}),vn.\u0275inj=o.Sb({factory:function(e){return new(e||vn)},providers:[a.f],imports:[[a.c,i.k,r.eb,En,Sn]]}),vn)}}]);